# Release Notes - Version 1.9.0
## Omeda WordPress Integration Plugin

**Release Date:** October 29, 2025  
**Version:** 1.9.0  
**Type:** Minor Release (New Features)

---

## üéØ What's New

### Deployment Name Formats
Configure how your email deployments are named in Omeda using WordPress variables. Create consistent, descriptive names that match your organization's conventions.

**Example:**
```
Format: {site_name} Newsletter - {post_date_F} {post_date_Y}
Result: My Website Newsletter - October 2025
```

### Campaign ID Formats
Generate predictable campaign IDs for better tracking and analytics integration. Use WordPress data to create meaningful identifiers.

**Example:**
```
Format: campaign-{post_id}-{post_date_ymd}
Result: campaign-112-20251029
```

### Per-Post Overrides
Need a special deployment name for an important campaign? Override the default format on any individual post while keeping the benefits of automated formatting for regular posts.

### New WordPress Variables
- `{post_id}` - Numeric post ID
- `{post_slug}` - URL-friendly slug
- `{post_date_ymd}` - Compact date format (YYYYMMDD)

Plus 19 other existing variables for comprehensive customization.

---

## üí° Why This Matters

### Before Version 1.9.0
```
Deployment Name: My Post Title
Campaign ID: (auto-generated by Omeda)
```
- ‚ùå No consistency across deployments
- ‚ùå Hard to identify deployment purpose
- ‚ùå No tracking of campaign IDs
- ‚ùå Manual naming required for special cases

### After Version 1.9.0
```
Deployment Name: Tech Newsletter - October 29, 2025 - New Features
Campaign ID: tech-20251029-112
```
- ‚úÖ Consistent naming convention
- ‚úÖ Easy to identify and organize
- ‚úÖ WordPress-controlled campaign tracking
- ‚úÖ Automatic with manual override option

---

## üöÄ Key Features

### 1. Variable-Based Formats
Configure once at the deployment type level, apply to all posts automatically.

**Available Variables:**
- Post info: title, ID, slug, date, excerpt
- Author info: name, first name, last name
- Site info: name, tagline
- Taxonomy: categories, tags
- 22 total variables with multiple date formats

### 2. Smart Placeholders
The UI shows exactly what will be generated before you save, preventing surprises.

```
Deployment Name: [                              ]
Placeholder: My Site - Halloween Special (20251029)
Description: Leave empty to use: {site_name} - {post_title} ({post_date_ymd})
```

### 3. Locked After Creation
Once a deployment is created, the name and ID are locked to prevent accidental changes that could break Omeda tracking.

### 4. Format Inheritance
- **Deployment Type** defines default formats
- **Individual Posts** can override when needed
- **Clear hierarchy** prevents confusion
- **Backward compatible** - empty formats use post title

---

## üìã Common Use Cases

### Use Case 1: Weekly Newsletter
**Setup:** One deployment type for all weekly newsletters  
**Format:** `Weekly Update - {post_date_F} {post_date_d}, {post_date_Y}`  
**Result:** Consistent naming, easy archive organization

### Use Case 2: Product Announcements
**Setup:** Category-based deployment type  
**Format:** `[{category}] {post_title}`  
**Result:** Clear identification of announcement type

### Use Case 3: Multi-Author Blog
**Setup:** Author attribution in deployment name  
**Format:** `{author_name}: {post_title}`  
**Result:** Track which authors create which deployments

### Use Case 4: Campaign Tracking
**Setup:** Unique campaign IDs for analytics  
**Format:** `{post_date_ymd}-{post_id}`  
**Result:** Trackable, sortable campaign identifiers

---

## üõ†Ô∏è How to Implement

### Step 1: Configure Deployment Type (One Time)
1. Go to: `Omeda Integration ‚Üí Deployment Types`
2. Edit existing or create new deployment type
3. Enter Deployment Name Format: `{post_title} - {post_date}`
4. Enter Campaign ID Format: `campaign-{post_id}-{post_date_ymd}`
5. Save

### Step 2: Create Posts (Automatic)
1. Create new post/newsletter
2. Select deployment type
3. See placeholder showing what will be generated
4. Save draft
5. ‚úÖ Deployment created with formatted name

### Step 3: Override When Needed (Optional)
1. In special cases, enter custom values in format fields
2. Custom values override the configured format
3. Perfect for important campaigns requiring unique names

---

## üìä Technical Details

### Files Modified
- `class-omeda-deployment-types.php` - Added format fields
- `class-omeda-hooks.php` - Enhanced metabox UI
- `class-omeda-variable-parser.php` - New variables
- `class-omeda-workflow-manager.php` - Format processing
- `omeda-wp-integration.php` - Version bump
- `CHANGELOG.md` - Full version history

### Database Changes
- **No schema changes** - pure metadata addition
- Post meta: `_omeda_deployment_name` (override)
- Post meta: `_omeda_campaign_id` (override)
- Post meta: `deployment_name_format` (type config)
- Post meta: `campaign_id_format` (type config)

### API Integration
Formats are parsed and sent to Omeda API:
```json
{
  "DeploymentName": "Parsed or overridden value",
  "CampaignId": "Parsed or overridden value",
  ...
}
```

---

## ‚úÖ Compatibility

### Backward Compatibility
- ‚úÖ **100% backward compatible**
- ‚úÖ Existing deployments unaffected
- ‚úÖ Empty formats use post title (old behavior)
- ‚úÖ No migration required
- ‚úÖ Works with all existing features

### WordPress Compatibility
- ‚úÖ WordPress 5.8+
- ‚úÖ PHP 7.4+
- ‚úÖ Newsletter Glue integration maintained
- ‚úÖ All post types supported

### Omeda API Compatibility
- ‚úÖ Email Builder API
- ‚úÖ Deployment endpoints
- ‚úÖ Campaign ID support
- ‚úÖ All existing API calls work

---

## üìà Benefits Summary

### For Content Teams
- Consistent naming across all deployments
- Easy identification of campaign purpose
- Date-based organization built-in
- Author tracking in deployment names

### For Marketing Teams
- Predictable campaign IDs for analytics
- Better tracking across platforms
- URL-safe campaign identifiers
- Flexible naming for different campaigns

### For Developers
- Variable-based system is extensible
- Clean override pattern
- No breaking changes
- Well-documented codebase

### For Administrators
- Centralized format configuration
- Per-post override capability
- Smart placeholder system
- Clear UI documentation

---

## üß™ Testing

### Quality Assurance
- ‚úÖ All features tested in wp-env
- ‚úÖ Integration tests passed
- ‚úÖ Backward compatibility verified
- ‚úÖ Edge cases handled
- ‚úÖ Performance validated

### Test Coverage
- Configuration tests (deployment types)
- Creation tests (new posts)
- Variable parsing tests (all 22 variables)
- Override tests (custom values)
- Lock tests (readonly after creation)
- Integration tests (full workflow)

### Test Documentation
- Full test plan: `docs/TEST_PLAN_1.9.0.md`
- 9 test suites with 40+ test cases
- Acceptance criteria defined
- Regression tests included

---

## üìö Documentation

### User Documentation
- **Quick Reference:** `docs/QUICK_REFERENCE_FORMATS.md`
  - All variables with examples
  - Common format patterns
  - Troubleshooting guide
  
### Technical Documentation
- **Version Summary:** `docs/VERSION_1.9.0_SUMMARY.md`
  - Complete feature overview
  - Implementation details
  - API integration guide
  
- **Test Plan:** `docs/TEST_PLAN_1.9.0.md`
  - Comprehensive test scenarios
  - Acceptance criteria
  - Sign-off checklist
  
- **Changelog:** `CHANGELOG.md`
  - Version 1.9.0 entry
  - All changes documented
  - Migration notes included

---

## üîÑ Upgrade Instructions

### From Version 1.8.0 ‚Üí 1.9.0

#### Step 1: Backup (Recommended)
```bash
# Backup WordPress database
wp db export backup-before-1.9.0.sql

# Backup plugin files (if customized)
cp -r wp-content/plugins/omeda-newsletter-connector backup/
```

#### Step 2: Update Plugin
```bash
# Stop wp-env if running
npm run wp-env stop

# Update plugin files
# (Replace src/omeda-newsletter-connector with new version)

# Start wp-env
npm run wp-env start
```

#### Step 3: Verify
1. Check plugin version in admin: Should show 1.9.0
2. Test deployment type page loads correctly
3. Test post edit page loads correctly
4. Check workflow logs page works

#### Step 4: Configure (Optional)
1. Add formats to existing deployment types
2. Test with one new post
3. Verify format appears in Omeda
4. Roll out to team

### No Migration Required
- Existing deployments work unchanged
- New features are opt-in
- Configure at your own pace
- No urgency to update formats

---

## ‚ö†Ô∏è Important Notes

### Breaking Changes
**None** - This is a feature-addition release with full backward compatibility.

### Known Limitations
- Format changes only affect new posts (by design)
- Variables require post data to exist (e.g., author must be set)
- Campaign IDs should be URL-safe (letters, numbers, dashes)
- Very long formats may be truncated by Omeda API (keep under 100 chars)

### Security
- All user input sanitized
- Nonce verification on save
- Capability checks enforced
- No SQL injection risks
- XSS prevention maintained

---

## üéì Training Resources

### Video Tutorials (Coming Soon)
- Setting up deployment name formats
- Using WordPress variables effectively
- Overriding formats for special campaigns

### Written Guides Available Now
- Quick Reference Card: Common variables and examples
- Format Cookbook: 20+ real-world format patterns
- Troubleshooting Guide: Common issues and solutions

### Support
- Documentation: `/docs/` directory
- Workflow Logs: Check for errors
- Test Deployment Types: Safe testing environment

---

## üó∫Ô∏è Roadmap

### Version 1.10.0 (Planned)
- Content template system
- Enhanced scheduling controls
- Deployment analytics integration
- Bulk operations

### Version 2.0.0 (Future)
- Multi-brand support
- Custom field mapping
- Conditional variables (if/else logic)
- REST API endpoints

---

## üë• Credits

**Developer:** Josh Stogner  
**Version:** 1.9.0  
**Release Date:** October 29, 2025  
**Plugin:** Omeda WordPress Integration

---

## üìù Changelog Summary

### Added
- Deployment Name Format field (deployment types)
- Campaign ID Format field (deployment types)
- Deployment Name field with override (post edit)
- Campaign ID field with override (post edit)
- 3 new WordPress variables: {post_id}, {post_slug}, {post_date_ymd}
- Smart placeholder system showing parsed values
- Field locking after deployment creation

### Changed
- Deployment names now use configurable formats
- Campaign IDs now WordPress-controlled
- Variable parser enhanced with new variables
- Workflow manager uses format with override support

### Fixed
- (None - pure feature addition)

---

**Ready for Production** ‚úÖ  
**Tested and Documented** ‚úÖ  
**Backward Compatible** ‚úÖ  
**Deploy with Confidence** ‚úÖ

---

For questions or support, check the documentation in `/docs/` or review workflow logs in the WordPress admin.
