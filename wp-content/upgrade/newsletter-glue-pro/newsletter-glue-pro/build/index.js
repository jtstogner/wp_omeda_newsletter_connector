!function(){var e={963:function(){wp.domReady((()=>{nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&wp.blocks.setDefaultBlockName("newsletterglue/text")})),window.onload=function(){setTimeout((function(){wp.data.select("core/editor").isEditorPanelOpened("ng-newsletter-plugin/ng-newsletter-panel")||wp.data.dispatch("core/editor").toggleEditorPanelOpened("ng-newsletter-plugin/ng-newsletter-panel"),wp.data.select("core/editor").isEditorPanelOpened("ng-settings-plugin/ng-settings-panel")||wp.data.dispatch("core/editor").toggleEditorPanelOpened("ng-settings-plugin/ng-settings-panel")}),1e3)}},991:function(e,t){var n;!function(){"use strict";var l=function(){function e(){}function t(e,t){for(var n=t.length,l=0;l<n;++l)a(e,t[l])}e.prototype=Object.create(null);var n={}.hasOwnProperty,l=/\s+/;function a(e,a){if(a){var o=typeof a;"string"===o?function(e,t){for(var n=t.split(l),a=n.length,o=0;o<a;++o)e[n[o]]=!0}(e,a):Array.isArray(a)?t(e,a):"object"===o?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var l in t)n.call(t,l)&&(e[l]=!!t[l]);else e[t.toString()]=!0}(e,a):"number"===o&&function(e,t){e[t]=!0}(e,a)}}return function(){for(var n=arguments.length,l=Array(n),a=0;a<n;a++)l[a]=arguments[a];var o=new e;t(o,l);var i=[];for(var r in o)o[r]&&i.push(r);return i.join(" ")}}();e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()},184:function(e,t){var n;!function(){"use strict";var l={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var r in n)l.call(n,r)&&n[r]&&e.push(r)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},679:function(e,t,n){"use strict";var l=n(296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function s(e){return l.isMemo(e)?i:r[e.$$typeof]||a}r[l.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[l.Memo]=i;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,l){if("string"!=typeof n){if(p){var a=g(n);a&&a!==p&&e(t,a,l)}var i=u(n);d&&(i=i.concat(d(n)));for(var r=s(t),h=s(n),b=0;b<i.length;++b){var _=i[b];if(!(o[_]||l&&l[_]||h&&h[_]||r&&r[_])){var f=m(n,_);try{c(t,_,f)}catch(e){}}}}return t}},103:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,l=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,r=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,f=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case l:switch(e=e.type){case u:case d:case o:case r:case i:case g:return e;default:switch(e=e&&e.$$typeof){case c:case m:case b:case h:case s:return e;default:return t}}case a:return t}}}function E(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=s,t.Element=l,t.ForwardRef=m,t.Fragment=o,t.Lazy=b,t.Memo=h,t.Portal=a,t.Profiler=r,t.StrictMode=i,t.Suspense=g,t.isAsyncMode=function(e){return E(e)||w(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===l},t.isForwardRef=function(e){return w(e)===m},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===b},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===r},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===g},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===r||e===i||e===g||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===h||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===f||e.$$typeof===v||e.$$typeof===y||e.$$typeof===_)},t.typeOf=w},296:function(e,t,n){"use strict";e.exports=n(103)},779:function(e,t,n){var l=n(173);e.exports=function e(t,n,a){return l(n)||(a=n||a,n=[]),a=a||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var l=0;l<n.length;l++)t.push({name:l,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(t,n):l(t)?function(t,n,l){for(var a=[],o=0;o<t.length;o++)a.push(e(t[o],n,l).source);return u(new RegExp("(?:"+a.join("|")+")",d(l)),n)}(t,n,a):function(e,t,n){return m(o(e,n),t,n)}(t,n,a)},e.exports.parse=o,e.exports.compile=function(e,t){return r(o(e,t),t)},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=m;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,l=[],o=0,i=0,r="",u=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],m=n[1],g=n.index;if(r+=e.slice(i,g),i=g+d.length,m)r+=m[1];else{var p=e[i],h=n[2],b=n[3],_=n[4],f=n[5],v=n[6],y=n[7];r&&(l.push(r),r="");var w=null!=h&&null!=p&&p!==h,E="+"===v||"*"===v,k="?"===v||"*"===v,x=n[2]||u,C=_||f;l.push({name:b||o++,prefix:h||"",delimiter:x,optional:k,repeat:E,partial:w,asterisk:!!y,pattern:C?c(C):y?".*":"[^"+s(x)+"]+?"})}}return i<e.length&&(r+=e.substr(i)),r&&l.push(r),l}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function r(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"==typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",d(t)));return function(t,a){for(var o="",r=t||{},s=(a||{}).pretty?i:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var d,m=r[u.name];if(null==m){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(l(m)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(m)+"`");if(0===m.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var g=0;g<m.length;g++){if(d=s(m[g]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===g?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(m).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(m),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function m(e,t,n){l(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",r=0;r<e.length;r++){var c=e[r];if("string"==typeof c)i+=s(c);else{var m=s(c.prefix),g="(?:"+c.pattern+")";t.push(c),c.repeat&&(g+="(?:"+m+g+")*"),i+=g=c.optional?c.partial?m+"("+g+")?":"(?:"+m+"("+g+"))?":m+"("+g+")"}}var p=s(n.delimiter||"/"),h=i.slice(-p.length)===p;return a||(i=(h?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=o?"$":a&&h?"":"(?="+p+"|$)",u(new RegExp("^"+i,d(n)),t)}},173:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},703:function(e,t,n){"use strict";var l=n(414);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==l){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},745:function(e,t,n){"use strict";var l=n(850);t.s=l.createRoot,l.hydrateRoot},639:function(e,t,n){"use strict";var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),o=n(196),i=s(o),r=s(n(697));function s(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},m=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),g=function(){return m?"_"+Math.random().toString(36).substr(2,12):void 0},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||g(),prevId:e.id},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||g(),prevId:n}:null}}]),a(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(d(e,this.sizer),this.placeHolderSizer&&d(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return m&&e?i.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=l({},this.props.style);t.display||(t.display="inline-block");var n=l({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=function(e,t){var n={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(n[l]=e[l]);return n}(this.props,[]);return function(e){u.forEach((function(t){return delete e[t]}))}(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=n,i.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement("input",l({},a,{ref:this.inputRef})),i.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?i.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(o.Component);p.propTypes={className:r.default.string,defaultValue:r.default.any,extraWidth:r.default.oneOfType([r.default.number,r.default.string]),id:r.default.string,injectStyles:r.default.bool,inputClassName:r.default.string,inputRef:r.default.func,inputStyle:r.default.object,minWidth:r.default.oneOfType([r.default.number,r.default.string]),onAutosize:r.default.func,onChange:r.default.func,placeholder:r.default.string,placeholderIsMinWidth:r.default.bool,style:r.default.object,value:r.default.any},p.defaultProps={minWidth:1,injectStyles:!0},t.Z=p},86:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},663:function(e,t,n){"use strict";n(86)},196:function(e){"use strict";e.exports=window.React},850:function(e){"use strict";e.exports=window.ReactDOM}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=n(196),l=n.n(t),a=window.wp.apiFetch,o=n.n(a),i=window.wp.i18n,r=n(745),s=window.wp.components;class c extends e.Component{constructor(e){super(e),this.openModal=this.openModal.bind(this),this.closeModal=this.closeModal.bind(this),this.state={isOpen:!1,searchQuery:"",filters:nglue_backend.template_categories,catID:0,catName:"",searchCount:0,apiFetched:!1,isSearching:!0,results:"",previews:""}}openModal(){this.setState({isOpen:!0})}closeModal(){this.setState({isOpen:!1})}componentDidUpdate(){const{isOpen:e,catID:t,searchQuery:n,isSearching:l}=this.state;e&&l&&o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_templates?automations_only=1&category_id="+t+"&query="+n,method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{this.setState({isSearching:!1,apiFetched:!0,results:e.results,searchCount:e.count,previews:e.previews})}))}render(){const{isOpen:t,searchQuery:n,filters:l,catID:a,searchCount:o,apiFetched:r,isSearching:c,results:u,catName:d}=this.state;var m=[];for(var g in l){var p=l[g];m.push((0,e.createElement)(s.MenuItem,{key:`nglue-filter-${p.id}`,isPressed:a==p.id,"data-category":p.id,"data-name":p.name,onClick:e=>{var t=e.target;if(t.getAttribute("data-category")||(t=e.target.parentNode).getAttribute("data-category")||(t=e.target.parentNode.parentNode),"false"==t.getAttribute("aria-pressed")){var n=t.getAttribute("data-category"),l=t.getAttribute("data-name");this.setState({catID:n,catName:l,isSearching:!0})}}},p.name,(0,e.createElement)("span",null,p.count)))}var h=[];return!r||c?(h.push((0,e.createElement)("div",{key:"ngl-placeholder-1"},(0,e.createElement)("div",{className:"ngl-template-placeholder-2",style:{width:"50%"}}))),h.push((0,e.createElement)("div",{key:"ngl-placeholder-2"},(0,e.createElement)("div",{className:"ngl-template-placeholder-2",style:{width:"40%"}}))),h.push((0,e.createElement)("div",{key:"ngl-placeholder-3"},(0,e.createElement)("div",{className:"ngl-template-placeholder-2",style:{width:"30%"}})))):u&&u.map(((t,n)=>{h.push((0,e.createElement)("div",{key:`ngl-placeholder-${n}`,className:"ngl-template-result","data-url":nglue_backend.newsletter_url+"&template_id="+t.ID,onClick:e=>{window.location.href=e.target.closest(".ngl-template-result").getAttribute("data-url")}},(0,e.createElement)("div",{className:"ngl-template-placeholder-2"},t.post_title,nglue_backend.default_template==t.ID&&(0,e.createElement)("span",null,(0,i.__)("Default","newsletter-glue")))))})),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"page-title-action",onClick:this.openModal},(0,i.__)("Add Automation","newsletter-glue")),t&&(0,e.createElement)(s.Modal,{title:(0,i.__)("Automations Template Library","newsletter-glue"),onRequestClose:this.closeModal,isFullScreen:!1,shouldCloseOnEsc:!1,className:"ngl-template-inserter-block",size:"large"},(0,e.createElement)("div",{className:"ngl-template-inserter"+(n?" is-searching":"")},(0,e.createElement)("div",{className:"ngl-template__sidebar"},(0,e.createElement)("div",{className:"ngl-template__sidebar__search"},(0,e.createElement)(s.SearchControl,{value:n,onChange:e=>{this.setState({searchQuery:e,isSearching:!0})}})),(0,e.createElement)(s.MenuGroup,{label:(0,i.__)("Browse by category","newsletter-glue"),className:"ngl-template__sidebar__category"},m)),(0,e.createElement)("div",{className:"ngl-template__content"},n&&!c&&(0,e.createElement)("div",{className:"ngl-template__content-header"},(0,e.createElement)("div",{className:"search-results"},`${o} search result${1==o?"":"s"} for "${n}"${a?" in "+d:""}`)),(0,e.createElement)("div",{className:"ngl-template__content-grid"},(0,e.createElement)("div",{className:"ngl-template__list"},h))))))}}var u=document.getElementById("ngl_automation_select");function d(n){const[l,a]=(0,t.useState)(n.status);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.ToggleControl,{label:!1,checked:"on"===l,onChange:e=>{!function(e){a(e?"on":"off");const t={id:n.id,status:e?"on":"off"};o()({path:"newsletterglue/"+nglue_backend.api_version+"/update_automation_status",method:"post",data:t,headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{"off"==e.status?jQuery(".ngl-next-run[data-id="+n.id+"]").hide():jQuery(".ngl-next-run[data-id="+n.id+"]").show()}))}(e)}}))}u&&(0,r.s)(u).render((0,e.createElement)(c,null)),document.querySelectorAll(".ngl-automation-status").forEach((t=>{(0,r.s)(t).render((0,e.createElement)(d,{id:t.getAttribute("data-id"),status:t.getAttribute("data-status")}))}));class m extends e.Component{constructor(e){super(e)}render(){const{isMobile:t}=this.props.getState;let n=t?this.props.getState.theme_m:this.props.getState.theme_r;var l=nglue_backend.font_names[n.font],a=isNaN(n.h1_size)?n.h1_size.replace("px",""):n.h1_size,o=isNaN(n.h2_size)?n.h2_size.replace("px",""):n.h2_size,i=isNaN(n.h3_size)?n.h3_size.replace("px",""):n.h3_size,r=isNaN(n.h4_size)?n.h4_size.replace("px",""):n.h4_size,s=isNaN(n.h5_size)?n.h5_size.replace("px",""):n.h5_size,c=isNaN(n.h6_size)?n.h6_size.replace("px",""):n.h6_size;return(0,e.createElement)("div",{className:"editor-visual-editor"},(0,e.createElement)("div",{className:"editor-visual-editor__content-area",style:{fontFamily:l,backgroundColor:n.email_bg,paddingTop:n.container_margin1,paddingBottom:n.container_margin2}},(0,e.createElement)("div",{className:"ngl-email-preview-wrap "+(t?"is-mobile-view":"is-desktop-view"),style:{backgroundColor:n.email_bg}},(0,e.createElement)("div",{className:"ngl-email-preview",style:{paddingLeft:"20px",paddingRight:"20px",paddingBottom:n.container_padding2,paddingTop:n.container_padding1,backgroundColor:n.container_bg}},(0,e.createElement)("h1",{style:{fontSize:a+"px",color:n.h1_colour,fontFamily:nglue_backend.font_names[n.h1_font]}},"H1: On the Ning Nang Nong"),(0,e.createElement)("h2",{style:{fontSize:o+"px",color:n.h2_colour,fontFamily:nglue_backend.font_names[n.h2_font]}},"H2: Where the Cows go Bong!"),(0,e.createElement)("h3",{style:{fontSize:i+"px",color:n.h3_colour,fontFamily:nglue_backend.font_names[n.h3_font]}},"H3: and the monkeys all say BOO!"),(0,e.createElement)("h4",{style:{fontSize:r+"px",color:n.h4_colour,fontFamily:nglue_backend.font_names[n.h4_font]}},"H4: There is a Nong Nang Ning"),(0,e.createElement)("h5",{style:{fontSize:s+"px",color:n.h5_colour,fontFamily:nglue_backend.font_names[n.h5_font]}},"H5: Where the trees go Ping!"),(0,e.createElement)("h6",{style:{fontSize:c+"px",color:n.h6_colour,fontFamily:nglue_backend.font_names[n.h6_font]}},"H6: And the tea pots jibber jabber joo."),(0,e.createElement)("p",{style:{fontSize:n.p_size+"px",color:n.p_colour,fontFamily:nglue_backend.font_names[n.p_font]}},"Paragraph: On the Nong Ning Nang",(0,e.createElement)("br",null),"All the mice go Clang",(0,e.createElement)("br",null),"And you just can not catch them when they do!",(0,e.createElement)("br",null),"So its Ning Nang Nong",(0,e.createElement)("br",null),"Cows go Bong!",(0,e.createElement)("br",null),"Nong Nang Ning",(0,e.createElement)("br",null),"Trees go ping",(0,e.createElement)("br",null),"Nong Ning Nang",(0,e.createElement)("br",null),"The mice go Clang",(0,e.createElement)("br",null),"What a noisy place to belong",(0,e.createElement)("br",null),"is the Ning Nang Ning Nang Nong!!",(0,e.createElement)("br",null),(0,e.createElement)("a",{href:"#",style:{color:n.a_colour}},"On the Ning Nang Nong, Spike Milligan")),(0,e.createElement)("p",{style:{paddingTop:"30px",paddingBottom:"15px"}},(0,e.createElement)("a",{href:"#",className:"wp-block-button__link",style:{backgroundColor:n.btn_bg,borderRadius:parseInt(n.btn_radius)+"px",borderWidth:"1px",borderStyle:"solid",borderColor:n.btn_border,color:n.btn_colour,minWidth:n.btn_width+"px",fontFamily:nglue_backend.font_names[n.p_font]}},"Read more"))))))}}class g extends e.Component{constructor(e){super(e)}render(){const{path:t,title:n}=this.props,{isMobile:l,theme_m:a,theme_r:o}=this.props.getState;let i=l?a:o;return(0,e.createElement)(s.__experimentalNavigatorScreen,{path:t,className:"edit-site-global-styles-sidebar__navigator-screen"},(0,e.createElement)(s.__experimentalVStack,null,(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)("div",null,(0,e.createElement)(s.__experimentalNavigatorBackButton,{icon:(0,e.createElement)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"edit-site-global-styles-icon-with-current-color","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}))})),(0,e.createElement)(s.FlexItem,null,(0,e.createElement)(s.__experimentalHeading,{level:5},n)))),(0,e.createElement)(s.PanelBody,{className:"edit-site-typography-panel"},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.RangeControl,{label:"Size",value:parseInt(i.btn_width),onChange:e=>{e?this.props.handleChange("setAttr","btn_width",e):this.props.handleChange("setAttr","btn_width",150)},min:50,max:560,allowReset:!0,resetFallbackValue:150})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.RangeControl,{label:"Border radius",value:parseInt(i.btn_radius),onChange:e=>{e?this.props.handleChange("globalAttr","btn_radius",e):this.props.handleChange("globalAttr","btn_radius",0)},min:0,max:50,allowReset:!0,resetFallbackValue:0}))),(0,e.createElement)("div",{className:"edit-site-global-styles-screen-colors"},(0,e.createElement)(s.__experimentalVStack,null,(0,e.createElement)(s.__experimentalHeading,{level:2,className:"edit-site-global-styles-subtitle"},"Customize colors"),(0,e.createElement)(s.__experimentalItemGroup,{className:"nglue-group"},(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/colors/button/background"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.Flex,{className:"edit-site-global-styles__color-indicator-wrapper"},(0,e.createElement)(s.ColorIndicator,{colorValue:i.btn_bg})),(0,e.createElement)(s.FlexItem,null,"Background")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/colors/button/text"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.Flex,{className:"edit-site-global-styles__color-indicator-wrapper"},(0,e.createElement)(s.ColorIndicator,{colorValue:i.btn_colour})),(0,e.createElement)(s.FlexItem,null,"Text")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/colors/button/border"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.Flex,{className:"edit-site-global-styles__color-indicator-wrapper"},(0,e.createElement)(s.ColorIndicator,{colorValue:i.btn_border})),(0,e.createElement)(s.FlexItem,null,"Border"))))))))}}var p=window.wp.blockEditor;class h extends e.Component{constructor(e){super(e)}render(){const{path:t,title:n,description:l}=this.props,{isMobile:a,theme_m:o,theme_r:i,ngColors:r,quickstyle:c}=this.props.getState;let u=a?o:i;const d=this.props.id,m=nglue_backend.themeColors?nglue_backend.themeColors:null;return(0,e.createElement)(s.__experimentalNavigatorScreen,{path:t,className:"edit-site-global-styles-sidebar__navigator-screen"},(0,e.createElement)(s.__experimentalVStack,null,(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)("div",null,(0,e.createElement)(s.__experimentalNavigatorBackButton,{icon:(0,e.createElement)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"edit-site-global-styles-icon-with-current-color","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}))})),(0,e.createElement)(s.FlexItem,null,(0,e.createElement)(s.__experimentalHeading,{level:5},n))),(0,e.createElement)("p",{className:"edit-site-global-styles-header__description"},l)),(0,e.createElement)(s.PanelBody,{className:"edit-site-typography-panel"},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:u[d],colors:[],gradients:[],onColorChange:e=>{this.props.handleChange("emailColor",d,e)},clearable:!1,disableCustomColors:!1}),m&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Site theme"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:u[d],colors:m,gradients:[],onColorChange:e=>{this.props.handleChange("emailColor",d,e)},clearable:!1,disableCustomColors:!0})),(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Newsletter style"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:u[d],colors:r[c],gradients:[],onColorChange:e=>{this.props.handleChange("emailColor",d,e)},clearable:!1,disableCustomColors:!0}))))}}class b extends e.Component{constructor(e){super(e)}render(){const{path:t,title:n,description:l}=this.props;return(0,e.createElement)(s.__experimentalNavigatorScreen,{path:t,className:"edit-site-global-styles-sidebar__navigator-screen"},(0,e.createElement)(s.__experimentalVStack,null,(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)("div",null,(0,e.createElement)(s.__experimentalNavigatorBackButton,{icon:(0,e.createElement)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"edit-site-global-styles-icon-with-current-color","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}))})),(0,e.createElement)(s.FlexItem,null,(0,e.createElement)(s.__experimentalHeading,{level:5},n))),(0,e.createElement)("p",{className:"edit-site-global-styles-header__description"},l)),(0,e.createElement)(s.PanelBody,{className:"edit-site-typography-panel"},(0,e.createElement)(s.BaseControl,null)))}}class _ extends e.Component{constructor(e){super(e)}render(){const{path:t,title:n,description:l}=this.props,a=[{name:(0,i.__)("XSmall"),slug:"xsmall",size:12},{name:(0,i.__)("Small"),slug:"small",size:14},{name:(0,i.__)("Medium"),slug:"medium",size:16},{name:(0,i.__)("Large"),slug:"large",size:18},{name:(0,i.__)("XLarge"),slug:"xlarge",size:20}],{isMobile:o,theme_m:r,theme_r:c,ngColors:u,quickstyle:d}=this.props.getState;let m=o?r:c;const g=this.props.id,h=this.props.id+"_size",b=m[h+"_default"],_=m[h]?m[h]:b;let f,v,y,w,E,k;"h4"==this.props.id?(v="h5_size",f=m.h5_size_default,y=m[v]?m[v]:f,E="h6_size",f=m.h6_size_default,w=m[E]?m[E]:k):(v=null,f=null,y="",E=null,k=null,w="");const x=nglue_backend.themeColors?nglue_backend.themeColors:null;return(0,e.createElement)(s.__experimentalNavigatorScreen,{path:t,className:"edit-site-global-styles-sidebar__navigator-screen"},(0,e.createElement)(s.__experimentalVStack,null,(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)("div",null,(0,e.createElement)(s.__experimentalNavigatorBackButton,{icon:(0,e.createElement)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"edit-site-global-styles-icon-with-current-color","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}))})),(0,e.createElement)(s.FlexItem,null,(0,e.createElement)(s.__experimentalHeading,{level:5},n))),(0,e.createElement)("p",{className:"edit-site-global-styles-header__description"},l)),"a"!==this.props.id&&(0,e.createElement)(s.PanelBody,{title:"h4"===this.props.id&&"Heading 4",className:"edit-site-typography-panel"},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.SelectControl,{label:"Font family",value:m[g+"_font"]?m[g+"_font"]:m.font,options:nglue_backend.email_fonts,onChange:e=>{this.props.handleChange("fontFamily",g+"_font",e)}})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.FontSizePicker,{fontSizes:a,value:_,fallbackFontSize:b,onChange:e=>{e?this.props.handleChange("fontsize",h,e):this.props.handleChange("fontsize",h,b)}})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m[g+"_colour"],colors:[],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor",g+"_colour",e)},clearable:!1,disableCustomColors:!1}),x&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Site theme"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m[g+"_colour"],colors:x,gradients:[],onColorChange:e=>{this.props.handleChange("fontColor",g+"_colour",e)},clearable:!1,disableCustomColors:!0})),(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Newsletter style"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m[g+"_colour"],colors:u[d],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor",g+"_colour",e)},clearable:!1,disableCustomColors:!0}))),"a"===this.props.id&&(0,e.createElement)(s.PanelBody,{title:"h4"===this.props.id&&"Heading 4",className:"edit-site-typography-panel"},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m[g+"_colour"],colors:[],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor",g+"_colour",e)},clearable:!1,disableCustomColors:!1}),x&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Site theme"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m[g+"_colour"],colors:x,gradients:[],onColorChange:e=>{this.props.handleChange("fontColor",g+"_colour",e)},clearable:!1,disableCustomColors:!0})),(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Newsletter style"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m[g+"_colour"],colors:u[d],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor",g+"_colour",e)},clearable:!1,disableCustomColors:!0}))),"h4"===this.props.id&&"a"!==this.props.id&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:"Heading 5",className:"edit-site-typography-panel",initialOpen:!1},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.SelectControl,{label:"Font family",value:m.h5_font?m.h5_font:m.font,options:nglue_backend.email_fonts,onChange:e=>{this.props.handleChange("fontFamily","h5_font",e)}})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.FontSizePicker,{fontSizes:a,value:y,fallbackFontSize:f,onChange:e=>{e?this.props.handleChange("fontsize",v,e):this.props.handleChange("fontsize",v,f)}})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m.h5_colour,colors:[],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor","h5_colour",e)},clearable:!1,disableCustomColors:!1}),x&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Site theme"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m.h5_colour,colors:x,gradients:[],onColorChange:e=>{this.props.handleChange("fontColor","h5_colour",e)},clearable:!1,disableCustomColors:!0})),(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Newsletter style"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m.h5_colour,colors:u[d],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor","h5_colour",e)},clearable:!1,disableCustomColors:!0}))),(0,e.createElement)(s.PanelBody,{title:"Heading 6",className:"edit-site-typography-panel",initialOpen:!1},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.SelectControl,{label:"Font family",value:m.h6_font?m.h6_font:m.font,options:nglue_backend.email_fonts,onChange:e=>{this.props.handleChange("fontFamily","h6_font",e)}})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.FontSizePicker,{fontSizes:a,value:w,fallbackFontSize:k,onChange:e=>{e?this.props.handleChange("fontsize",E,e):this.props.handleChange("fontsize",E,k)}})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m.h6_colour,colors:[],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor","h6_colour",e)},clearable:!1,disableCustomColors:!1}),x&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Site theme"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m.h6_colour,colors:x,gradients:[],onColorChange:e=>{this.props.handleChange("fontColor","h6_colour",e)},clearable:!1,disableCustomColors:!0})),(0,e.createElement)(s.__experimentalHeading,{level:2,style:{fontSize:"11px",marginBottom:0,textTransform:"uppercase"}},"Newsletter style"),(0,e.createElement)(p.__experimentalColorGradientControl,{colorValue:m.h6_colour,colors:u[d],gradients:[],onColorChange:e=>{this.props.handleChange("fontColor","h6_colour",e)},clearable:!1,disableCustomColors:!0})))))}}class f extends e.Component{constructor(e){super(e)}render(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(_,{path:"/typography/h1",title:"Heading 1",id:"h1",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(_,{path:"/typography/h2",title:"Heading 2",id:"h2",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(_,{path:"/typography/h3",title:"Heading 3",id:"h3",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(_,{path:"/typography/h4",title:"Heading 4, 5, 6",id:"h4",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(_,{path:"/typography/paragraph",title:"Paragraph",id:"p",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(_,{path:"/typography/links",title:"Links",id:"a",getState:this.props.getState,handleChange:this.props.handleChange,description:"Set the default color used for links."}),(0,e.createElement)(g,{path:"/button",title:"Button",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(h,{path:"/colors/background",title:"Background",id:"email_bg",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(h,{path:"/colors/content",title:"Content area",id:"container_bg",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(h,{path:"/colors/button/background",title:"Button background",id:"btn_bg",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(h,{path:"/colors/button/text",title:"Button text",id:"btn_colour",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(h,{path:"/colors/button/border",title:"Button border",id:"btn_border",getState:this.props.getState,handleChange:this.props.handleChange}),(0,e.createElement)(b,{path:"/colors/palette",title:"Palette",getState:this.props.getState,handleChange:this.props.handleChange}))}}class v extends e.Component{constructor(e){super(e)}render(){const{isMobile:t}=this.props.getState;return(0,e.createElement)(s.Button,{variant:"secondary",onClick:()=>{this.props.handleChange("switchView")}},!t&&(0,i.__)("Switch to mobile view","newsletter-glue"),t&&(0,i.__)("Switch to desktop view","newsletter-glue"))}}class y extends e.Component{constructor(e){super(e),this.updateTheme=this.updateTheme.bind(this),this.handleChange=this.handleChange.bind(this),this.updateDimensions=this.updateDimensions.bind(this),this.ajaxSave=this.ajaxSave.bind(this),this.InlineSave=this.InlineSave.bind(this),this.resetTheme=this.resetTheme.bind(this),this.quickStyle=this.quickStyle.bind(this),this.hoverStyle=this.hoverStyle.bind(this),this.state={unsavedChanges:!1,theme_r:nglue_backend.theme_r,theme_m:nglue_backend.theme_m,isMobile:!1,customCSS:nglue_backend.custom_css,changes:[],isSaving:!1,currentStyle:0,hoveredStyle:0,quickstyle:nglue_backend.quickstyle,ngColors:nglue_backend.ngColors}}quickStyle(e,t){var n=[];let l=this.state.isMobile?this.state.theme_m:this.state.theme_r,a=this.state.theme_r,o=this.state.theme_m;var i=[];Object.keys(l.styles).forEach((function(t){t+1===e&&(i=l.styles[t])})),a.email_bg=i.bg,o.email_bg=i.bg,n.push({key:"email_bg",value:i.bg}),a.container_bg=i.content,o.container_bg=i.content,n.push({key:"container_bg",value:i.content}),a.btn_border=i.button,o.btn_border=i.button,n.push({key:"btn_border",value:i.button}),a.btn_bg=i.button,o.btn_bg=i.button,n.push({key:"btn_bg",value:i.button}),a.a_colour=i.button,o.a_colour=i.button,n.push({key:"a_colour",value:i.button}),i.font_h_s&&(a.h1_font=i.font_h_s,o.h1_font=i.font_h_s,a.h2_font=i.font_h_s,o.h2_font=i.font_h_s,a.h3_font=i.font_h_s,o.h3_font=i.font_h_s,a.h4_font=i.font_h_s,o.h4_font=i.font_h_s,a.h5_font=i.font_h_s,o.h5_font=i.font_h_s,a.h6_font=i.font_h_s,o.h6_font=i.font_h_s,n.push({key:"h1_font",value:i.font_h_s},{key:"h2_font",value:i.font_h_s},{key:"h3_font",value:i.font_h_s},{key:"h4_font",value:i.font_h_s},{key:"h5_font",value:i.font_h_s},{key:"h6_font",value:i.font_h_s})),i.font_p_s&&(a.p_font=i.font_p_s,o.p_font=i.font_p_s,n.push({key:"p_font",value:i.font_p_s})),a.h1_colour=i.heading,o.h1_colour=i.heading,a.h2_colour=i.heading,o.h2_colour=i.heading,a.h3_colour=i.heading,o.h3_colour=i.heading,a.h4_colour=i.heading,o.h4_colour=i.heading,a.h5_colour=i.heading,o.h5_colour=i.heading,a.h6_colour=i.heading,o.h6_colour=i.heading,n.push({key:"h1_colour",value:i.heading},{key:"h2_colour",value:i.heading},{key:"h3_colour",value:i.heading},{key:"h4_colour",value:i.heading},{key:"h5_colour",value:i.heading},{key:"h6_colour",value:i.heading}),a.p_colour=i.p,o.p_colour=i.p,n.push({key:"p_colour",value:i.p}),a.quickstyle=t,o.quickstyle=t,n.push({key:"quickstyle",value:t}),this.setState({theme_r:a,theme_m:o,unsavedChanges:!0,currentStyle:e,quickstyle:t,changes:[...this.state.changes,n]})}hoverStyle(e){this.setState({hoveredStyle:e})}handleChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{isMobile:l}=this.state;let a=this.state.theme_r,o=this.state.theme_m;if("switchView"===e&&(this.state.isMobile?this.setState({isMobile:!1}):this.setState({isMobile:!0})),"fontsize"===e){const e={key:this.state.isMobile?"mobile_"+t:t,value:n};if(this.state.isMobile){let l=this.state.theme_m;l[t]=n,this.setState({theme_m:l,unsavedChanges:!0,changes:[...this.state.changes,e]})}else{let l=this.state.theme_r;l[t]=n,this.setState({theme_r:l,unsavedChanges:!0,changes:[...this.state.changes,e]})}}if("fontFamily"===e&&this.updateTheme(t,n),"fontColor"===e&&this.updateTheme(t,n),"emailColor"===e&&this.updateTheme(t,n),"globalAttr"===e&&this.updateTheme(t,n),"setAttr"===e)if(l){o[t]=n;const e={key:"mobile_"+t,value:n};this.setState({theme_m:o,unsavedChanges:!0,changes:[...this.state.changes,e]})}else{a[t]=n;const e={key:t,value:n};this.setState({theme_r:a,unsavedChanges:!0,changes:[...this.state.changes,e]})}}updateTheme(e,t){let n=this.state.theme_r,l=this.state.theme_m;n[e]=t,l[e]=t;const a={key:e,value:t};this.setState({theme_r:n,theme_m:l,unsavedChanges:!0,changes:[...this.state.changes,a]})}updateDimensions(e,t){let n,l,a;const{isMobile:o}=this.state;if("container_padding"===e){l=t.top,a=t.bottom,n=o?"theme_m":"theme_r";let e=this.state[n];e.container_padding1=l,e.container_padding2=a;const i=o?{key:"mobile_container_padding1",value:l}:{key:"container_padding1",value:l},r=o?{key:"mobile_container_padding2",value:a}:{key:"container_padding2",value:a};this.setState({[n]:e,unsavedChanges:!0,changes:[...this.state.changes,i,r]})}if("container_margin"===e){l=t.top,a=t.bottom,n=o?"theme_m":"theme_r";let e=this.state[n];e.container_margin1=l,e.container_margin2=a;const i=o?{key:"mobile_container_margin1",value:l}:{key:"container_margin1",value:l},r=o?{key:"mobile_container_margin2",value:a}:{key:"container_margin2",value:a};this.setState({[n]:e,unsavedChanges:!0,changes:[...this.state.changes,i,r]})}}ajaxSave(){const{scope:e}=this.props;this.setState({isSaving:!0,unsavedChanges:!1});var t={changes:this.state.changes,customCSS:this.state.customCSS,post_id:wp.data.select("core/editor")?wp.data.select("core/editor").getCurrentPostId():0};"single"===e&&this.InlineSave(t),o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_theme_settings",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{this.setState({isSaving:!1,unsavedChanges:!1,changes:[]})}))}InlineSave(e){let t;e.changes&&(t=e.changes[0]&&e.changes[0].length?e.changes[0]:e.changes),e&&t&&t.forEach((function(e){var t=e.key,n=e.value;"email_bg"===t&&jQuery(".editor-styles-wrapper.block-editor-writing-flow, div.editor-visual-editor div.editor-visual-editor__content-area").attr("style",(function(e,t){return(t||"")+"background-color: "+n+" !important;"})),"container_bg"===t&&jQuery(".is-root-container").attr("style",(function(e,t){return(t||"")+"background-color: "+n+" !important;"})),"h1_font"===t&&jQuery(".editor-styles-wrapper h1").attr("style",(function(e,t){return(t||"")+"font-family: "+n+" !important;"})),"h2_font"===t&&jQuery(".editor-styles-wrapper h2").attr("style",(function(e,t){return(t||"")+"font-family: "+n+" !important;"})),"h3_font"===t&&jQuery(".editor-styles-wrapper h3").attr("style",(function(e,t){return(t||"")+"font-family: "+n+" !important;"})),"h4_font"===t&&jQuery(".editor-styles-wrapper h4").attr("style",(function(e,t){return(t||"")+"font-family: "+n+" !important;"})),"h5_font"===t&&jQuery(".editor-styles-wrapper h5").attr("style",(function(e,t){return(t||"")+"font-family: "+n+" !important;"})),"h6_font"===t&&jQuery(".editor-styles-wrapper h6").attr("style",(function(e,t){return(t||"")+"font-family: "+n+" !important;"})),"h1_colour"===t&&jQuery(".editor-styles-wrapper h1").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})),"h2_colour"===t&&jQuery(".editor-styles-wrapper h2").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})),"h3_colour"===t&&jQuery(".editor-styles-wrapper h3").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})),"h4_colour"===t&&jQuery(".editor-styles-wrapper h4").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})),"h5_colour"===t&&jQuery(".editor-styles-wrapper h5").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})),"h6_colour"===t&&jQuery(".editor-styles-wrapper h6").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})),"p_colour"===t&&(jQuery(".ngl-article, .ngl-article-excerpt").attr("style",(function(e,t){return(t||"")+"color: "+n+";"})),jQuery(".editor-styles-wrapper p").attr("style",(function(e,t){return(t||"")+"color: "+n+";"})),jQuery(".editor-styles-wrapper li").attr("style",(function(e,t){return(t||"")+"color: "+n+";"}))),"container_padding1"==t&&jQuery(".editor-styles-wrapper.block-editor-writing-flow div.is-root-container.block-editor-block-list__layout").attr("style",(function(e,t){return(t||"")+"padding-top: "+n+" !important;"})),"container_padding2"==t&&jQuery(".editor-styles-wrapper.block-editor-writing-flow div.is-root-container.block-editor-block-list__layout").attr("style",(function(e,t){return(t||"")+"padding-bottom: "+n+" !important;"})),"container_margin1"==t&&jQuery(".editor-styles-wrapper.block-editor-writing-flow div.is-root-container.block-editor-block-list__layout").attr("style",(function(e,t){return(t||"")+"margin-top: "+n+" !important;"})),"container_margin2"==t&&jQuery(".editor-styles-wrapper.block-editor-writing-flow div.is-root-container.block-editor-block-list__layout").attr("style",(function(e,t){return(t||"")+"margin-bottom: "+n+" !important;"})),"a_colour"===t&&(jQuery(".ngl-article-title a").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})),jQuery(".editor-styles-wrapper .wp-block a").attr("style",(function(e,t){return(t||"")+"color: "+n+" !important;"})))}))}resetTheme(){o()({path:"newsletterglue/"+nglue_backend.api_version+"/reset_theme_settings",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:{}}).then((()=>{}))}componentDidUpdate(){this.state.unsavedChanges&&this.ajaxSave()}render(){const{isMobile:t,customCSS:n,currentStyle:l,hoveredStyle:a}=this.state;let o=t?this.state.theme_m:this.state.theme_r;var r=this.props.scope&&"single"===this.props.scope?"single":"global";const c=(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"interface-interface-skeleton",style:{top:"global"==r?"210px":"1px"}},(0,e.createElement)(s.SlotFillProvider,null,(0,e.createElement)(s.Popover.Slot,null),(0,e.createElement)("div",{className:`interface-interface-skeleton__editor interface-ngl__${r}`},(0,e.createElement)("div",{className:"interface-interface-skeleton__header"},(0,e.createElement)("div",{className:"editor-header"},(0,e.createElement)("div",{className:"editor-header__toolbar"},"single"===r&&(0,e.createElement)("img",{src:nglue_backend.logo_url,alt:"",width:150,height:22,style:{marginLeft:"22px"}})),(0,e.createElement)("div",{className:"editor-header__settings"},(0,e.createElement)(v,{getState:this.state,handleChange:this.handleChange}),"single"===r&&(0,e.createElement)(s.Button,{variant:"link",onClick:()=>{this.props.toggleModal()},icon:c,text:!1})))),(0,e.createElement)("div",{className:"interface-interface-skeleton__body"},(0,e.createElement)("div",{className:"interface-interface-skeleton__content"},(0,e.createElement)(m,{getState:this.state,handleChange:this.handleChange})),(0,e.createElement)("div",{className:"interface-interface-skeleton__sidebar"},(0,e.createElement)("div",{className:"interface-complementary-area editor-sidebar"},"global"===r&&(0,e.createElement)("div",{className:"block-editor-block-inspector",style:{borderBottom:"1px solid #e0e0e0"}},(0,e.createElement)("div",{className:"block-editor-block-card"},(0,e.createElement)("div",{className:"block-editor-block-card__content"},(0,e.createElement)("div",{className:"block-editor-block-card__title"},"Global styles"),(0,e.createElement)("div",{className:"block-editor-block-card__description"},(0,e.createElement)("p",{style:{marginBottom:"8px"}},"Customize the global styles for all your newsletters."),(0,e.createElement)("p",{style:{marginBottom:"8px"}},"To remove all email styling from web view, head to ",(0,e.createElement)("a",{href:nglue_backend.additional_settings},"Settings ",">"," Additional"),"."),(0,e.createElement)("p",{style:{marginBottom:"0px"}},"You can also create individual ",(0,e.createElement)("a",{href:nglue_backend.template_styles_link},"template styles")," which will override the global styles you have chosen here."))))),"single"===r&&(0,e.createElement)("div",{className:"block-editor-block-inspector",style:{borderBottom:"1px solid #e0e0e0"}},(0,e.createElement)("div",{className:"block-editor-block-card"},(0,e.createElement)("div",{className:"block-editor-block-card__content"},(0,e.createElement)("div",{className:"block-editor-block-card__title"},"Template styles"),(0,e.createElement)("div",{className:"block-editor-block-card__description"},(0,e.createElement)("p",{style:{marginBottom:"8px"}},"Customize the style of this template."),(0,e.createElement)("p",{style:{marginBottom:"0px"}},"Head ",(0,e.createElement)("a",{href:nglue_backend.global_styles_link},"here")," to customize global styles instead."))))),(0,e.createElement)(s.__experimentalNavigatorProvider,{initialPath:"/"},(0,e.createElement)(s.__experimentalNavigatorScreen,{path:"/"},(0,e.createElement)(s.Panel,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Quick styles","newsletter-glue"),initialOpen:!0},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("p",{className:"edit-site-global-styles-header__description",style:{padding:0}},"Choose a different style combination for the newsletter styles")),(0,e.createElement)(s.Card,{elevation:0,isBorderless:!0,className:"ngl-card-grid"},(0,e.createElement)(s.CardBody,{style:{padding:"20px 0"}},(0,e.createElement)(s.__experimentalGrid,{columns:2},Object.keys(o.styles).map(function(t,n){var i=t+1;let r=o.styles[t];return(0,e.createElement)("div",{key:`ngl-quickstyle-${i}`,className:"edit-site-global-styles-variations_item "+(l===i||this.state.quickstyle==n?"is-active":""),role:"button",tabIndex:0,onClick:()=>this.quickStyle(i,n),onMouseEnter:()=>this.hoverStyle(i),onMouseLeave:()=>this.hoverStyle(0)},a!==i&&(0,e.createElement)("div",{className:"edit-site-global-styles-variations_item-preview",style:{backgroundColor:r.bg}},(0,e.createElement)("div",{className:"edit-site-global-styles-inner",style:{backgroundColor:r.content}},(0,e.createElement)("div",{className:"ngl-style-typo",style:{color:r.heading,fontFamily:r.font_h?r.font_h:"inherit"}},"Aa"),(0,e.createElement)("div",{className:"ngl-style-round"},(0,e.createElement)("div",{className:"ngl-style-round-1",style:{backgroundColor:r.heading}}),(0,e.createElement)("div",{className:"ngl-style-round-2",style:{backgroundColor:r.button}})))),a===i&&(0,e.createElement)("div",{className:"edit-site-global-styles-variations_item-preview",style:{backgroundColor:r.bg}},(0,e.createElement)("div",{className:"edit-site-global-styles-inner is-vertical",style:{backgroundColor:r.content}},(0,e.createElement)("div",{className:"ngl-style-name",style:{color:r.heading,fontFamily:r.font_h?r.font_h:"inherit"}},r.name),(0,e.createElement)("div",{className:"ngl-style-tagline",style:{color:r.p,fontFamily:r.font_p?r.font_p:"inherit"}},"Aa Aa"),(0,e.createElement)("div",{className:"ngl-style-colors"},(0,e.createElement)("div",{className:"ngl-style-color",style:{backgroundColor:r.button}}),(0,e.createElement)("div",{className:"ngl-style-color",style:{backgroundColor:r.button}}),(0,e.createElement)("div",{className:"ngl-style-color",style:{backgroundColor:r.button}}),(0,e.createElement)("div",{className:"ngl-style-color",style:{backgroundColor:r.button}})))))}.bind(this)))))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Layout","newsletter-glue"),initialOpen:!0},(0,e.createElement)(s.__experimentalItemGroup,{className:"nglue-group"},(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/colors/background"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.Flex,{className:"edit-site-global-styles__color-indicator-wrapper"},(0,e.createElement)(s.ColorIndicator,{colorValue:o.email_bg})),(0,e.createElement)(s.FlexItem,null,"Background")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/colors/content"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.Flex,{className:"edit-site-global-styles__color-indicator-wrapper"},(0,e.createElement)(s.ColorIndicator,{colorValue:o.container_bg})),(0,e.createElement)(s.FlexItem,null,"Content area"))))),(0,e.createElement)(s.BaseControl,{className:"nglue-box-control"},(0,e.createElement)(s.__experimentalBoxControl,{label:(0,i.__)("Padding","newsletter-glue"),values:{top:o.container_padding1,bottom:o.container_padding2},allowReset:!0,resetValues:{top:"5px",bottom:"15px"},sides:["top","bottom"],units:[{value:"px",label:"px",default:0}],onChange:e=>{this.updateDimensions("container_padding",e)}})),(0,e.createElement)(s.BaseControl,{className:"nglue-box-control"},(0,e.createElement)(s.__experimentalBoxControl,{label:(0,i.__)("Margin","newsletter-glue"),values:{top:o.container_margin1,bottom:o.container_margin2},allowReset:!0,resetValues:{top:"0px",bottom:"0px"},sides:["top","bottom"],units:[{value:"px",label:"px",default:0}],onChange:e=>{this.updateDimensions("container_margin",e)}}))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Typography","newsletter-glue"),initialOpen:!0},(0,e.createElement)(s.__experimentalItemGroup,{className:"nglue-group"},(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/typography/h1"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.FlexItem,{className:"edit-site-global-styles-screen-typography__indicator",style:{fontWeight:"bold"}},"Aa"),(0,e.createElement)(s.FlexItem,null,"Heading 1")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/typography/h2"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.FlexItem,{className:"edit-site-global-styles-screen-typography__indicator",style:{fontWeight:"bold"}},"Aa"),(0,e.createElement)(s.FlexItem,null,"Heading 2")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/typography/h3"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.FlexItem,{className:"edit-site-global-styles-screen-typography__indicator",style:{fontWeight:"bold"}},"Aa"),(0,e.createElement)(s.FlexItem,null,"Heading 3")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/typography/h4"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.FlexItem,{className:"edit-site-global-styles-screen-typography__indicator",style:{fontWeight:"bold"}},"Aa"),(0,e.createElement)(s.FlexItem,null,"Heading 4, 5, 6")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/typography/paragraph"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.FlexItem,{className:"edit-site-global-styles-screen-typography__indicator"},"Aa"),(0,e.createElement)(s.FlexItem,null,"Paragraph")))),(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/typography/links"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.FlexItem,{className:"edit-site-global-styles-screen-typography__indicator",style:{textDecoration:"underline"}},"Aa"),(0,e.createElement)(s.FlexItem,null,"Links")))))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Additional","newsletter-glue"),initialOpen:!0},(0,e.createElement)(s.__experimentalItemGroup,{className:"nglue-group"},(0,e.createElement)(s.__experimentalItem,null,(0,e.createElement)(s.__experimentalNavigatorButton,{path:"/button"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.Flex,{className:"edit-site-global-styles__color-indicator-wrapper"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"11",viewBox:"0 0 19 11"},(0,e.createElement)("g",{id:"Group_61","data-name":"Group 61",transform:"translate(-1572 -745)"},(0,e.createElement)("rect",{id:"Rectangle_27","data-name":"Rectangle 27",width:"19",height:"11",rx:"2",transform:"translate(1572 745)",fill:"#1e1e1e"}),(0,e.createElement)("line",{id:"Line_12","data-name":"Line 12",x2:"7.5",transform:"translate(1577.75 750.5)",fill:"none",stroke:"#fff",strokeWidth:"1"})))),(0,e.createElement)(s.FlexItem,null,"Button")))))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Custom CSS","newsletter-glue"),initialOpen:!0,className:"ngl-setting-textarea"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,null,(0,e.createElement)("textarea",{className:"components-textarea-control__input",id:"nglue-custom-css",rows:12,onChange:e=>this.setState({unsavedChanges:!0,customCSS:e.target.value}),value:n,placeholder:(0,i.__)("Enter custom CSS here...","newsletter-glue")})))))),(0,e.createElement)(f,{getState:this.state,handleChange:this.handleChange})))))))))}}var w=document.getElementById("ngl-global-styles");function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},E.apply(this,arguments)}w&&(0,r.s)(w).render((0,e.createElement)(y,{scope:"global"}));class k extends e.Component{render(){return(0,e.createElement)("span",{className:"nglue-preloader "+(this.props.isAlt?"alt":"")},(0,e.createElement)("span",null),(0,e.createElement)("span",null),(0,e.createElement)("span",null))}}var x=nglue_backend.esp_list;class C extends e.Component{constructor(e){super(e),this.state={isAPILoaded:!1,isVerifying:!1,key_status:"",esp:"",esp_title:"",esp_index:0,api_key:"",api_url:"",api_secret:""},this.verifyConnection=this.verifyConnection.bind(this)}componentDidMount(){o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_api",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{e.esp_list&&(x=e.esp_list);var t=0;e.service?(x.map(((n,l)=>{n.value===e.service&&(t=l)})),this.setState({isAPILoaded:!0,esp:e.service,api_key:e.api_key,api_url:e.api_url,api_secret:e.api_secret,esp_title:e.esp_title,esp_index:t})):this.setState({isAPILoaded:!0})}))}verifyConnection(){var e=this.props;this.setState({isVerifying:!0}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/verify_api",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:{api_key:this.state.api_key,api_url:this.state.api_url,api_secret:this.state.api_secret,esp:this.state.esp}}).then((t=>{t.success?(this.setState({isVerifying:!1,key_status:"valid"}),setTimeout((()=>{e.changeState({step:3,completedStep:2})}),1500)):this.setState({isVerifying:!1,key_status:"invalid"})}))}render(){if(!this.state.isAPILoaded||!x)return(0,e.createElement)(k,{isAlt:!0});const{esp:t,api_key:n,api_url:l,api_secret:a,esp_title:o,esp_index:r,key_status:c,isVerifying:u}=this.state,d=x.map(((n,l)=>(0,e.createElement)(s.PanelRow,{key:["esp-",n.value]},(0,e.createElement)(s.Button,{isSecondary:!0,isPressed:t==n.value,disabled:"valid"==c||u,className:["nglue-button-toggle",n.requires&&""!=n.requires?n.requires:""],icon:(0,e.createElement)("span",{className:"nglue-esp-icon nglue-esp-"+n.value,style:{backgroundColor:n.bg}},(0,e.createElement)("img",{src:nglue_backend.esp_icons[n.value]})),onClick:()=>{if(n.requires&&""!=n.requires)return window.open(nglue_backend.newsroom_upg,"_blank"),!1;n.value!=t?this.setState({esp_index:l,esp:n.value,esp_title:n.label,key_status:"",api_key:"",api_url:"",api_secret:""}):this.setState({esp_index:l,esp:n.value,esp_title:n.label})}},n.label,n.requires&&""!=n.requires&&(0,e.createElement)("span",{className:"nglue-lock-icon"},(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z"}))),n.requires&&""!=n.requires&&(0,e.createElement)("span",{className:"nglue-feature-lock"},(0,e.createElement)("span",{className:"nglue-feature-title"},"Head to account:"),(0,e.createElement)("span",{className:"nglue-feature-action"},"Upgrade to unlock")))))),m=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},(0,e.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,e.createElement)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6l7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z"}));var g=t&&"campaignmonitor"===t?"Client ID":"API secret";return(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("h2",null,(0,i.__)("Connect your email service provider","newsletter-glue"))),(0,e.createElement)("div",{className:"ngl-wizard-flex ngl-wizard-flex-compact"},d),""!=t&&(null==x[r].requires||""==x[r].requires)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:x[r].key_name||(0,i.sprintf)((0,i.__)("%s API key","newsletter-glue"),o),id:"nglue-api-key",help:x[r].help&&(0,e.createElement)(s.ExternalLink,{href:x[r].help},(0,i.__)("Get API key","newsletter-glue")),className:"invalid"==c?"nglue-input-error":""},(0,e.createElement)(s.TextControl,{id:"nglue-api-key",type:"password",value:n,disabled:"valid"==c||u,onChange:e=>{this.setState({api_key:e})}}),"invalid"==c&&(0,e.createElement)("div",{className:"extra-help"},(0,i.__)("API connection failed. Your API key could be invalid.","newsletter-glue")))),x[r].extra_setting&&("secret"==x[r].extra_setting||"both"==x[r].extra_setting)&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:x[r].secret_name||(0,i.sprintf)((0,i.__)(`%s ${g}`,"newsletter-glue"),o),id:"nglue-api-secret"},(0,e.createElement)(s.TextControl,{id:"nglue-api-secret",type:"password",value:a,disabled:"valid"==c||u,onChange:e=>{this.setState({api_secret:e})}}))),x[r].extra_setting&&("url"==x[r].extra_setting||"both"==x[r].extra_setting)&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:x[r].url_name||(0,i.sprintf)((0,i.__)("%s API URL","newsletter-glue"),o),id:"nglue-api-url"},(0,e.createElement)(s.TextControl,{id:"nglue-api-url",value:l,disabled:"valid"==c||u,onChange:e=>{this.setState({api_url:e})}}),x[r].url_help&&(0,e.createElement)("div",{className:"extra-help"},x[r].url_help))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{isPrimary:!0,disabled:!(!u&&n),isBusy:u,onClick:this.verifyConnection,className:"valid"==c?"nglue-valid-button":"",icon:"valid"==c?m:null},!u&&"valid"!=c&&(0,i.__)("Connect","newsletter-glue"),u&&(0,i.sprintf)((0,i.__)("Connecting to %s API...","newsletter-glue"),o),"valid"==c&&(0,i.__)("API key connected","newsletter-glue")))))}}class S extends e.Component{constructor(e){super(e),this.state={isAPILoaded:!1,isVerifying:!1,license_status:"",message:"",license_key:""},this.verifyLicense=this.verifyLicense.bind(this)}componentDidMount(){o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_license_key",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{this.setState({isAPILoaded:!0,license_key:e.license_key})}))}verifyLicense(){var e=this.props;this.setState({isVerifying:!0}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/verify_license_key",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:{license_key:this.state.license_key}}).then((t=>{this.setState({isVerifying:!1,license_status:t.status,message:t.message}),"valid"==t.status&&setTimeout((()=>{e.changeState({step:2,completedStep:1})}),1500)}))}render(){if(!this.state.isAPILoaded)return(0,e.createElement)(k,{isAlt:!0});const t=nglue_backend.first_name,n=nglue_backend.is_demo,{license_key:l,isVerifying:a,message:o,license_status:r}=this.state,c=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},(0,e.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,e.createElement)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6l7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z"}));return(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("h4",null,(0,i.sprintf)((0,i.__)("Welcome, %s!","newsletter-glue"),t)),(0,e.createElement)("h2",null,(0,i.__)("Connect your Newsletter Glue account","newsletter-glue")),!n&&(0,e.createElement)("p",null,(0,i.sprintf)((0,i.__)("Get your license key from your purchase confirmation email or","newsletter-glue"))," ",(0,e.createElement)(s.ExternalLink,{href:"https://newsletterglue.com/account"},(0,i.__)("account dashboard","newsletter-glue"))),n&&(0,e.createElement)("p",null,(0,i.__)("Since this is a test site, we’ve filled out your license key for you. Just click 'Activate license' to start!","newsletter-glue"))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Your plugin license key","newsletter-glue"),id:"nglue-license-key",className:r&&"valid"!=r?"nglue-input-error":""},(0,e.createElement)(s.TextControl,{id:"nglue-license-key",type:"password",value:l,placeholder:"eg. be6f7eb68d7deb1685a49021ed416635",disabled:"valid"==r||a||n,onChange:e=>{this.setState({license_key:e})}}),o&&(0,e.createElement)("div",{className:"extra-help"},o))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{isPrimary:!0,disabled:!(!a&&l),isBusy:a,onClick:this.verifyLicense,className:"valid"==r?"nglue-valid-button":"",icon:"valid"==r?c:null},!a&&"valid"!=r&&(0,i.__)("Activate license","newsletter-glue"),a&&(0,i.__)("Verifying your license key...","newsletter-glue"),"valid"==r&&(0,i.__)("License key validated","newsletter-glue"))))}}var N=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),z=Math.abs,B=String.fromCharCode,T=Object.assign;function P(e){return e.trim()}function A(e,t,n){return e.replace(t,n)}function I(e,t){return e.indexOf(t)}function R(e,t){return 0|e.charCodeAt(t)}function M(e,t,n){return e.slice(t,n)}function L(e){return e.length}function F(e){return e.length}function O(e,t){return t.push(e),e}var H=1,V=1,D=0,j=0,$=0,W="";function U(e,t,n,l,a,o,i){return{value:e,root:t,parent:n,type:l,props:a,children:o,line:H,column:V,length:i,return:""}}function G(e,t){return T(U("",null,null,"",null,null,0),e,{length:-e.length},t)}function q(){return $=j>0?R(W,--j):0,V--,10===$&&(V=1,H--),$}function Y(){return $=j<D?R(W,j++):0,V++,10===$&&(V=1,H++),$}function Z(){return R(W,j)}function K(){return j}function Q(e,t){return M(W,e,t)}function X(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J(e){return H=V=1,D=L(W=e),j=0,[]}function ee(e){return W="",e}function te(e){return P(Q(j-1,ae(91===e?e+2:40===e?e+1:e)))}function ne(e){for(;($=Z())&&$<33;)Y();return X(e)>2||X($)>3?"":" "}function le(e,t){for(;--t&&Y()&&!($<48||$>102||$>57&&$<65||$>70&&$<97););return Q(e,K()+(t<6&&32==Z()&&32==Y()))}function ae(e){for(;Y();)switch($){case e:return j;case 34:case 39:34!==e&&39!==e&&ae($);break;case 40:41===e&&ae(e);break;case 92:Y()}return j}function oe(e,t){for(;Y()&&e+$!==57&&(e+$!==84||47!==Z()););return"/*"+Q(t,j-1)+"*"+B(47===e?e:Y())}function ie(e){for(;!X(Z());)Y();return Q(e,j)}var re="-ms-",se="-moz-",ce="-webkit-",ue="comm",de="rule",me="decl",ge="@import",pe="@keyframes";function he(e,t){for(var n="",l=F(e),a=0;a<l;a++)n+=t(e[a],a,e,t)||"";return n}function be(e,t,n,l){switch(e.type){case ge:case me:return e.return=e.return||e.value;case ue:return"";case pe:return e.return=e.value+"{"+he(e.children,l)+"}";case de:e.value=e.props.join(",")}return L(n=he(e.children,l))?e.return=e.value+"{"+n+"}":""}function _e(e){return ee(fe("",null,null,null,[""],e=J(e),0,[0],e))}function fe(e,t,n,l,a,o,i,r,s){for(var c=0,u=0,d=i,m=0,g=0,p=0,h=1,b=1,_=1,f=0,v="",y=a,w=o,E=l,k=v;b;)switch(p=f,f=Y()){case 40:if(108!=p&&58==R(k,d-1)){-1!=I(k+=A(te(f),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:k+=te(f);break;case 9:case 10:case 13:case 32:k+=ne(p);break;case 92:k+=le(K()-1,7);continue;case 47:switch(Z()){case 42:case 47:O(ye(oe(Y(),K()),t,n),s);break;default:k+="/"}break;case 123*h:r[c++]=L(k)*_;case 125*h:case 59:case 0:switch(f){case 0:case 125:b=0;case 59+u:g>0&&L(k)-d&&O(g>32?we(k+";",l,n,d-1):we(A(k," ","")+";",l,n,d-2),s);break;case 59:k+=";";default:if(O(E=ve(k,t,n,c,u,a,r,v,y=[],w=[],d),o),123===f)if(0===u)fe(k,t,E,E,y,o,d,r,w);else switch(99===m&&110===R(k,3)?100:m){case 100:case 109:case 115:fe(e,E,E,l&&O(ve(e,E,E,0,0,a,r,v,a,y=[],d),w),a,w,d,r,l?y:w);break;default:fe(k,E,E,E,[""],w,0,r,w)}}c=u=g=0,h=_=1,v=k="",d=i;break;case 58:d=1+L(k),g=p;default:if(h<1)if(123==f)--h;else if(125==f&&0==h++&&125==q())continue;switch(k+=B(f),f*h){case 38:_=u>0?1:(k+="\f",-1);break;case 44:r[c++]=(L(k)-1)*_,_=1;break;case 64:45===Z()&&(k+=te(Y())),m=Z(),u=d=L(v=k+=ie(K())),f++;break;case 45:45===p&&2==L(k)&&(h=0)}}return o}function ve(e,t,n,l,a,o,i,r,s,c,u){for(var d=a-1,m=0===a?o:[""],g=F(m),p=0,h=0,b=0;p<l;++p)for(var _=0,f=M(e,d+1,d=z(h=i[p])),v=e;_<g;++_)(v=P(h>0?m[_]+" "+f:A(f,/&\f/g,m[_])))&&(s[b++]=v);return U(e,t,n,0===a?de:r,s,c,u)}function ye(e,t,n){return U(e,t,n,ue,B($),M(e,2,-2),0)}function we(e,t,n,l){return U(e,t,n,me,M(e,0,l),M(e,l+1,-1),l)}var Ee=function(e,t,n){for(var l=0,a=0;l=a,a=Z(),38===l&&12===a&&(t[n]=1),!X(a);)Y();return Q(e,j)},ke=new WeakMap,xe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,l=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ke.get(n))&&!l){ke.set(e,!0);for(var a=[],o=function(e,t){return ee(function(e,t){var n=-1,l=44;do{switch(X(l)){case 0:38===l&&12===Z()&&(t[n]=1),e[n]+=Ee(j-1,t,n);break;case 2:e[n]+=te(l);break;case 4:if(44===l){e[++n]=58===Z()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=B(l)}}while(l=Y());return e}(J(e),t))}(t,a),i=n.props,r=0,s=0;r<o.length;r++)for(var c=0;c<i.length;c++,s++)e.props[s]=a[r]?o[r].replace(/&\f/g,i[c]):i[c]+" "+o[r]}}},Ce=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Se(e,t){switch(function(e,t){return 45^R(e,0)?(((t<<2^R(e,0))<<2^R(e,1))<<2^R(e,2))<<2^R(e,3):0}(e,t)){case 5103:return ce+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ce+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ce+e+se+e+re+e+e;case 6828:case 4268:return ce+e+re+e+e;case 6165:return ce+e+re+"flex-"+e+e;case 5187:return ce+e+A(e,/(\w+).+(:[^]+)/,ce+"box-$1$2"+re+"flex-$1$2")+e;case 5443:return ce+e+re+"flex-item-"+A(e,/flex-|-self/,"")+e;case 4675:return ce+e+re+"flex-line-pack"+A(e,/align-content|flex-|-self/,"")+e;case 5548:return ce+e+re+A(e,"shrink","negative")+e;case 5292:return ce+e+re+A(e,"basis","preferred-size")+e;case 6060:return ce+"box-"+A(e,"-grow","")+ce+e+re+A(e,"grow","positive")+e;case 4554:return ce+A(e,/([^-])(transform)/g,"$1"+ce+"$2")+e;case 6187:return A(A(A(e,/(zoom-|grab)/,ce+"$1"),/(image-set)/,ce+"$1"),e,"")+e;case 5495:case 3959:return A(e,/(image-set\([^]*)/,ce+"$1$`$1");case 4968:return A(A(e,/(.+:)(flex-)?(.*)/,ce+"box-pack:$3"+re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ce+e+e;case 4095:case 3583:case 4068:case 2532:return A(e,/(.+)-inline(.+)/,ce+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(L(e)-1-t>6)switch(R(e,t+1)){case 109:if(45!==R(e,t+4))break;case 102:return A(e,/(.+:)(.+)-([^]+)/,"$1"+ce+"$2-$3$1"+se+(108==R(e,t+3)?"$3":"$2-$3"))+e;case 115:return~I(e,"stretch")?Se(A(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==R(e,t+1))break;case 6444:switch(R(e,L(e)-3-(~I(e,"!important")&&10))){case 107:return A(e,":",":"+ce)+e;case 101:return A(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ce+(45===R(e,14)?"inline-":"")+"box$3$1"+ce+"$2$3$1"+re+"$2box$3")+e}break;case 5936:switch(R(e,t+11)){case 114:return ce+e+re+A(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ce+e+re+A(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ce+e+re+A(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ce+e+re+e+e}return e}var Ne=[function(e,t,n,l){if(e.length>-1&&!e.return)switch(e.type){case me:e.return=Se(e.value,e.length);break;case pe:return he([G(e,{value:A(e.value,"@","@"+ce)})],l);case de:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return he([G(e,{props:[A(t,/:(read-\w+)/,":"+se+"$1")]})],l);case"::placeholder":return he([G(e,{props:[A(t,/:(plac\w+)/,":"+ce+"input-$1")]}),G(e,{props:[A(t,/:(plac\w+)/,":"+se+"$1")]}),G(e,{props:[A(t,/:(plac\w+)/,re+"input-$1")]})],l)}return""}))}}],ze=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var l,a,o=e.stylisPlugins||Ne,i={},r=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;r.push(e)}));var s,c,u,d,m=[be,(d=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],g=(c=[xe,Ce].concat(o,m),u=F(c),function(e,t,n,l){for(var a="",o=0;o<u;o++)a+=c[o](e,t,n,l)||"";return a});a=function(e,t,n,l){s=n,he(_e(e?e+"{"+t.styles+"}":t.styles),g),l&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new N({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return p.sheet.hydrate(r),p};function Be(e,t,n){var l="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):l+=n+" "})),l}var Te=function(e,t,n){var l=e.key+"-"+t.name;!1===n&&void 0===e.registered[l]&&(e.registered[l]=t.styles)},Pe=function(e,t,n){Te(e,t,n);var l=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+l:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}},Ae=function(e){for(var t,n=0,l=0,a=e.length;a>=4;++l,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(l+2))<<16;case 2:n^=(255&e.charCodeAt(l+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(l)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Ie={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Re=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Me=/[A-Z]|^ms/g,Le=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fe=function(e){return 45===e.charCodeAt(1)},Oe=function(e){return null!=e&&"boolean"!=typeof e},He=Re((function(e){return Fe(e)?e:e.replace(Me,"-$&").toLowerCase()})),Ve=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Le,(function(e,t,n){return je={name:t,styles:n,next:je},t}))}return 1===Ie[e]||Fe(e)||"number"!=typeof t||0===t?t:t+"px"};function De(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return je={name:n.name,styles:n.styles,next:je},n.name;if(void 0!==n.styles){var l=n.next;if(void 0!==l)for(;void 0!==l;)je={name:l.name,styles:l.styles,next:je},l=l.next;return n.styles+";"}return function(e,t,n){var l="";if(Array.isArray(n))for(var a=0;a<n.length;a++)l+=De(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?l+=o+"{"+t[i]+"}":Oe(i)&&(l+=He(o)+":"+Ve(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var r=De(e,t,i);switch(o){case"animation":case"animationName":l+=He(o)+":"+r+";";break;default:l+=o+"{"+r+"}"}}else for(var s=0;s<i.length;s++)Oe(i[s])&&(l+=He(o)+":"+Ve(o,i[s])+";")}return l}(e,t,n);case"function":if(void 0!==e){var a=je,o=n(e);return je=a,De(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var je,$e=/label:\s*([^\s;\n{]+)\s*(;|$)/g,We=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var l=!0,a="";je=void 0;var o=e[0];null==o||void 0===o.raw?(l=!1,a+=De(n,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=De(n,t,e[i]),l&&(a+=o[i]);$e.lastIndex=0;for(var r,s="";null!==(r=$e.exec(a));)s+="-"+r[1];return{name:Ae(a)+s,styles:a,next:je}},Ue=!!t.useInsertionEffect&&t.useInsertionEffect,Ge=Ue||function(e){return e()},qe=(Ue||t.useLayoutEffect,{}.hasOwnProperty),Ye=(0,t.createContext)("undefined"!=typeof HTMLElement?ze({key:"css"}):null),Ze=(Ye.Provider,function(e){return(0,t.forwardRef)((function(n,l){var a=(0,t.useContext)(Ye);return e(n,a,l)}))}),Ke=(0,t.createContext)({}),Qe="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xe=function(e,t){var n={};for(var l in t)qe.call(t,l)&&(n[l]=t[l]);return n[Qe]=e,n},Je=function(e){var t=e.cache,n=e.serialized,l=e.isStringTag;return Te(t,n,l),Ge((function(){return Pe(t,n,l)})),null},et=Ze((function(e,n,l){var a=e.css;"string"==typeof a&&void 0!==n.registered[a]&&(a=n.registered[a]);var o=e[Qe],i=[a],r="";"string"==typeof e.className?r=Be(n.registered,i,e.className):null!=e.className&&(r=e.className+" ");var s=We(i,void 0,(0,t.useContext)(Ke));r+=n.key+"-"+s.name;var c={};for(var u in e)qe.call(e,u)&&"css"!==u&&u!==Qe&&(c[u]=e[u]);return c.ref=l,c.className=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Je,{cache:n,serialized:s,isStringTag:"string"==typeof o}),(0,t.createElement)(o,c))}));n(679);var tt=function(e,n){var l=arguments;if(null==n||!qe.call(n,"css"))return t.createElement.apply(void 0,l);var a=l.length,o=new Array(a);o[0]=et,o[1]=Xe(e,n);for(var i=2;i<a;i++)o[i]=l[i];return t.createElement.apply(null,o)};function nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return We(t)}var lt=function e(t){for(var n=t.length,l=0,a="";l<n;l++){var o=t[l];if(null!=o){var i=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))i=e(o);else for(var r in i="",o)o[r]&&r&&(i&&(i+=" "),i+=r);break;default:i=o}i&&(a&&(a+=" "),a+=i)}}return a},at=function(e){var t=e.cache,n=e.serializedArr;return Ge((function(){for(var e=0;e<n.length;e++)Pe(t,n[e],!1)})),null},ot=Ze((function(e,n){var l=[],a=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var o=We(t,n.registered);return l.push(o),Te(n,o,!1),n.key+"-"+o.name},o={css:a,cx:function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(e,t,n){var l=[],a=Be(e,l,n);return l.length<2?n:a+t(l)}(n.registered,a,lt(t))},theme:(0,t.useContext)(Ke)},i=e.children(o);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(at,{cache:n,serializedArr:l}),i)}));function it(e,t){if(null==e)return{};var n,l,a={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}function rt(e,t){if(null==e)return{};var n,l,a=it(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}var ct=n(639);function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,"string");if("object"!==st(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===st(t)?t:String(t)}function mt(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,dt(l.key),l)}}function gt(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pt(e,t)}function ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}function bt(e,t,n){return(t=dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=n(850);function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l,a,o=wt(e);if(t){var i=wt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return l=this,!(a=n)||"object"!=typeof a&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(l):a}}var kt=function(){};function xt(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Ct(e,t,n){var l=[n];if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&l.push("".concat(xt(e,a)));return l.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var St=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===st(e)&&null!==e?[e]:[]},Nt=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,yt({},rt(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function zt(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Bt(e){return zt(e)?window.pageYOffset:e.scrollTop}function Tt(e,t){zt(e)?window.scrollTo(0,t):e.scrollTop=t}function Pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kt,a=Bt(e),o=t-a,i=0;!function t(){var r,s=o*((r=(r=i+=10)/n-1)*r*r+1)+a;Tt(e,s),i<n?window.requestAnimationFrame(t):l(e)}()}function At(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var It=!1,Rt={get passive(){return It=!0}},Mt="undefined"!=typeof window?window:{};Mt.addEventListener&&Mt.removeEventListener&&(Mt.addEventListener("p",kt,Rt),Mt.removeEventListener("p",kt,!1));var Lt=It;var Ft=function(e){return"auto"===e?"bottom":e},Ot=(0,t.createContext)({getPortalPlacement:null}),Ht=function(e){ht(n,e);var t=Et(n);function n(){var e;ut(this,n);for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,l=n.minMenuHeight,a=n.maxMenuHeight,o=n.menuPlacement,i=n.menuPosition,r=n.menuShouldScrollIntoView,s=n.theme;if(t){var c="fixed"===i,u=function(e){var t=e.maxHeight,n=e.menuEl,l=e.minHeight,a=e.placement,o=e.shouldScroll,i=e.isFixedPosition,r=e.theme.spacing,s=function(e){var t=getComputedStyle(e),n="absolute"===t.position,l=/(auto|scroll)/,a=document.documentElement;if("fixed"===t.position)return a;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&l.test(t.overflow+t.overflowY+t.overflowX))return o;return a}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=s.getBoundingClientRect().height,d=n.getBoundingClientRect(),m=d.bottom,g=d.height,p=d.top,h=n.offsetParent.getBoundingClientRect().top,b=window.innerHeight,_=Bt(s),f=parseInt(getComputedStyle(n).marginBottom,10),v=parseInt(getComputedStyle(n).marginTop,10),y=h-v,w=b-p,E=y+_,k=u-_-p,x=m-b+_+f,C=_+p-v,S=160;switch(a){case"auto":case"bottom":if(w>=g)return{placement:"bottom",maxHeight:t};if(k>=g&&!i)return o&&Pt(s,x,S),{placement:"bottom",maxHeight:t};if(!i&&k>=l||i&&w>=l)return o&&Pt(s,x,S),{placement:"bottom",maxHeight:i?w-f:k-f};if("auto"===a||i){var N=t,z=i?y:E;return z>=l&&(N=Math.min(z-f-r.controlHeight,t)),{placement:"top",maxHeight:N}}if("bottom"===a)return o&&Tt(s,x),{placement:"bottom",maxHeight:t};break;case"top":if(y>=g)return{placement:"top",maxHeight:t};if(E>=g&&!i)return o&&Pt(s,C,S),{placement:"top",maxHeight:t};if(!i&&E>=l||i&&y>=l){var B=t;return(!i&&E>=l||i&&y>=l)&&(B=i?y-v:E-v),o&&Pt(s,C,S),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}({maxHeight:a,menuEl:t,minHeight:l,placement:o,shouldScroll:r&&!c,isFixedPosition:c,theme:s}),d=e.context.getPortalPlacement;d&&d(u),e.setState(u)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||Ft(t);return yt(yt({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return gt(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(t.Component);Ht.contextType=Ot;var Vt=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},Dt=Vt,jt=Vt,$t=function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerProps;return tt("div",E({css:a("noOptionsMessage",e),className:l({"menu-notice":!0,"menu-notice--no-options":!0},n)},o),t)};$t.defaultProps={children:"No options"};var Wt=function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerProps;return tt("div",E({css:a("loadingMessage",e),className:l({"menu-notice":!0,"menu-notice--loading":!0},n)},o),t)};Wt.defaultProps={children:"Loading..."};var Ut,Gt,qt,Yt=function(e){ht(n,e);var t=Et(n);function n(){var e;ut(this,n);for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==Ft(e.props.menuPlacement)&&e.setState({placement:n})},e}return gt(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,l=e.className,a=e.controlElement,o=e.cx,i=e.innerProps,r=e.menuPlacement,s=e.menuPosition,c=e.getStyles,u="fixed"===s;if(!t&&!u||!a)return null;var d=this.state.placement||Ft(r),m=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(a),g=u?0:window.pageYOffset,p=m[d]+g,h=tt("div",E({css:c("menuPortal",{offset:p,position:s,rect:m}),className:o({"menu-portal":!0},l)},i),n);return tt(Ot.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,_t.createPortal)(h,t):h)}}]),n}(t.Component),Zt={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Kt=function(e){var t=e.size,n=rt(e,["size"]);return tt("svg",E({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Zt},n))},Qt=function(e){return tt(Kt,E({size:20},e),tt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Xt=function(e){return tt(Kt,E({size:20},e),tt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Jt=function(e){var t=e.isFocused,n=e.theme,l=n.spacing.baseUnit,a=n.colors;return{label:"indicatorContainer",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*l,transition:"color 150ms",":hover":{color:t?a.neutral80:a.neutral40}}},en=Jt,tn=Jt,nn=function(){var e=nt.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Ut||(Gt=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],qt||(qt=Gt.slice(0)),Ut=Object.freeze(Object.defineProperties(Gt,{raw:{value:Object.freeze(qt)}})))),ln=function(e){var t=e.delay,n=e.offset;return tt("span",{css:nt({animation:"".concat(nn," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},an=function(e){var t=e.className,n=e.cx,l=e.getStyles,a=e.innerProps,o=e.isRtl;return tt("div",E({css:l("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},a),tt(ln,{delay:0,offset:o}),tt(ln,{delay:160,offset:!0}),tt(ln,{delay:320,offset:!o}))};an.defaultProps={size:4};var on=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},rn=function(e){var t=e.children,n=e.innerProps;return tt("div",n,t)},sn=rn,cn=rn,un=function(e){var t=e.children,n=e.className,l=e.components,a=e.cx,o=e.data,i=e.getStyles,r=e.innerProps,s=e.isDisabled,c=e.removeProps,u=e.selectProps,d=l.Container,m=l.Label,g=l.Remove;return tt(ot,null,(function(l){var p=l.css,h=l.cx;return tt(d,{data:o,innerProps:yt({className:h(p(i("multiValue",e)),a({"multi-value":!0,"multi-value--is-disabled":s},n))},r),selectProps:u},tt(m,{data:o,innerProps:{className:h(p(i("multiValueLabel",e)),a({"multi-value__label":!0},n))},selectProps:u},t),tt(g,{data:o,innerProps:yt({className:h(p(i("multiValueRemove",e)),a({"multi-value__remove":!0},n))},c),selectProps:u}))}))};un.defaultProps={cropWithEllipsis:!0};var dn={ClearIndicator:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerProps;return tt("div",E({css:a("clearIndicator",e),className:l({indicator:!0,"clear-indicator":!0},n)},o),t||tt(Qt,null))},Control:function(e){var t=e.children,n=e.cx,l=e.getStyles,a=e.className,o=e.isDisabled,i=e.isFocused,r=e.innerRef,s=e.innerProps,c=e.menuIsOpen;return tt("div",E({ref:r,css:l("control",e),className:n({control:!0,"control--is-disabled":o,"control--is-focused":i,"control--menu-is-open":c},a)},s),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerProps;return tt("div",E({css:a("dropdownIndicator",e),className:l({indicator:!0,"dropdown-indicator":!0},n)},o),t||tt(Xt,null))},DownChevron:Xt,CrossIcon:Qt,Group:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.Heading,i=e.headingProps,r=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return tt("div",E({css:a("group",e),className:l({group:!0},n)},r),tt(o,E({},i,{selectProps:u,theme:c,getStyles:a,cx:l}),s),tt("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,l=e.className,a=Nt(e);a.data;var o=rt(a,["data"]);return tt("div",E({css:t("groupHeading",e),className:n({"group-heading":!0},l)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,l=e.cx,a=e.innerProps,o=e.getStyles;return tt("div",E({css:o("indicatorsContainer",e),className:l({indicators:!0},n)},a),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,l=e.getStyles,a=e.innerProps;return tt("span",E({},a,{css:l("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,l=e.getStyles,a=Nt(e),o=a.innerRef,i=a.isDisabled,r=a.isHidden,s=rt(a,["innerRef","isDisabled","isHidden"]);return tt("div",{css:l("input",e)},tt(ct.Z,E({className:n({input:!0},t),inputRef:o,inputStyle:on(r),disabled:i},s)))},LoadingIndicator:an,Menu:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerRef,i=e.innerProps;return tt("div",E({css:a("menu",e),className:l({menu:!0},n),ref:o},i),t)},MenuList:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerProps,i=e.innerRef,r=e.isMulti;return tt("div",E({css:a("menuList",e),className:l({"menu-list":!0,"menu-list--is-multi":r},n),ref:i},o),t)},MenuPortal:Yt,LoadingMessage:Wt,NoOptionsMessage:$t,MultiValue:un,MultiValueContainer:sn,MultiValueLabel:cn,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return tt("div",n,t||tt(Qt,{size:14}))},Option:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.isDisabled,i=e.isFocused,r=e.isSelected,s=e.innerRef,c=e.innerProps;return tt("div",E({css:a("option",e),className:l({option:!0,"option--is-disabled":o,"option--is-focused":i,"option--is-selected":r},n),ref:s},c),t)},Placeholder:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerProps;return tt("div",E({css:a("placeholder",e),className:l({placeholder:!0},n)},o),t)},SelectContainer:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.innerProps,i=e.isDisabled,r=e.isRtl;return tt("div",E({css:a("container",e),className:l({"--is-disabled":i,"--is-rtl":r},n)},o),t)},SingleValue:function(e){var t=e.children,n=e.className,l=e.cx,a=e.getStyles,o=e.isDisabled,i=e.innerProps;return tt("div",E({css:a("singleValue",e),className:l({"single-value":!0,"single-value--is-disabled":o},n)},i),t)},ValueContainer:function(e){var t=e.children,n=e.className,l=e.cx,a=e.innerProps,o=e.isMulti,i=e.getStyles,r=e.hasValue;return tt("div",E({css:i("valueContainer",e),className:l({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":r},n)},a),t)}},mn=function(e){return yt(yt({},dn),e.components)};function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function pn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hn=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function bn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((l=e[n])===(a=t[n])||hn(l)&&hn(a)))return!1;var l,a;return!0}for(var fn={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},vn=function(e){return tt("span",E({css:fn},e))},yn={guidance:function(e){var t=e.isSearchable,n=e.isMulti,l=e.isDisabled,a=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(l?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,l=void 0===n?"":n,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"select-option":return"option ".concat(l,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,l=void 0===n?{}:n,a=e.options,o=e.label,i=void 0===o?"":o,r=e.selectValue,s=e.isDisabled,c=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(i," focused, ").concat(u(r,l),".");if("menu"===t){var d=s?" disabled":"",m="".concat(c?"selected":"focused").concat(d);return"option ".concat(i," ").concat(m,", ").concat(u(a,l),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},wn=function(e){var n=e.ariaSelection,a=e.focusedOption,o=e.focusedValue,i=e.focusableOptions,r=e.isFocused,s=e.selectValue,c=e.selectProps,u=c.ariaLiveMessages,d=c.getOptionLabel,m=c.inputValue,g=c.isMulti,p=c.isOptionDisabled,h=c.isSearchable,b=c.menuIsOpen,_=c.options,f=c.screenReaderStatus,v=c.tabSelectsValue,y=c["aria-label"],w=c["aria-live"],E=(0,t.useMemo)((function(){return yt(yt({},yn),u||{})}),[u]),k=(0,t.useMemo)((function(){var e,t="";if(n&&E.onChange){var l=n.option,a=n.removedValue,o=n.value,i=a||l||(e=o,Array.isArray(e)?null:e),r=yt({isDisabled:i&&p(i),label:i?d(i):""},n);t=E.onChange(r)}return t}),[n,p,d,E]),x=(0,t.useMemo)((function(){var e="",t=a||o,n=!!(a&&s&&s.includes(a));if(t&&E.onFocus){var l={focused:t,label:d(t),isDisabled:p(t),isSelected:n,options:_,context:t===a?"menu":"value",selectValue:s};e=E.onFocus(l)}return e}),[a,o,d,p,E,_,s]),C=(0,t.useMemo)((function(){var e="";if(b&&_.length&&E.onFilter){var t=f({count:i.length});e=E.onFilter({inputValue:m,resultsMessage:t})}return e}),[i,m,b,E,_,f]),S=(0,t.useMemo)((function(){var e="";if(E.guidance){var t=o?"value":b?"menu":"input";e=E.guidance({"aria-label":y,context:t,isDisabled:a&&p(a),isMulti:g,isSearchable:h,tabSelectsValue:v})}return e}),[y,a,o,g,p,h,b,E,v]),N="".concat(x," ").concat(C," ").concat(S);return tt(vn,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},r&&tt(l().Fragment,null,tt("span",{id:"aria-selection"},k),tt("span",{id:"aria-context"},N)))},En=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],kn=new RegExp("["+En.map((function(e){return e.letters})).join("")+"]","g"),xn={},Cn=0;Cn<En.length;Cn++)for(var Sn=En[Cn],Nn=0;Nn<Sn.letters.length;Nn++)xn[Sn.letters[Nn]]=Sn.base;var zn=function(e){return e.replace(kn,(function(e){return xn[e]}))},Bn=function(e,t){var n;void 0===t&&(t=bn);var l,a=[],o=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return o&&n===this&&t(i,a)||(l=e.apply(this,i),o=!0,n=this,a=i),l}}(zn),Tn=function(e){return e.replace(/^\s+|\s+$/g,"")},Pn=function(e){return"".concat(e.label," ").concat(e.value)};function An(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=rt(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return tt("input",E({ref:t},n,{css:nt({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var In=function(e){e.preventDefault(),e.stopPropagation()},Rn=["boxSizing","height","overflow","paddingRight","position"],Mn={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ln(e){e.preventDefault()}function Fn(e){e.stopPropagation()}function On(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Hn(){return"ontouchstart"in window||navigator.maxTouchPoints}var Vn=!("undefined"==typeof window||!window.document||!window.document.createElement),Dn=0,jn={capture:!1,passive:!1},$n=function(){return document.activeElement&&document.activeElement.blur()},Wn={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Un(e){var n=e.children,a=e.lockEnabled,o=e.captureEnabled,i=function(e){var n=e.isEnabled,l=e.onBottomArrive,a=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,r=(0,t.useRef)(!1),s=(0,t.useRef)(!1),c=(0,t.useRef)(0),u=(0,t.useRef)(null),d=(0,t.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,d=n.scrollHeight,m=n.clientHeight,g=u.current,p=t>0,h=d-m-c,b=!1;h>t&&r.current&&(a&&a(e),r.current=!1),p&&s.current&&(i&&i(e),s.current=!1),p&&t>h?(l&&!r.current&&l(e),g.scrollTop=d,b=!0,r.current=!0):!p&&-t>c&&(o&&!s.current&&o(e),g.scrollTop=0,b=!0,s.current=!0),b&&In(e)}}),[]),m=(0,t.useCallback)((function(e){d(e,e.deltaY)}),[d]),g=(0,t.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,t.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),h=(0,t.useCallback)((function(e){if(e){var t=!!Lt&&{passive:!1};"function"==typeof e.addEventListener&&e.addEventListener("wheel",m,t),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",g,t),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",p,t)}}),[p,g,m]),b=(0,t.useCallback)((function(e){e&&("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",m,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",g,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",p,!1))}),[p,g,m]);return(0,t.useEffect)((function(){if(n){var e=u.current;return h(e),function(){b(e)}}}),[n,h,b]),function(e){u.current=e}}({isEnabled:void 0===o||o,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),r=function(e){var n=e.isEnabled,l=e.accountForScrollbars,a=void 0===l||l,o=(0,t.useRef)({}),i=(0,t.useRef)(null),r=(0,t.useCallback)((function(e){if(Vn){var t=document.body,n=t&&t.style;if(a&&Rn.forEach((function(e){var t=n&&n[e];o.current[e]=t})),a&&Dn<1){var l=parseInt(o.current.paddingRight,10)||0,i=document.body?document.body.clientWidth:0,r=window.innerWidth-i+l||0;Object.keys(Mn).forEach((function(e){var t=Mn[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(r,"px"))}t&&Hn()&&(t.addEventListener("touchmove",Ln,jn),e&&(e.addEventListener("touchstart",On,jn),e.addEventListener("touchmove",Fn,jn))),Dn+=1}}),[]),s=(0,t.useCallback)((function(e){if(Vn){var t=document.body,n=t&&t.style;Dn=Math.max(Dn-1,0),a&&Dn<1&&Rn.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&Hn()&&(t.removeEventListener("touchmove",Ln,jn),e&&(e.removeEventListener("touchstart",On,jn),e.removeEventListener("touchmove",Fn,jn)))}}),[]);return(0,t.useEffect)((function(){if(n){var e=i.current;return r(e),function(){s(e)}}}),[n,r,s]),function(e){i.current=e}}({isEnabled:a});return tt(l().Fragment,null,a&&tt("div",{onClick:$n,css:Wn}),n((function(e){i(e),r(e)})))}var Gn={clearIndicator:tn,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,l=e.theme,a=l.colors,o=l.borderRadius,i=l.spacing;return{label:"control",alignItems:"center",backgroundColor:t?a.neutral5:a.neutral0,borderColor:t?a.neutral10:n?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(a.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?a.primary:a.neutral30}}},dropdownIndicator:en,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,l=n.spacing.baseUnit,a=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?a.neutral10:a.neutral20,marginBottom:2*l,marginTop:2*l,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,l=n.spacing,a=n.colors;return{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,visibility:t?"hidden":"visible",color:a.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,l=e.theme,a=l.colors,o=l.spacing.baseUnit;return{label:"loadingIndicator",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:jt,menu:function(e){var t,n=e.placement,l=e.theme,a=l.borderRadius,o=l.spacing,i=l.colors;return bt(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),bt(t,"backgroundColor",i.neutral0),bt(t,"borderRadius",a),bt(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),bt(t,"marginBottom",o.menuGutter),bt(t,"marginTop",o.menuGutter),bt(t,"position","absolute"),bt(t,"width","100%"),bt(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,l=e.position;return{left:t.left,position:l,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,l=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:l/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,l=t.colors,a=e.cropWithEllipsis;return{borderRadius:n/2,color:l.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:a?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,l=t.borderRadius,a=t.colors;return{alignItems:"center",borderRadius:l/2,backgroundColor:e.isFocused&&a.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}}},noOptionsMessage:Dt,option:function(e){var t=e.isDisabled,n=e.isFocused,l=e.isSelected,a=e.theme,o=a.spacing,i=a.colors;return{label:"option",backgroundColor:l?i.primary:n?i.primary25:"transparent",color:t?i.neutral20:l?i.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(l?i.primary:i.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,l=n.spacing,a=n.colors;return{label:"singleValue",color:t?a.neutral40:a.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2,maxWidth:"calc(100% - ".concat(2*l.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}},qn={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Yn={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:At(),captureMenuScroll:!At(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=yt({ignoreCase:!0,ignoreAccents:!0,stringify:Pn,trim:!0,matchFrom:"any"},undefined),l=n.ignoreCase,a=n.ignoreAccents,o=n.stringify,i=n.trim,r=n.matchFrom,s=i?Tn(t):t,c=i?Tn(o(e)):o(e);return l&&(s=s.toLowerCase(),c=c.toLowerCase()),a&&(s=Bn(s),c=zn(c)),"start"===r?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function Zn(e,t,n,l){return{type:"option",data:t,isDisabled:tl(e,t,n),isSelected:nl(e,t,n),label:Jn(e,t),value:el(e,t),index:l}}function Kn(e,t){return e.options.map((function(n,l){if(n.options){var a=n.options.map((function(n,l){return Zn(e,n,t,l)})).filter((function(t){return Xn(e,t)}));return a.length>0?{type:"group",data:n,options:a,index:l}:void 0}var o=Zn(e,n,t,l);return Xn(e,o)?o:void 0})).filter((function(e){return!!e}))}function Qn(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,pn(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Xn(e,t){var n=e.inputValue,l=void 0===n?"":n,a=t.data,o=t.isSelected,i=t.label,r=t.value;return(!al(e)||!o)&&ll(e,{label:i,value:r,data:a},l)}var Jn=function(e,t){return e.getOptionLabel(t)},el=function(e,t){return e.getOptionValue(t)};function tl(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function nl(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var l=el(e,t);return n.some((function(t){return el(e,t)===l}))}function ll(e,t,n){return!e.filterOption||e.filterOption(t,n)}var al=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},ol=1,il=function(e){ht(n,e);var t=Et(n);function n(e){var l;return ut(this,n),(l=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},l.blockOptionHover=!1,l.isComposing=!1,l.commonProps=void 0,l.initialTouchX=0,l.initialTouchY=0,l.instancePrefix="",l.openAfterFocus=!1,l.scrollToFocusedOptionOnUpdate=!1,l.userIsDragging=void 0,l.controlRef=null,l.getControlRef=function(e){l.controlRef=e},l.focusedOptionRef=null,l.getFocusedOptionRef=function(e){l.focusedOptionRef=e},l.menuListRef=null,l.getMenuListRef=function(e){l.menuListRef=e},l.inputRef=null,l.getInputRef=function(e){l.inputRef=e},l.focus=l.focusInput,l.blur=l.blurInput,l.onChange=function(e,t){var n=l.props,a=n.onChange,o=n.name;t.name=o,l.ariaOnChange(e,t),a(e,t)},l.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,a=l.props,o=a.closeMenuOnSelect,i=a.isMulti;l.onInputChange("",{action:"set-value"}),o&&(l.setState({inputIsHiddenAfterUpdate:!i}),l.onMenuClose()),l.setState({clearFocusValueOnUpdate:!0}),l.onChange(e,{action:t,option:n})},l.selectOption=function(e){var t=l.props,n=t.blurInputOnSelect,a=t.isMulti,o=t.name,i=l.state.selectValue,r=a&&l.isOptionSelected(e,i),s=l.isOptionDisabled(e,i);if(r){var c=l.getOptionValue(e);l.setValue(i.filter((function(e){return l.getOptionValue(e)!==c})),"deselect-option",e)}else{if(s)return void l.ariaOnChange(e,{action:"select-option",name:o});a?l.setValue([].concat(pn(i),[e]),"select-option",e):l.setValue(e,"select-option")}n&&l.blurInput()},l.removeValue=function(e){var t=l.props.isMulti,n=l.state.selectValue,a=l.getOptionValue(e),o=n.filter((function(e){return l.getOptionValue(e)!==a})),i=t?o:o[0]||null;l.onChange(i,{action:"remove-value",removedValue:e}),l.focusInput()},l.clearValue=function(){var e=l.state.selectValue;l.onChange(l.props.isMulti?[]:null,{action:"clear",removedValues:e})},l.popValue=function(){var e=l.props.isMulti,t=l.state.selectValue,n=t[t.length-1],a=t.slice(0,t.length-1),o=e?a:a[0]||null;l.onChange(o,{action:"pop-value",removedValue:n})},l.getValue=function(){return l.state.selectValue},l.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ct.apply(void 0,[l.props.classNamePrefix].concat(t))},l.getOptionLabel=function(e){return Jn(l.props,e)},l.getOptionValue=function(e){return el(l.props,e)},l.getStyles=function(e,t){var n=Gn[e](t);n.boxSizing="border-box";var a=l.props.styles[e];return a?a(n,t):n},l.getElementId=function(e){return"".concat(l.instancePrefix,"-").concat(e)},l.getComponents=function(){return mn(l.props)},l.buildCategorizedOptions=function(){return Kn(l.props,l.state.selectValue)},l.getCategorizedOptions=function(){return l.props.menuIsOpen?l.buildCategorizedOptions():[]},l.buildFocusableOptions=function(){return Qn(l.buildCategorizedOptions())},l.getFocusableOptions=function(){return l.props.menuIsOpen?l.buildFocusableOptions():[]},l.ariaOnChange=function(e,t){l.setState({ariaSelection:yt({value:e},t)})},l.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),l.focusInput())},l.onMenuMouseMove=function(e){l.blockOptionHover=!1},l.onControlMouseDown=function(e){var t=l.props.openMenuOnClick;l.state.isFocused?l.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&l.onMenuClose():t&&l.openMenu("first"):(t&&(l.openAfterFocus=!0),l.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},l.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||l.props.isDisabled)){var t=l.props,n=t.isMulti,a=t.menuIsOpen;l.focusInput(),a?(l.setState({inputIsHiddenAfterUpdate:!n}),l.onMenuClose()):l.openMenu("first"),e.preventDefault(),e.stopPropagation()}},l.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(l.clearValue(),e.stopPropagation(),l.openAfterFocus=!1,"touchend"===e.type?l.focusInput():setTimeout((function(){return l.focusInput()})))},l.onScroll=function(e){"boolean"==typeof l.props.closeMenuOnScroll?e.target instanceof HTMLElement&&zt(e.target)&&l.props.onMenuClose():"function"==typeof l.props.closeMenuOnScroll&&l.props.closeMenuOnScroll(e)&&l.props.onMenuClose()},l.onCompositionStart=function(){l.isComposing=!0},l.onCompositionEnd=function(){l.isComposing=!1},l.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(l.initialTouchX=n.clientX,l.initialTouchY=n.clientY,l.userIsDragging=!1)},l.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var a=Math.abs(n.clientX-l.initialTouchX),o=Math.abs(n.clientY-l.initialTouchY);l.userIsDragging=a>5||o>5}},l.onTouchEnd=function(e){l.userIsDragging||(l.controlRef&&!l.controlRef.contains(e.target)&&l.menuListRef&&!l.menuListRef.contains(e.target)&&l.blurInput(),l.initialTouchX=0,l.initialTouchY=0)},l.onControlTouchEnd=function(e){l.userIsDragging||l.onControlMouseDown(e)},l.onClearIndicatorTouchEnd=function(e){l.userIsDragging||l.onClearIndicatorMouseDown(e)},l.onDropdownIndicatorTouchEnd=function(e){l.userIsDragging||l.onDropdownIndicatorMouseDown(e)},l.handleInputChange=function(e){var t=e.currentTarget.value;l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange(t,{action:"input-change"}),l.props.menuIsOpen||l.onMenuOpen()},l.onInputFocus=function(e){l.props.onFocus&&l.props.onFocus(e),l.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(l.openAfterFocus||l.props.openMenuOnFocus)&&l.openMenu("first"),l.openAfterFocus=!1},l.onInputBlur=function(e){l.menuListRef&&l.menuListRef.contains(document.activeElement)?l.inputRef.focus():(l.props.onBlur&&l.props.onBlur(e),l.onInputChange("",{action:"input-blur"}),l.onMenuClose(),l.setState({focusedValue:null,isFocused:!1}))},l.onOptionHover=function(e){l.blockOptionHover||l.state.focusedOption===e||l.setState({focusedOption:e})},l.shouldHideSelectedOptions=function(){return al(l.props)},l.onKeyDown=function(e){var t=l.props,n=t.isMulti,a=t.backspaceRemovesValue,o=t.escapeClearsValue,i=t.inputValue,r=t.isClearable,s=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,m=t.openMenuOnFocus,g=l.state,p=g.focusedOption,h=g.focusedValue,b=g.selectValue;if(!(s||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(l.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||i)return;l.focusValue("previous");break;case"ArrowRight":if(!n||i)return;l.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(h)l.removeValue(h);else{if(!a)return;n?l.popValue():r&&l.clearValue()}break;case"Tab":if(l.isComposing)return;if(e.shiftKey||!c||!d||!p||m&&l.isOptionSelected(p,b))return;l.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(l.isComposing)return;l.selectOption(p);break}return;case"Escape":c?(l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange("",{action:"menu-close"}),l.onMenuClose()):r&&o&&l.clearValue();break;case" ":if(i)return;if(!c){l.openMenu("first");break}if(!p)return;l.selectOption(p);break;case"ArrowUp":c?l.focusOption("up"):l.openMenu("last");break;case"ArrowDown":c?l.focusOption("down"):l.openMenu("first");break;case"PageUp":if(!c)return;l.focusOption("pageup");break;case"PageDown":if(!c)return;l.focusOption("pagedown");break;case"Home":if(!c)return;l.focusOption("first");break;case"End":if(!c)return;l.focusOption("last");break;default:return}e.preventDefault()}},l.instancePrefix="react-select-"+(l.props.instanceId||++ol),l.state.selectValue=St(e.value),l}return gt(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t,n,l,a,o,i=this.props,r=i.isDisabled,s=i.menuIsOpen,c=this.state.isFocused;(c&&!r&&e.isDisabled||c&&s&&!e.menuIsOpen)&&this.focusInput(),c&&r&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,l=t.getBoundingClientRect(),a=n.getBoundingClientRect(),o=n.offsetHeight/3,a.bottom+o>l.bottom?Tt(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+o,t.scrollHeight)):a.top-o<l.top&&Tt(t,Math.max(n.offsetTop-o,0)),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,l=n.selectValue,a=n.isFocused,o=this.buildFocusableOptions(),i="first"===e?0:o.length-1;if(!this.props.isMulti){var r=o.indexOf(l[0]);r>-1&&(i=r)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[i]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,l=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=n.indexOf(l);l||(a=-1);var o=n.length-1,i=-1;if(n.length){switch(e){case"previous":i=0===a?0:-1===a?o:a-1;break;case"next":a>-1&&a<o&&(i=a+1)}this.setState({inputIsHidden:-1!==i,focusedValue:n[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,o=l.indexOf(n);n||(o=-1),"up"===e?a=o>0?o-1:l.length-1:"down"===e?a=(o+1)%l.length:"pageup"===e?(a=o-t)<0&&(a=0):"pagedown"===e?(a=o+t)>l.length-1&&(a=l.length-1):"last"===e&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(qn):yt(yt({},qn),this.props.theme):qn}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,l=this.getValue,a=this.selectOption,o=this.setValue,i=this.props,r=i.isMulti,s=i.isRtl,c=i.options;return{clearValue:e,cx:t,getStyles:n,getValue:l,hasValue:this.hasValue(),isMulti:r,isRtl:s,options:c,selectOption:a,selectProps:i,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return tl(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return nl(this.props,e,t)}},{key:"filterOption",value:function(e,t){return ll(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:l})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,a=e.inputId,o=e.inputValue,i=e.tabIndex,r=e.form,s=this.getComponents().Input,c=this.state.inputIsHidden,u=this.commonProps,d=a||this.getElementId("input"),m={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?l().createElement(s,E({},u,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:d,innerRef:this.getInputRef,isDisabled:t,isHidden:c,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:i,form:r,type:"text",value:o},m)):l().createElement(An,E({id:d,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:kt,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:i,form:r,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,a=t.MultiValueContainer,o=t.MultiValueLabel,i=t.MultiValueRemove,r=t.SingleValue,s=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,m=u.isDisabled,g=u.isMulti,p=u.inputValue,h=u.placeholder,b=this.state,_=b.selectValue,f=b.focusedValue,v=b.isFocused;if(!this.hasValue()||!d)return p?null:l().createElement(s,E({},c,{key:"placeholder",isDisabled:m,isFocused:v}),h);if(g){var y=_.map((function(t,r){var s=t===f;return l().createElement(n,E({},c,{components:{Container:a,Label:o,Remove:i},isFocused:s,isDisabled:m,key:"".concat(e.getOptionValue(t)).concat(r),index:r,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));return y}if(p)return null;var w=_[0];return l().createElement(r,E({},c,{data:w,isDisabled:m}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||o)return null;var r={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return l().createElement(e,E({},t,{innerProps:r,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,o=n.isLoading,i=this.state.isFocused;return e&&o?l().createElement(e,E({},t,{innerProps:{"aria-hidden":"true"},isDisabled:a,isFocused:i})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var a=this.commonProps,o=this.props.isDisabled,i=this.state.isFocused;return l().createElement(n,E({},a,{isDisabled:o,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,a=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return l().createElement(e,E({},t,{innerProps:o,isDisabled:n,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,a=t.GroupHeading,o=t.Menu,i=t.MenuList,r=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,m=this.state.focusedOption,g=this.props,p=g.captureMenuScroll,h=g.inputValue,b=g.isLoading,_=g.loadingMessage,f=g.minMenuHeight,v=g.maxMenuHeight,y=g.menuIsOpen,w=g.menuPlacement,k=g.menuPosition,x=g.menuPortalTarget,C=g.menuShouldBlockScroll,S=g.menuShouldScrollIntoView,N=g.noOptionsMessage,z=g.onMenuScrollToTop,B=g.onMenuScrollToBottom;if(!y)return null;var T,P=function(t,n){var a=t.type,o=t.data,i=t.isDisabled,r=t.isSelected,s=t.label,c=t.value,g=m===o,p=i?void 0:function(){return e.onOptionHover(o)},h=i?void 0:function(){return e.selectOption(o)},b="".concat(e.getElementId("option"),"-").concat(n),_={id:b,onClick:h,onMouseMove:p,onMouseOver:p,tabIndex:-1};return l().createElement(u,E({},d,{innerProps:_,data:o,isDisabled:i,isSelected:r,key:b,label:s,type:a,value:c,isFocused:g,innerRef:g?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(t){if("group"===t.type){var o=t.data,i=t.options,r=t.index,s="".concat(e.getElementId("group"),"-").concat(r),c="".concat(s,"-heading");return l().createElement(n,E({},d,{key:s,data:o,options:i,Heading:a,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return P(e,"".concat(r,"-").concat(e.index))})))}if("option"===t.type)return P(t,"".concat(t.index))}));else if(b){var A=_({inputValue:h});if(null===A)return null;T=l().createElement(s,d,A)}else{var I=N({inputValue:h});if(null===I)return null;T=l().createElement(c,d,I)}var R={minMenuHeight:f,maxMenuHeight:v,menuPlacement:w,menuPosition:k,menuShouldScrollIntoView:S},M=l().createElement(Ht,E({},d,R),(function(t){var n=t.ref,a=t.placerProps,r=a.placement,s=a.maxHeight;return l().createElement(o,E({},d,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:b,placement:r}),l().createElement(Un,{captureEnabled:p,onTopArrive:z,onBottomArrive:B,lockEnabled:C},(function(t){return l().createElement(i,E({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:b,maxHeight:s,focusedOption:m}),T)})))}));return x||"fixed"===k?l().createElement(r,E({},d,{appendTo:x,controlElement:this.controlRef,menuPlacement:w,menuPosition:k}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,a=t.isDisabled,o=t.isMulti,i=t.name,r=this.state.selectValue;if(i&&!a){if(o){if(n){var s=r.map((function(t){return e.getOptionValue(t)})).join(n);return l().createElement("input",{name:i,type:"hidden",value:s})}var c=r.length>0?r.map((function(t,n){return l().createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})})):l().createElement("input",{name:i,type:"hidden"});return l().createElement("div",null,c)}var u=r[0]?this.getOptionValue(r[0]):"";return l().createElement("input",{name:i,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,a=t.focusedOption,o=t.focusedValue,i=t.isFocused,r=t.selectValue,s=this.getFocusableOptions();return l().createElement(wn,E({},e,{ariaSelection:n,focusedOption:a,focusedValue:o,isFocused:i,selectValue:r,focusableOptions:s}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,a=e.SelectContainer,o=e.ValueContainer,i=this.props,r=i.className,s=i.id,c=i.isDisabled,u=i.menuIsOpen,d=this.state.isFocused,m=this.commonProps=this.getCommonProps();return l().createElement(a,E({},m,{className:r,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),l().createElement(t,E({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),l().createElement(o,E({},m,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),l().createElement(n,E({},m,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,l=t.clearFocusValueOnUpdate,a=t.inputIsHiddenAfterUpdate,o=e.options,i=e.value,r=e.menuIsOpen,s=e.inputValue,c={};if(n&&(i!==n.value||o!==n.options||r!==n.menuIsOpen||s!==n.inputValue)){var u=St(i),d=r?function(e,t){return Qn(Kn(e,t))}(e,u):[],m=l?function(e,t){var n=e.focusedValue,l=e.selectValue.indexOf(n);if(l>-1){if(t.indexOf(n)>-1)return n;if(l<t.length)return t[l]}return null}(t,u):null,g=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,d);c={selectValue:u,focusedOption:g,focusedValue:m,clearFocusValueOnUpdate:!1}}var p=null!=a&&e!==n?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{};return yt(yt(yt({},c),p),{},{prevProps:e})}}]),n}(t.Component);il.defaultProps=Yn;var rl,sl,cl,ul=(t.Component,rl=il,cl=sl=function(e){ht(n,e);var t=Et(n);function n(){var e;ut(this,n);for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var l=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==l?l:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return gt(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,l=new Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];return(t=this.props)[e].apply(t,l)}}},{key:"render",value:function(){var e=this,t=this.props;t.defaultInputValue,t.defaultMenuIsOpen,t.defaultValue;var n=rt(t,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return l().createElement(rl,E({},n,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(t.Component),sl.defaultProps={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},cl),dl=ul;class ml extends e.Component{constructor(e){super(e),this.state={isAPILoaded:!1,isValidated:!1,name:"",email:"",email_help:"",verifyingEmail:!1,emailVerified:!1,emailUnverified:!1,disableSelect:"",updatingSegments:!1},this.updateOptions=this.updateOptions.bind(this),this.verifyEmail=this.verifyEmail.bind(this),this.updateItems=this.updateItems.bind(this)}componentDidMount(){o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_esp_options",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{const t={isAPILoaded:!0,isValidated:Boolean(e.is_validated)};for(var n in e)t[n]=e[n];this.setState(t)}))}updateOptions(){var e=this.props;const t={};for(var n in this.state)t[n]=this.state[n];o()({path:"newsletterglue/"+nglue_backend.api_version+"/update_esp_options",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{e.changeState({step:4,completedStep:3})}))}handleChange(e,t){var n=this.state.options;n[e].value=t.target.value,this.setState({options:n})}verifyEmail(e){let t=!1;e||(t=!0),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(t=!0),t?this.setState({emailVerified:!1,emailUnverified:!0,verifyingEmail:!1,isValidated:!1}):o()({path:"newsletterglue/"+nglue_backend.api_version+"/verify_email",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:{esp:this.state.esp,email:e}}).then((e=>{e.failed?this.setState({emailVerified:!1,emailUnverified:!0,verifyingEmail:!1,isValidated:!1}):this.setState({emailVerified:!0,emailUnverified:!1,verifyingEmail:!1,isValidated:!0})}))}updateItems(e,t){this.setState({updatingSegments:!0,disableSelect:e,isValidated:!1});let n=this.state.options[e].callback;o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_esp_items?esp="+this.state.esp+"&parameter="+t.value+"&callback="+n,method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((t=>{let n=this.state;n.options[e].items=t,n.options[e].value="",n.options[e].default="",n.updatingSegments=!1,n.disableSelect="",n.isValidated=!0,this.setState(n)}))}render(){if(!this.state.isAPILoaded)return(0,e.createElement)(k,{isAlt:!0});const{name:t,email:n,email_help:l,isValidated:a,options:o,verifyingEmail:r,emailVerified:c,emailUnverified:u,disableSelect:d,updatingSegments:m}=this.state;var g=[];for(var p in o){var h=o[p];g.push((0,e.createElement)(s.PanelRow,{key:`nglue-option-${p}`},(0,e.createElement)(s.BaseControl,{label:h.title,id:p,className:`nglue-field-${p}`},"select"==h.type&&(0,e.createElement)(dl,{name:p,inputId:p,isMulti:h.is_multi,classNamePrefix:"nglue",options:h.items,value:h.value||h.is_multi?h.value:h.default,isDisabled:d===p&&m,isLoading:d===p&&m,placeholder:h.placeholder,onChange:(e,t)=>{var n=this.state.options;e!==n[t.name].value&&(n[t.name].value=e,this.setState({options:n}),n[t.name].onchange&&this.updateItems(n[t.name].onchange,e))}}),"text"==h.type&&(0,e.createElement)("input",{type:"text",id:p,name:p,className:"components-text-control__input",value:h.value?h.value:h.default,onChange:this.handleChange.bind(this,p)}),h.help&&(0,e.createElement)("div",{className:"extra-help b",dangerouslySetInnerHTML:{__html:h.help}}))))}return(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("h2",null,(0,i.__)("Set your default newsletter settings","newsletter-glue")),(0,e.createElement)("p",null,(0,i.__)("You can easily set different newsletter settings when publishing a newsletter or change your newsletter defaults in the Settings.","newsletter-glue"))),g,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("From name","newsletter-glue"),id:"nglue-esp-name",help:(0,i.__)("Your subscribers will see this name in their inboxes.","newsletter-glue")},(0,e.createElement)(s.TextControl,{id:"nglue-esp-name",value:t,onChange:e=>{this.setState({name:e})}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("From email","newsletter-glue"),id:"nglue-esp-email",className:u?"nglue-has-loading-indicator nglue-input-error":"nglue-has-loading-indicator"},(0,e.createElement)(s.TextControl,{id:"nglue-esp-email",value:n,onChange:e=>{this.setState({email:e,isValidated:!1,verifyingEmail:!0}),this.verifyEmail(e)}}),r&&(0,e.createElement)("div",{className:"nglue__indicator nglue__loading-indicator"},(0,e.createElement)("span",null),(0,e.createElement)("span",null),(0,e.createElement)("span",null)),c&&!r&&(0,e.createElement)("div",{className:"nglue__indicator nglue__loading-indicator"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},(0,e.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,e.createElement)("path",{fill:"#2FCC71",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6l7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z"}))),u&&!r&&(0,e.createElement)("div",{className:"nglue__indicator nglue__loading-indicator"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},(0,e.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,e.createElement)("path",{d:"M12.866 3l9.526 16.5a1 1 0 0 1-.866 1.5H2.474a1 1 0 0 1-.866-1.5L11.134 3a1 1 0 0 1 1.732 0zm-8.66 16h15.588L12 5.5 4.206 19zM11 16h2v2h-2v-2zm0-7h2v5h-2V9z",fill:"rgba(246,0,0,1)"}))),(0,e.createElement)("div",{className:"extra-help b ignore-error"},(0,i.__)("Subscribers will see and reply to this email address.","newsletter-glue")),(0,e.createElement)("div",{className:"extra-help ignore-error"},(0,i.__)("Only use verified email addresses.","newsletter-glue")," ",(0,e.createElement)(s.ExternalLink,{href:l},(0,i.__)("Learn more","newsletter-glue"))))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{isPrimary:!0,disabled:!a,onClick:this.updateOptions},(0,i.__)("Next: Personalise your patterns","newsletter-glue"))))}}class gl extends e.Component{componentDidMount(){var e=this.props.state;this.props.changeState({isSaving:!0}),setTimeout((()=>{o()({path:"newsletterglue/"+nglue_backend.api_version+"/update_patterns",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:e}).then((()=>{window.location.href=e.successRedirect}))}),2e3)}render(){return(0,e.createElement)(s.PanelBody,{className:"ngl-setting-up"},(0,e.createElement)("h2",null,(0,i.__)("Customising your patterns now...","newsletter-glue")),(0,e.createElement)("p",null,(0,i.__)("We'll automatically redirect you back to Patterns when we're done.","newsletter-glue")),(0,e.createElement)(k,null))}}class pl extends e.Component{render(){let t;var n=this.props.state,l=this.props,a=parseInt(n.logo_width)>0?parseInt(n.logo_width):165;return(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("h2",null,(0,i.__)("Add a logo","newsletter-glue")),(0,e.createElement)("p",null,(0,i.__)("You can always change this later in the Newsletter Theme Designer under Settings.","newsletter-glue"))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Your newsletter's logo","newsletter-glue"),id:"nglue-admin-logo"},n.logo_id>0&&(0,e.createElement)(s.Card,null,(0,e.createElement)(s.CardMedia,null,(0,e.createElement)("img",{src:n.logo_url?n.logo_url:"",style:{maxWidth:a}}))),(0,e.createElement)("div",{className:"ngl-button-group"},(0,e.createElement)(s.Button,{isSecondary:!0,disabled:!1,onClick:e=>{e.preventDefault(),t||(t=wp.media({title:(0,i.__)("Select or upload your logo","newsletter-glue"),button:{text:(0,i.__)("Use this image","newsletter-glue")},multiple:!1}),t.on("select",(function(){var e=t.state().get("selection").toJSON()[0];e.id&&(l.changeState({logo_id:e.id}),l.changeState({logo_url:e.url}))}))),t.open()}},n.logo_id>0?(0,i.__)("Change logo","newsletter-glue"):(0,i.__)("Select logo","newsletter-glue")),n.logo_id>0&&(0,e.createElement)(s.Button,{isTertiary:!0,onClick:()=>{l.changeState({logo_id:""}),l.changeState({logo_url:""})}},(0,i.__)("Remove logo","newsletter-glue"))),(0,e.createElement)("div",{className:"extra-help b"},(0,i.__)("This will be the default logo in your newsletter patterns.","newsletter-glue")))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{className:"ngl-range-top"},(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Your logo's max width","newsletter-glue"),value:parseInt(n.logo_width),min:0,max:600,step:10,resetFallbackValue:165,allowReset:!0,help:(0,i.__)("You can always resize the logo in the post editor.","newsletter-glue"),showTooltip:!1,trackColor:"#ddd",railColor:"#eee",onChange:e=>{l.changeState({logo_width:e})}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{isPrimary:!0,disabled:!1,onClick:()=>{l.changeState({step:6,completedStep:5}),l.changeOptions()}},(0,i.__)("Next: Add social media accounts","newsletter-glue"))))}}class hl extends e.Component{render(){var t=this.props.state,n=this.props,l=(0,i.__)("For example: {{ admin_name,fallback="+t.admin_name+" }}","newsletter-glue"),a=(0,i.__)("For example: {{ admin_address,fallback=221B Baker Street }}","newsletter-glue");return t.admin_address&&(a=(0,i.__)("For example: {{ admin_address,fallback="+t.admin_address+" }}","newsletter-glue")),(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(s.PanelRow,null,t.showPatternWelcome&&(0,e.createElement)("h4",null,(0,i.__)("Welcome! This will only take a minute.","newsletter-glue")),(0,e.createElement)("h2",null,(0,i.__)("Personalise your patterns","newsletter-glue")),(0,e.createElement)("p",null,(0,i.__)("You can always change this later in each specific mergetag.","newsletter-glue"))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Your name/Company name","newsletter-glue"),id:"nglue-admin-name"},(0,e.createElement)(s.TextControl,{id:"nglue-admin-name",value:t.admin_name,placeholder:t.admin_name,onChange:e=>{n.changeState({admin_name:e})}}),(0,e.createElement)("div",{className:"extra-help b"},(0,i.__)("This will be used in the name mergetag.","newsletter-glue")),(0,e.createElement)("div",{className:"extra-help"},l))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Your physical address","newsletter-glue"),id:"nglue-admin-address"},(0,e.createElement)(s.TextareaControl,{id:"nglue-admin-address",value:t.admin_address,placeholder:(0,i.__)("Street address","newsletter-glue"),rows:"4",onChange:e=>{n.changeState({admin_address:e})}}),(0,e.createElement)("div",{className:"extra-help b"},(0,i.__)("This will be used in the address mergetag to comply with international anti-spam laws.","newsletter-glue")),(0,e.createElement)("div",{className:"extra-help"},a))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{isPrimary:!0,disabled:!1,onClick:()=>{n.changeState({step:5,completedStep:4}),n.changeOptions()}},(0,i.__)("Next: Add a logo","newsletter-glue"))))}}const bl=["admin_name","admin_address","logo_id","logo_url","logo_width","instagram_url","tiktok_url","twitter_url","facebook_url","linkedin_url","twitch_url","youtube_url"],_l=[{value:"instagram_url",label:(0,i.__)("Instagram URL","newsletter-glue")},{value:"tiktok_url",label:(0,i.__)("Tiktok URL","newsletter-glue")},{value:"twitter_url",label:(0,i.__)("Twitter URL","newsletter-glue")},{value:"facebook_url",label:(0,i.__)("Facebook URL","newsletter-glue")},{value:"linkedin_url",label:(0,i.__)("LinkedIn URL","newsletter-glue")},{value:"twitch_url",label:(0,i.__)("Twitch URL","newsletter-glue")},{value:"youtube_url",label:(0,i.__)("YouTube URL","newsletter-glue")}];class fl extends e.Component{constructor(e){super(e),this.finishSetup=this.finishSetup.bind(this),this.state={finishingSetup:!1}}finishSetup(){var e=this.props.state;this.setState({finishingSetup:!0});let t=e;t.recreate_demo=!0,o()({path:"newsletterglue/"+nglue_backend.api_version+"/pattern_settings",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{o()({path:"newsletterglue/"+nglue_backend.api_version+"/update_patterns",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((t=>{var n=t.redirect_to?t.redirect_to:e.successRedirect;window.location.href=n.replace(/&amp;/g,"&")}))}))}render(){var t=this.props.state,n=this.props;const l=_l.map((l=>(0,e.createElement)(s.PanelRow,{key:`row-${l.value}`},(0,e.createElement)(s.BaseControl,{label:[l.label,(0,e.createElement)("i",{key:l.value,className:"ngl-optional"},"(optional)")],id:`nglue-admin-${l.value}`},(0,e.createElement)(s.TextControl,{id:`nglue-admin-${l.value}`,value:t[l.value],onChange:e=>{n.changeState({[l.value]:e})}})))));return(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("h2",null,(0,i.__)("Social media accounts","newsletter-glue")),(0,e.createElement)("p",null,(0,i.__)("This will be used in our custom Social Follow block. You can always change it later on.","newsletter-glue"))),(0,e.createElement)("div",{className:"ngl-wizard-flex"},l),!t.isOnboarding&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{isPrimary:!0,disabled:!1,onClick:()=>{n.changeState({step:7,completedStep:6}),n.changeOptions()}},(0,i.__)("Done! Create custom patterns","newsletter-glue"))),t.isOnboarding&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("h3",null,(0,i.__)("Your setup is complete! Ready to send your first test email?","newsletter-glue")),(0,e.createElement)("p",{style:{marginTop:0}},(0,i.__)("We’ve created a demo post for you to play with and send as your first test email.  Let’s head there now.","newsletter-glue"))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{isPrimary:!0,className:"has-icon-right",onClick:this.finishSetup,isBusy:this.state.finishingSetup,disabled:this.state.finishingSetup},this.state.finishingSetup&&(0,i.__)("Finalizing setup...","newsletter-glue"),!this.state.finishingSetup&&(0,i.__)("Complete onboarding and head to demo post","newsletter-glue")))))}}const vl={1:"License",2:"Email provider",3:"Newsletter defaults",4:"Personalisation",5:"Brand",6:"Social accounts"};class yl extends e.Component{constructor(e){super(e),this.changeState=this.changeState.bind(this),this.changeOptions=this.changeOptions.bind(this);const t={isReady:!1,step:1,completedStep:0,successRedirect:nglue_backend.demo_post,isSaving:!1,showPatternWelcome:!1,isOnboarding:!0};bl.map((function(e){t[e]=""})),this.state=t}componentDidMount(){o()({path:"newsletterglue/"+nglue_backend.api_version+"/pattern_settings",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{const t=[];t.isReady=!0,bl.map((function(n){t[n]=e[n]})),this.setState(t)}))}changeState(e){this.setState(e)}changeOptions(){const e={};bl.map((t=>{e[t]=this.state[t]})),o()({path:"newsletterglue/"+nglue_backend.api_version+"/pattern_settings",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:e}).then((()=>{}))}navigatetoStep(e){const{completedStep:t}=this.state;e>t&&e-t>1||this.setState({step:e})}render(){if(!this.state.isReady)return(0,e.createElement)(k,null);var t=this.state.step,n=this.state.completedStep;let l=[1,2,3,4,5,6].map(((l,a)=>{var o=a+1,i=void 0;return n>=o?i="active":t==o&&(i="progress"),n>=1&&a==n&&(i="progress"),(0,e.createElement)("li",{key:l,className:i,"data-step":l,onClick:this.navigatetoStep.bind(this,l)},vl[l])}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ngl-wizard-steps"},(0,e.createElement)("ul",{className:"ngl-steps ngl-steps-6"},l),(0,e.createElement)("div",{style:{clear:"both"}})),(0,e.createElement)("div",{className:"ngl-wizard"},1==t&&(0,e.createElement)(S,{changeState:this.changeState}),2==t&&(0,e.createElement)(C,{changeState:this.changeState}),3==t&&(0,e.createElement)(ml,{changeState:this.changeState}),4==t&&(0,e.createElement)(hl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions})),5==t&&(0,e.createElement)(pl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions})),6==t&&(0,e.createElement)(fl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions})),7==t&&(0,e.createElement)(gl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions}))),(0,e.createElement)("div",{className:"ngl-wizard-links"},!this.state.isSaving&&(0,e.createElement)("a",{href:nglue_backend.skip_onboarding},(0,i.__)("Skip onboarding","newsletter-glue"))))}}var wl=document.getElementById("nglue-welcome-wizard");function El(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pt(e,t)}wl&&(0,r.s)(wl).render((0,e.createElement)(yl,null));var kl=n(697),xl=n.n(kl);function Cl(e){return"/"===e.charAt(0)}function Sl(e,t){for(var n=t,l=n+1,a=e.length;l<a;n+=1,l+=1)e[n]=e[l];e.pop()}var Nl=function(e,t){void 0===t&&(t="");var n,l=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&Cl(e),i=t&&Cl(t),r=o||i;if(e&&Cl(e)?a=l:l.length&&(a.pop(),a=a.concat(l)),!a.length)return"/";if(a.length){var s=a[a.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,u=a.length;u>=0;u--){var d=a[u];"."===d?Sl(a,u):".."===d?(Sl(a,u),c++):c&&(Sl(a,u),c--)}if(!r)for(;c--;c)a.unshift("..");!r||""===a[0]||a[0]&&Cl(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m},zl=!0,Bl="Invariant failed";function Tl(e,t){if(!e){if(zl)throw new Error(Bl);var n="function"==typeof t?t():t,l=n?"".concat(Bl,": ").concat(n):Bl;throw new Error(l)}}function Pl(e){return"/"===e.charAt(0)?e:"/"+e}function Al(e){return"/"===e.charAt(0)?e.substr(1):e}function Il(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Rl(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Ml(e){var t=e.pathname,n=e.search,l=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),l&&"#"!==l&&(a+="#"===l.charAt(0)?l:"#"+l),a}function Ll(e,t,n,l){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",l="",a=t.indexOf("#");-1!==a&&(l=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===l?"":l}}(e),a.state=t):(void 0===(a=E({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),l?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Nl(a.pathname,l.pathname)):a.pathname=l.pathname:a.pathname||(a.pathname="/"),a}function Fl(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,l,a){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof l?l(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function l(){n&&e.apply(void 0,arguments)}return t.push(l),function(){n=!1,t=t.filter((function(e){return e!==l}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Ol=!("undefined"==typeof window||!window.document||!window.document.createElement);function Hl(e,t){t(window.confirm(e))}var Vl="hashchange",Dl={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Al(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Al,decodePath:Pl},slash:{encodePath:Pl,decodePath:Pl}};function jl(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function $l(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Wl(e){window.location.replace(jl(window.location.href)+"#"+e)}var Ul=n(779),Gl=n.n(Ul),ql=(n(663),1073741823),Yl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},Zl=l().createContext||function(e,t){var n,a,o,i="__create-react-context-"+((Yl[o="__global_unique_id__"]=(Yl[o]||0)+1)+"__"),r=function(e){function n(){for(var t,n,l,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).emitter=(n=t.props.value,l=[],{on:function(e){l.push(e)},off:function(e){l=l.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,l.forEach((function(e){return e(n,t)}))}}),t}El(n,e);var l=n.prototype;return l.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},l.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,l=this.props.value,a=e.value;((o=l)===(i=a)?0!==o||1/o==1/i:o!=o&&i!=i)?n=0:(n="function"==typeof t?t(l,a):ql,0!=(n|=0)&&this.emitter.set(e.value,n))}var o,i},l.render=function(){return this.props.children},n}(l().Component);r.childContextTypes=((n={})[i]=xl().object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}El(n,t);var l=n.prototype;return l.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?ql:t},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?ql:e},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():e},l.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(l().Component);return s.contextTypes=((a={})[i]=xl().object,a),{Provider:r,Consumer:s}},Kl=function(e){var t=Zl();return t.displayName=e,t},Ql=Kl("Router-History"),Xl=Kl("Router"),Jl=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}El(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return l().createElement(Xl.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},l().createElement(Ql.Provider,{children:this.props.children||null,value:this.props.history}))},t}(l().Component);l().Component,l().Component;var ea={},ta=1e4,na=0;function la(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,l=n.path,a=n.exact,o=void 0!==a&&a,i=n.strict,r=void 0!==i&&i,s=n.sensitive,c=void 0!==s&&s;return[].concat(l).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var l=function(e,t){var n=""+t.end+t.strict+t.sensitive,l=ea[n]||(ea[n]={});if(l[e])return l[e];var a=[],o={regexp:Gl()(e,a,t),keys:a};return na<ta&&(l[e]=o,na++),o}(n,{end:o,strict:r,sensitive:c}),a=l.regexp,i=l.keys,s=a.exec(e);if(!s)return null;var u=s[0],d=s.slice(1),m=e===u;return o&&!m?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:m,params:i.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var aa=function(e){function t(){return e.apply(this,arguments)||this}return El(t,e),t.prototype.render=function(){var e=this;return l().createElement(Xl.Consumer,null,(function(t){t||Tl(!1);var n=e.props.location||t.location,a=E({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?la(n.pathname,e.props):t.match}),o=e.props,i=o.children,r=o.component,s=o.render;return Array.isArray(i)&&function(e){return 0===l().Children.count(e)}(i)&&(i=null),l().createElement(Xl.Provider,{value:a},a.match?i?"function"==typeof i?i(a):i:r?l().createElement(r,a):s?s(a):null:"function"==typeof i?i(a):null)}))},t}(l().Component);l().Component;var oa=function(e){function t(){return e.apply(this,arguments)||this}return El(t,e),t.prototype.render=function(){var e=this;return l().createElement(Xl.Consumer,null,(function(t){t||Tl(!1);var n,a,o=e.props.location||t.location;return l().Children.forEach(e.props.children,(function(e){if(null==a&&l().isValidElement(e)){n=e;var i=e.props.path||e.props.from;a=i?la(o.pathname,E({},e.props,{path:i})):t.match}})),a?l().cloneElement(n,{location:o,computedMatch:a}):null}))},t}(l().Component);l().useContext,l().Component;var ia=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).history=function(e){void 0===e&&(e={}),Ol||Tl(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),l=n.getUserConfirmation,a=void 0===l?Hl:l,o=n.hashType,i=void 0===o?"slash":o,r=e.basename?Rl(Pl(e.basename)):"",s=Dl[i],c=s.encodePath,u=s.decodePath;function d(){var e=u($l());return r&&(e=Il(e,r)),Ll(e)}var m=Fl();function g(e){E(S,e),S.length=t.length,m.notifyListeners(S.location,S.action)}var p=!1,h=null;function b(){var e,t,n=$l(),l=c(n);if(n!==l)Wl(l);else{var o=d(),i=S.location;if(!p&&(t=o,(e=i).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(h===Ml(o))return;h=null,function(e){p?(p=!1,g()):m.confirmTransitionTo(e,"POP",a,(function(t){t?g({action:"POP",location:e}):function(e){var t=S.location,n=y.lastIndexOf(Ml(t));-1===n&&(n=0);var l=y.lastIndexOf(Ml(e));-1===l&&(l=0);var a=n-l;a&&(p=!0,w(a))}(e)}))}(o)}}var _=$l(),f=c(_);_!==f&&Wl(f);var v=d(),y=[Ml(v)];function w(e){t.go(e)}var k=0;function x(e){1===(k+=e)&&1===e?window.addEventListener(Vl,b):0===k&&window.removeEventListener(Vl,b)}var C=!1,S={length:t.length,action:"POP",location:v,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=jl(window.location.href)),n+"#"+c(r+Ml(e))},push:function(e,t){var n="PUSH",l=Ll(e,void 0,void 0,S.location);m.confirmTransitionTo(l,n,a,(function(e){if(e){var t=Ml(l),a=c(r+t);if($l()!==a){h=t,function(e){window.location.hash=e}(a);var o=y.lastIndexOf(Ml(S.location)),i=y.slice(0,o+1);i.push(t),y=i,g({action:n,location:l})}else g()}}))},replace:function(e,t){var n="REPLACE",l=Ll(e,void 0,void 0,S.location);m.confirmTransitionTo(l,n,a,(function(e){if(e){var t=Ml(l),a=c(r+t);$l()!==a&&(h=t,Wl(a));var o=y.indexOf(Ml(S.location));-1!==o&&(y[o]=t),g({action:n,location:l})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return C||(x(1),C=!0),function(){return C&&(C=!1,x(-1)),t()}},listen:function(e){var t=m.appendListener(e);return x(1),function(){x(-1),t()}}};return S}(t.props),t}return El(t,e),t.prototype.render=function(){return l().createElement(Jl,{history:this.history,children:this.props.children})},t}(l().Component),ra=function(e,t){return"function"==typeof e?e(t):e},sa=function(e,t){return"string"==typeof e?Ll(e,null,null,t):e},ca=function(e){return e},ua=l().forwardRef;void 0===ua&&(ua=ca);var da=ua((function(e,t){var n=e.innerRef,a=e.navigate,o=e.onClick,i=it(e,["innerRef","navigate","onClick"]),r=i.target,s=E({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return s.ref=ca!==ua&&t||n,l().createElement("a",s)})),ma=ua((function(e,t){var n=e.component,a=void 0===n?da:n,o=e.replace,i=e.to,r=e.innerRef,s=it(e,["component","replace","to","innerRef"]);return l().createElement(Xl.Consumer,null,(function(e){e||Tl(!1);var n=e.history,c=sa(ra(i,e.location),e.location),u=c?n.createHref(c):"",d=E({},s,{href:u,navigate:function(){var t=ra(i,e.location),l=Ml(e.location)===Ml(sa(t));(o||l?n.replace:n.push)(t)}});return ca!==ua?d.ref=t||r:d.innerRef=r,l().createElement(a,d)}))})),ga=function(e){return e},pa=l().forwardRef;void 0===pa&&(pa=ga);var ha=pa((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,o=e.activeClassName,i=void 0===o?"active":o,r=e.activeStyle,s=e.className,c=e.exact,u=e.isActive,d=e.location,m=e.sensitive,g=e.strict,p=e.style,h=e.to,b=e.innerRef,_=it(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return l().createElement(Xl.Consumer,null,(function(e){e||Tl(!1);var n=d||e.location,o=sa(ra(h,n),n),f=o.pathname,v=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),y=v?la(n.pathname,{path:v,exact:c,sensitive:m,strict:g}):null,w=!!(u?u(y,n):y),k="function"==typeof s?s(w):s,x="function"==typeof p?p(w):p;w&&(k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(k,i),x=E({},x,r));var C=E({"aria-current":w&&a||null,className:k,style:x,to:o},_);return ga!==pa?C.ref=t||b:C.innerRef=b,l().createElement(ma,C)}))})),ba=window.wp.primitives;(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 0 1 0-96 48.01 48.01 0 0 1 0 96z"}));const _a=(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})),fa=((0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"})),(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm90.5 224H272v74.5c0 8.8-7.2 16-16 16-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3V272h-74.5c-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3 0-8.8 7.2-16 16-16H240v-74.5c0-8.8 7.2-16 16-16s16 7.2 16 16V240h74.5c8.8 0 16 7.2 16 16s-7.2 16-16 16z"}))),va=(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fill:"none",d:"M240 304h32l6-160h-44l6 160z"}),(0,e.createElement)("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm20 319.91h-40v-40h40zM272 304h-32l-6-160h44z"})),ya=(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"1",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})),wa=(0,e.createElement)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,e.createElement)("polyline",{points:"12 5 19 12 12 19"})),Ea=(0,e.createElement)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,e.createElement)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,e.createElement)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})),ka=(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"})),xa=(0,e.createElement)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"})),Ca=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 196.005 124.099",width:20,height:20,style:{width:"20px",height:"20px"}},(0,e.createElement)("g",{transform:"translate(0 0)"},(0,e.createElement)("path",{d:"M71.7,79.352l2.14-1.03a78.958,78.958,0,0,1-8.774-36.987q0-15.659,7.762-26.593C78,7.452,82.26,2.787,93.206.622s21.368,1.726,23.4,5.46S109,10.179,102.9,18.744s-6.309,9.32-9.7,18.068c-2.223,7.105-3.172,9.842-4.083,19.248-.428,9.314.821,14.809,2.941,24.421,2.335,9.378,4.273,13.454,7.153,17.684a42.2,42.2,0,0,1-10.934,5.4,46.312,46.312,0,0,1-12.891,1.485A30.365,30.365,0,0,1,50.553,92.7,51.629,51.629,0,0,1,43.6,78.861q-4.995-14.444-6.074-36.717h-2.16q-6.209,28.078-6.209,39.282t4.05,17.684q-8.1,6.074-16.874,6.074T3.78,100.122Q0,95.06,0,85c0-6.7,7.9-52.117,8.5-57.033S1.35,13.527,1.35,13.527q15.119-9.719,27-9.719T46.3,7.925a21.635,21.635,0,0,1,8.5,12.081,102.88,102.88,0,0,1,3.577,16.806q1.147,8.842,4.05,21.261C64.367,66.352,68.189,72.692,71.7,79.352Z",transform:"translate(0 0)",fill:"#0088A0"})),(0,e.createElement)("g",{transform:"matrix(0.999, -0.035, 0.035, 0.999, 101.15, 3.897)"},(0,e.createElement)("path",{d:"M61.825,71.949,54.94,57.775q14.444-9.584,26.053-9.584,9.719,0,9.719,10.934,0,3.1-3.712,18.966t-3.712,24.231q0,8.369,3.645,12.419a26.362,26.362,0,0,1-15.794,5.535q-8.234,0-11.677-5.4T56.02,99.082a52.938,52.938,0,0,1-15.119,2.16q-18.359,0-29.63-11.339T0,56.425A50.071,50.071,0,0,1,4.05,37.189,64.331,64.331,0,0,1,15.524,19.033a55.835,55.835,0,0,1,19.371-13.7A59.994,59.994,0,0,1,59.6,0Q72.354,0,79.576,4.725A14.839,14.839,0,0,1,86.8,17.819q0,8.369-5.467,13.026A18.713,18.713,0,0,1,68.844,35.5a26.049,26.049,0,0,1-12.621-3.037,23.158,23.158,0,0,1-8.977-8.707q-7.289,3.51-12.554,13.769A46.41,46.41,0,0,0,29.428,58.99q0,11.2,4.387,16.806a13.44,13.44,0,0,0,11,5.6Q54.4,81.4,61.825,71.949Z",transform:"translate(0 0)",fill:"#0088A0"})));class Sa extends e.Component{render(){var t=this.props.isExtended?"nglue-tier-notice nglue-tier-notice-extended":"nglue-tier-notice";return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"nglue-tier-lock"}),(0,e.createElement)("div",{className:t},(0,e.createElement)("div",{className:"nglue-tier-notice-info"},(0,e.createElement)("div",{className:"nglue-tier-notice-title"},(0,i.__)("Upgrade to unlock","newsletter-glue")," ",this.props.title),(0,e.createElement)("div",{className:"nglue-tier-notice-desc"},(0,i.__)("Log into your account to see pro-rated pricing and upgrade.","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-tier-notice-btn"},(0,e.createElement)(s.Button,{isPrimary:!0,href:nglue_backend.upgrade_link,target:"_blank"},(0,i.__)("Upgrade my account","newsletter-glue")))),this.props.isExtended&&(0,e.createElement)("div",{className:"nglue-tier-notice-extras"},(0,e.createElement)("div",{className:"nglue-tier-notice-desc"},"Here are the new features you will get when you upgrade:"),(0,e.createElement)("div",{className:"nglue-tier-features"},(0,e.createElement)("div",null,_a," Access all our email integrations"),(0,e.createElement)("div",null,_a," Static site compatibility"),(0,e.createElement)("div",null,_a," User roles & permissions management for editorial teams"),(0,e.createElement)("div",null,_a," Pro-rated pricing")))))}}const Na=nglue_backend.images_uri+"icon-additional.svg",za=nglue_backend.images_uri+"icon-wizard.svg",Ba=nglue_backend.images_uri+"icon-types.svg",Ta=nglue_backend.images_uri+"icon-slugs.svg",Pa=nglue_backend.images_uri+"icon-frontcss.svg",Aa=nglue_backend.images_uri+"icon-url.svg",Ia=nglue_backend.images_uri+"icon-roles.svg",Ra=nglue_backend.images_uri+"icon-ad-inserter.svg";class Ma extends e.Component{constructor(e){super(e),this.savePostTypes=this.savePostTypes.bind(this),this.saveSlug=this.saveSlug.bind(this),this.saveCSS=this.saveCSS.bind(this),this.saveDomain=this.saveDomain.bind(this),this.savePerms=this.savePerms.bind(this),this.resetRole=this.resetRole.bind(this),this.resetRoles=this.resetRoles.bind(this),this.saveAdInserter=this.saveAdInserter.bind(this),this.testBroadstreetConnection=this.testBroadstreetConnection.bind(this);const t={isSaving1:!1,isSaving2:!1,isSaving3:!1,isSaving4:!1,isSaving5:!1,isSaving6:!1,hasSaved1:!1,hasSaved2:!1,hasSaved3:!1,hasSaved4:!1,hasSaved5:!1,hasSaved6:!1,activeAdIntegration:nglue_backend.ad_inserter_active_integration?nglue_backend.ad_inserter_integration.find((e=>e.value===nglue_backend.ad_inserter_active_integration.id)):null,unsavedChanges1:!1,unsavedChanges2:!1,unsavedChanges3:!1,unsavedChanges4:!1,unsavedChanges5:!1,unsavedChanges6:!1,isInvalidSlug:!1,isInvalidDomain:!1,resetAlltoggle:!1,resetRoletoggle:!1,isTesting:!1,testSuccess:!1,testFailed:!1,broadstreetAccessToken:"",hasConnection:!1,networkName:""};this.state=t}componentDidMount(){nglue_backend.broadstreet_access_token&&nglue_backend.broadstreet_has_connection?this.setState({broadstreetAccessToken:nglue_backend.broadstreet_access_token,hasConnection:!0},(()=>{this.fetchNetworkName()})):nglue_backend.broadstreet_access_token&&this.setState({broadstreetAccessToken:nglue_backend.broadstreet_access_token},(()=>{wp.apiRequest({path:"/newsletter-glue/v1/broadstreet/verify-connection",method:"GET"}).then((e=>{e&&e.success&&this.setState({hasConnection:!0},(()=>{this.fetchNetworkName()}))})).catch((e=>{console.error("Error verifying Broadstreet connection",e)}))}))}fetchNetworkName(){wp.apiRequest({path:"/newsletter-glue/v1/broadstreet/get-network-name",method:"GET"}).then((e=>{e&&this.setState({networkName:e})})).catch((e=>{console.error("Error fetching Broadstreet network name",e)}))}savePostTypes(){const{selectedPostTypes:e}=this.props.getState;this.setState({isSaving1:!0});const t={post_types:e};o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_post_types",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{setTimeout((()=>{this.setState({isSaving1:!1,hasSaved1:!0})}),1500),setTimeout((()=>{this.setState({hasSaved1:!1,unsavedChanges1:!1})}),2500)}))}saveSlug(){const{ngSlug:e}=this.props.getState;this.setState({isSaving2:!0});const t={ngSlug:e};o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_custom_slug",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{setTimeout((()=>{this.setState({isSaving2:!1,hasSaved2:!0})}),1500),setTimeout((()=>{this.setState({hasSaved2:!1,unsavedChanges2:!1})}),2500)}))}saveCSS(){const{removeCSSFront:e}=this.props.getState;this.setState({isSaving5:!0});const t={removeCSSFront:e};o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_css_options",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{setTimeout((()=>{this.setState({isSaving5:!1,hasSaved5:!0})}),1500),setTimeout((()=>{this.setState({hasSaved5:!1,unsavedChanges5:!1})}),2500)}))}saveDomain(){const{ngDomain:e}=this.props.getState;this.setState({isSaving3:!0});const t={ngDomain:e};o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_custom_domain",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{setTimeout((()=>{this.setState({isSaving3:!1,hasSaved3:!0})}),1500),setTimeout((()=>{this.setState({hasSaved3:!1,unsavedChanges3:!1})}),2500)}))}savePerms(){const{user_perms:e,activeRole:t}=this.props.getState;this.setState({isSaving4:!0});const n={user_perms:e,role:t};o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_permissions",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:n}).then((()=>{setTimeout((()=>{this.setState({isSaving4:!1,hasSaved4:!0})}),1500),setTimeout((()=>{this.setState({hasSaved4:!1,unsavedChanges4:!1})}),2500)}))}testBroadstreetConnection(){this.setState({isTesting:!0,testSuccess:!1,testFailed:!1}),wp.apiRequest({path:"/newsletter-glue/v1/broadstreet/test-connection",method:"POST",data:{access_token:this.state.broadstreetAccessToken}}).then((e=>{e.success?this.setState({isTesting:!1,testSuccess:!0,testFailed:!1,hasConnection:!0,unsavedChanges6:!0},(()=>{this.fetchNetworkName()})):this.setState({isTesting:!1,testSuccess:!1,testFailed:!0,hasConnection:!1})})).catch((e=>{console.error("Error testing Broadstreet connection",e),this.setState({isTesting:!1,testSuccess:!1,testFailed:!0,hasConnection:!1})}))}saveAdInserter(){if(this.setState({isSaving6:!0}),this.state.activeAdIntegration){const e="broadstreet"===this.state.activeAdIntegration.value&&this.state.testSuccess&&this.state.broadstreetAccessToken,t=()=>{wp.apiRequest({path:"/newsletter-glue/v1/ad-inserter/set-integration",method:"POST",data:{integration_id:this.state.activeAdIntegration.value}}).then((e=>{nglue_backend.ad_inserter_active_integration={id:this.state.activeAdIntegration.value,name:this.state.activeAdIntegration.label},setTimeout((()=>{this.setState({isSaving6:!1,hasSaved6:!0})}),1500),setTimeout((()=>{this.setState({hasSaved6:!1,unsavedChanges6:!1,testSuccess:!1,testFailed:!1})}),2500)})).catch((e=>{console.error("Error updating ad integration",e),this.setState({isSaving6:!1,activeAdIntegration:nglue_backend.ad_inserter_active_integration?nglue_backend.ad_inserter_integration.find((e=>e.value===nglue_backend.ad_inserter_active_integration.id)):null})}))};e?wp.apiRequest({path:"/newsletter-glue/v1/broadstreet/save-access-token",method:"POST",data:{access_token:this.state.broadstreetAccessToken}}).then((()=>{nglue_backend.broadstreet_access_token=this.state.broadstreetAccessToken,nglue_backend.broadstreet_has_connection=!0,t()})).catch((e=>{console.error("Error saving Broadstreet access token",e),this.setState({isSaving6:!1})})):t()}else o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_ad_inserter",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:{}}).then((()=>{setTimeout((()=>{this.setState({isSaving6:!1,hasSaved6:!0})}),1500),setTimeout((()=>{this.setState({hasSaved6:!1,unsavedChanges6:!1})}),2500)}))}resetRole(){var e=this.props;const{activeRole:t}=this.props.getState;this.setState({isSaving4:!0,unsavedChanges4:!0});const n={role:t};o()({path:"newsletterglue/"+nglue_backend.api_version+"/reset_role",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:n}).then((t=>{e.changeState({user_perms:t.permissions}),this.setState({resetRoletoggle:!1}),setTimeout((()=>{this.setState({isSaving4:!1,hasSaved4:!0})}),1500),setTimeout((()=>{this.setState({hasSaved4:!1,unsavedChanges4:!1})}),2500)}))}resetRoles(){var e=this.props;this.setState({isSaving4:!0,unsavedChanges4:!0}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/reset_roles",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:{}}).then((t=>{e.changeState({user_perms:t.permissions}),this.setState({resetAlltoggle:!1}),setTimeout((()=>{this.setState({isSaving4:!1,hasSaved4:!0})}),1500),setTimeout((()=>{this.setState({hasSaved4:!1,unsavedChanges4:!1})}),2500)}))}render(){var t=this.props;const{hasSaved1:n,hasSaved2:l,hasSaved3:a,hasSaved4:o,hasSaved5:r,hasSaved6:c,isSaving1:u,isSaving2:d,isSaving3:m,isSaving4:g,isSaving5:p,isSaving6:h,unsavedChanges1:b,unsavedChanges2:_,unsavedChanges3:f,unsavedChanges4:v,unsavedChanges5:y,unsavedChanges6:w,isInvalidSlug:k,isInvalidDomain:x,resetAlltoggle:C,resetRoletoggle:S}=this.state,{notLicensed:N,selectedPostTypes:z,ngSlug:B,ngDomain:T,tier:P,selectedRole:A,user_perms:I,activeRole:R,removeCSSFront:M,activeAdIntegration:L}=this.props.getState,F=N?"nglue-panel-off":"";var O="is-primary";n?O="nglue-btn-valid":u&&(O="nglue-btn-wait");var H="is-primary";l?H="nglue-btn-valid":d&&(H="nglue-btn-wait");var V="is-primary";a?V="nglue-btn-valid":m&&(V="nglue-btn-wait");var D="is-primary";o?D="nglue-btn-valid":g&&(D="nglue-btn-wait");var j="is-primary";r?j="nglue-btn-valid":p&&(j="nglue-btn-wait");var $="is-primary";c?$="nglue-btn-valid":h&&($="nglue-btn-wait");var W;W=1==n?(0,i.__)("Saved","newsletter-glue"):u?(0,i.__)("Saving...","newsletter-glue"):(0,i.__)("Save","newsletter-glue");var U;U=1==l?(0,i.__)("Saved","newsletter-glue"):d?(0,i.__)("Saving...","newsletter-glue"):(0,i.__)("Save","newsletter-glue");var G;G=1==a?(0,i.__)("Saved","newsletter-glue"):m?(0,i.__)("Saving...","newsletter-glue"):(0,i.__)("Save","newsletter-glue");var q;q=1==o?(0,i.__)("Saved","newsletter-glue"):g?(0,i.__)("Saving...","newsletter-glue"):(0,i.__)("Save","newsletter-glue");var Y;Y=1==r?(0,i.__)("Saved","newsletter-glue"):p?(0,i.__)("Saving...","newsletter-glue"):(0,i.__)("Save","newsletter-glue");var Z;let K;Z=1==c?(0,i.__)("Saved","newsletter-glue"):h?(0,i.__)("Saving...","newsletter-glue"):(0,i.__)("Save","newsletter-glue"),K=B||"newsletter";var Q=!1;return"newsroom"!==P&&"founding"!==P&&"publisher_new"!==P||(Q=!0),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"nglue-main"},N&&(0,e.createElement)("div",{className:"nglue-panel-overlay"}),(0,e.createElement)(s.PanelBody,{className:`nglue-title-only ${F}`},(0,e.createElement)("div",{className:`nglue-title-bar ${F}`},(0,e.createElement)("div",{className:"nglue-title"},(0,e.createElement)("span",{className:"nglue-title-main"},(0,i.__)("Additional","newsletter-glue")),(0,e.createElement)("span",{className:"nglue-title-sub"},(0,i.__)("Manage other settings and defaults here.","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-title-icon"},(0,e.createElement)("img",{src:Na}))))),(0,e.createElement)("div",{className:`nglue-panel-body ${F}`,style:{backgroundColor:"transparent"}},N&&(0,e.createElement)("div",{className:"nglue-panel-overlay"}),(0,e.createElement)("div",{className:"nglue-main nglue-main-2"},(0,e.createElement)("div",{className:"nglue-equal-boxes"},(0,e.createElement)(s.PanelBody,null,(0,e.createElement)("div",{className:"nglue-info-wrap"},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},(0,i.__)("Onboarding wizard","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-desc",dangerouslySetInnerHTML:{__html:(0,i.__)("Take 5 minutes to set up Newsletter Glue. Connect email service, customize email defaults and personalize default patterns.","newsletter-glue")}})),(0,e.createElement)("div",{className:"nglue-info-buttons"},(0,e.createElement)(s.Button,{isPrimary:!0,href:nglue_backend.wizard_uri},(0,i.__)("Launch onboarding wizard","newsletter-glue")))),(0,e.createElement)("div",{className:"nglue-info-wrap-icon"},(0,e.createElement)("img",{src:za})))),(0,e.createElement)(s.PanelBody,null,(0,e.createElement)("div",{className:"nglue-info-wrap"},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},(0,i.__)("Enable Send as newsletter in custom post types","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-desc",dangerouslySetInnerHTML:{__html:(0,i.__)("Select which custom post types you would like to <strong>Send as newsletter</strong>.","newsletter-glue")}})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Custom post types","newsletter-glue"),id:"nglue-types-select",className:"nglue-base nglue-esp-select"},(0,e.createElement)(dl,{name:"nglue-types-select",inputId:"nglue-types-select",classNamePrefix:"nglue",placeholder:(0,i.__)("Select post types...","newsletter-glue"),isClearable:!1,isDisabled:u,isMulti:!0,inputProps:{autoComplete:"new-password"},options:nglue_backend.post_types,value:z,onChange:e=>{this.setState({unsavedChanges1:!0}),t.changeState({selectedPostTypes:e})}}))),(0,e.createElement)("div",{className:"nglue-info-buttons"},(0,e.createElement)(s.Button,{className:O,icon:n&&_a,onClick:this.savePostTypes,disabled:!b},W))),(0,e.createElement)("div",{className:"nglue-info-wrap-icon"},(0,e.createElement)("img",{src:Ba})))),(0,e.createElement)(s.PanelBody,null,(0,e.createElement)("div",{className:"nglue-info-wrap"},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},(0,i.__)("Custom URL slugs","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-desc",dangerouslySetInnerHTML:{__html:(0,i.__)("Change the slug of your newsletter custom post type. Useful for non-English sites or If you want your newsletter name in the URL.","newsletter-glue")}}),(0,e.createElement)("div",{className:"nglue-info-desc",style:{paddingTop:"20px"}},(0,i.__)("Warning: Changing your slug might result in 404 page not found errors. To avoid this, consider using a redirection plugin.","newsletter-glue")," ",(0,e.createElement)(s.ExternalLink,{href:"https://redirection.me/support/what-is-a-redirect/"},(0,i.__)("Learn more","newsletter-glue")))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Newsletter custom post type slug","newsletter-glue"),id:"nglue-post-type-slug",className:"nglue-base nglue-esp-input "+(k?"nglue-esp-invalid":"")},(0,e.createElement)("input",{type:"text",id:"nglue-post-type-slug",value:B,disabled:d,onChange:e=>{this.setState({unsavedChanges2:!0}),t.changeState({ngSlug:e.target.value})}}),(0,e.createElement)("div",{className:"nglue-input-help"},nglue_backend.home_url,"/",(0,e.createElement)("strong",null,K),"/archive"))),(0,e.createElement)("div",{className:"nglue-info-buttons"},(0,e.createElement)(s.Button,{className:H,icon:l&&_a,onClick:this.saveSlug,disabled:!_||!B},U))),(0,e.createElement)("div",{className:"nglue-info-wrap-icon"},(0,e.createElement)("img",{src:Ta})))),(0,e.createElement)(s.PanelBody,{className:!Q&&"nglue-tier-locked"},!Q&&(0,e.createElement)(Sa,{title:(0,i.__)("Static sites: Replace URL","newsletter-glue")}),(0,e.createElement)("div",{className:"nglue-info-wrap"},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},(0,i.__)("Static sites: Replace URL","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-desc",dangerouslySetInnerHTML:{__html:(0,i.__)("Replace all links with a custom root domain. Ignore this feature If you don’t have a static site, or aren’t sure what that is.","newsletter-glue")}})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Enter root domain","newsletter-glue"),id:"nglue-custom-domain",className:"nglue-base nglue-esp-input "+(x?"nglue-esp-invalid":"")},(0,e.createElement)("input",{type:"text",id:"nglue-custom-domain",value:T,disabled:m,placeholder:"https://",onChange:e=>{this.setState({unsavedChanges3:!0}),t.changeState({ngDomain:e.target.value})}}))),(0,e.createElement)("div",{className:"nglue-info-buttons"},(0,e.createElement)(s.Button,{className:V,icon:a&&_a,onClick:this.saveDomain,disabled:!f},G))),(0,e.createElement)("div",{className:"nglue-info-wrap-icon"},(0,e.createElement)("img",{src:Aa})))),(0,e.createElement)(s.PanelBody,{className:"nglue-checkbox-panel"},(0,e.createElement)("div",{className:"nglue-info-wrap"},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},(0,i.__)("Remove email styling from web view","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-desc",dangerouslySetInnerHTML:{__html:(0,i.__)("Remove all of Newsletter Glue’s CSS styling from the web version of your email newsletters. The web version will automatically revert to your site’s theme styling.","newsletter-glue")}})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{id:"nglue-remove-front-css",className:"nglue-base nglue-esp-input"},(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Remove all CSS styling from web version of your email newsletters.","newsletter-glue"),checked:M,disabled:p,onChange:e=>{t.changeState({removeCSSFront:e}),this.setState({unsavedChanges5:!0})}}))),(0,e.createElement)("div",{className:"nglue-info-buttons"},(0,e.createElement)(s.Button,{className:j,icon:r&&_a,onClick:this.saveCSS,disabled:!y},Y))),(0,e.createElement)("div",{className:"nglue-info-wrap-icon"},(0,e.createElement)("img",{src:Pa})))),(0,e.createElement)(s.PanelBody,{className:"nglue-flex-hide"}," "),(0,e.createElement)(s.PanelBody,{className:`nglue-title-only ${F} nglue-title-only-full-width`},(0,e.createElement)("div",{className:`nglue-title-bar ${F} nglue-title-bar-replace-margin`},(0,e.createElement)("div",{className:"nglue-title"},(0,e.createElement)("span",{className:"nglue-title-main"},(0,i.__)("Global Block Settings","newsletter-glue")),(0,e.createElement)("span",{className:"nglue-title-sub"},(0,i.__)("Manage global block settings here.","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-title-icon"},(0,e.createElement)("img",{src:Na})))," "),(0,e.createElement)(s.PanelBody,{className:"nglue-flex-grow"},(0,e.createElement)("div",{className:"nglue-info-wrap",style:{minHeight:"200px"}},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},(0,i.__)("Ad Inserter","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-desc",dangerouslySetInnerHTML:{__html:(0,i.__)("Customize the global Ad Inserter block behavior.","newsletter-glue")}})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{className:"nglue-base nglue-ad-integration-select"},(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Ad Manager Integration","newsletter-glue"),id:"nglue-ad-manager-integration-select",className:"nglue-base nglue-ad-manager-integration-select"},(0,e.createElement)(dl,{name:"nglue-ad-manager-integration-select",inputId:"nglue-ad-manager-integration-select",classNamePrefix:"nglue",placeholder:(0,i.__)("Select ad manager integration...","newsletter-glue"),isClearable:!1,isDisabled:h,isMulti:!1,inputProps:{autoComplete:"new-password"},options:nglue_backend.ad_inserter_integration||[],value:this.state.activeAdIntegration||(nglue_backend.ad_inserter_active_integration?nglue_backend.ad_inserter_integration.find((e=>e.value===nglue_backend.ad_inserter_active_integration.id)):null),onChange:e=>{this.setState({activeAdIntegration:e,unsavedChanges6:!0})}}),"advanced-ads"===this.state.activeAdIntegration.value&&(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("Ads will be searched from the Advanced Ads plugin.","newsletter-glue")),"prototype"===this.state.activeAdIntegration.value&&(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("[DEBUG] This is a placeholder integration for debugging purposes.","newsletter-glue"),(0,i.__)("Ads will be searched from the Prototype integration.","newsletter-glue")),"broadstreet"===this.state.activeAdIntegration.value&&(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"nglue-info-desc"},(0,i.__)("Ads will be searched from the Broadstreet ad manager.","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-field"},!this.state.hasConnection&&(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Broadstreet Access Token","newsletter-glue"),id:"nglue-broadstreet-access-token",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-broadstreet-access-token",value:this.state.broadstreetAccessToken,onChange:e=>{this.setState({broadstreetAccessToken:e.target.value,testSuccess:!1,testFailed:!1})},placeholder:(0,i.__)("Enter your Broadstreet access token","newsletter-glue")})),this.state.hasConnection&&(0,e.createElement)("div",{className:"nglue-info-network-name",style:{padding:"10px 0",fontSize:"18px"}},(0,i.__)("You are connected to: ","newsletter-glue"),(0,e.createElement)("span",{className:"nglue-network-name"},this.state.networkName?this.state.networkName:(0,i.__)("Loading...","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-info-actions "+(this.state.testSuccess?"nglue-btn-valid has-text has-icon":""),style:{padding:"10px 0"}},!this.state.hasConnection&&(0,e.createElement)(s.Button,E({},this.state.isTesting?{isBusy:!0}:{isTertiary:!0},{onClick:this.testBroadstreetConnection,disabled:this.state.isTesting||!this.state.broadstreetAccessToken}),this.state.isTesting?(0,i.__)("Testing...","newsletter-glue"):(0,i.__)("Test Connection","newsletter-glue")),this.state.hasConnection&&(0,e.createElement)(s.Button,{isDestructive:!0,onClick:()=>{wp.apiRequest({path:"/newsletter-glue/v1/broadstreet/remove-connection",method:"POST"}).then((()=>{nglue_backend.broadstreet_has_connection=!1,nglue_backend.broadstreet_access_token="",this.setState({hasConnection:!1,broadstreetAccessToken:"",testSuccess:!1,testFailed:!1,unsavedChanges6:!0})})).catch((e=>{console.error("Error removing Broadstreet connection",e)}))}},(0,i.__)("Remove Connection","newsletter-glue"))),this.state.testSuccess&&(0,e.createElement)("div",{className:"nglue-info-success"},(0,i.__)("Connection successful! Click Save to apply changes.","newsletter-glue")),this.state.testFailed&&(0,e.createElement)("div",{className:"nglue-info-error"},(0,i.__)("Connection failed. Please check your access token and try again.","newsletter-glue"))))))),(0,e.createElement)("div",{className:"nglue-info-buttons"},(0,e.createElement)(s.Button,{className:$,icon:c&&_a,onClick:this.saveAdInserter,disabled:!w},Z))),(0,e.createElement)("div",{className:"nglue-info-wrap-icon"},(0,e.createElement)("img",{src:Ra})))),(0,e.createElement)(s.PanelBody,{className:"nglue-flex-hide"}," "),(0,e.createElement)(s.PanelBody,{className:"nglue-flex-grow "+(!Q&&"nglue-tier-locked")},!Q&&(0,e.createElement)(Sa,{title:(0,i.__)("User permissions","newsletter-glue"),isExtended:!0}),(0,e.createElement)("div",{className:"nglue-info-wrap nglue-info-wrap-roles",style:{minHeight:"200px"}},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},(0,i.__)("User permissions","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-info-desc",dangerouslySetInnerHTML:{__html:(0,i.__)("Select what Newsletter Glue features each user role has access to.","newsletter-glue")}})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("User role","newsletter-glue"),id:"nglue-role-select",className:"nglue-base nglue-esp-select"},(0,e.createElement)(dl,{name:"nglue-role-select",inputId:"nglue-role-select",classNamePrefix:"nglue",placeholder:(0,i.__)("Select user role...","newsletter-glue"),isClearable:!1,isDisabled:g,isMulti:!1,inputProps:{autoComplete:"new-password"},options:nglue_backend.js_roles,value:A,onChange:e=>{t.changeState({activeRole:e.value,selectedRole:e})}}),"administrator"===R&&(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("By default, Administrators have full access and permissions to Newsletter Glue. This cannot be changed.","newsletter-glue"))),(0,e.createElement)(s.BaseControl,{className:"nglue-base nglue-esp-input",label:(0,i.__)("Grant this user access to:","newsletter-glue")},(0,e.createElement)("div",{style:{height:"14px"}}),(0,e.createElement)("div",{className:"nglue-cbox"},(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("View and edit newsletters","newsletter-glue"),checked:I[R].edit_newsletterglue&&1==I[R].edit_newsletterglue,disabled:"administrator"==R||g,onChange:e=>{var n=I;e?n[R].edit_newsletterglue=1:(n[R].edit_newsletterglue=0,n[R].add_newsletterglue=0),t.changeState({user_perms:n}),this.setState({unsavedChanges4:!0})}})),(0,e.createElement)("div",{className:"nglue-cbox nglue-cbox-child"},(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Add new newsletter","newsletter-glue"),checked:I[R].add_newsletterglue&&1==I[R].add_newsletterglue,disabled:"administrator"==R||g,onChange:e=>{var n=I;e?(n[R].add_newsletterglue=1,n[R].edit_newsletterglue=1):n[R].add_newsletterglue=0,t.changeState({user_perms:n}),this.setState({unsavedChanges4:!0})}})),(0,e.createElement)("div",{className:"nglue-cbox"},(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Send as newsletter","newsletter-glue"),checked:I[R].publish_newsletterglue&&1==I[R].publish_newsletterglue,disabled:"administrator"==R||g,onChange:e=>{var n=I;n[R].publish_newsletterglue=e?1:0,t.changeState({user_perms:n}),this.setState({unsavedChanges4:!0})}})),(0,e.createElement)("div",{className:"nglue-cbox"},(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Templates & styles","newsletter-glue"),checked:I[R].manage_newsletterglue_patterns&&1==I[R].manage_newsletterglue_patterns,disabled:"administrator"==R||g,onChange:e=>{var n=I;n[R].manage_newsletterglue_patterns=e?1:0,t.changeState({user_perms:n}),this.setState({unsavedChanges4:!0})}})),(0,e.createElement)("div",{className:"nglue-cbox"},(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Newsletter Glue settings","newsletter-glue"),checked:I[R].manage_newsletterglue&&1==I[R].manage_newsletterglue,disabled:"administrator"==R||g,onChange:e=>{var n=I;n[R].manage_newsletterglue=e?1:0,t.changeState({user_perms:n}),this.setState({unsavedChanges4:!0})}}))))),(0,e.createElement)("div",{className:"nglue-info-wrap-icon"},(0,e.createElement)("img",{src:Ia}))),(0,e.createElement)("div",{className:"nglue-info-foot"},(0,e.createElement)("div",{className:"nglue-foot-left"},(0,e.createElement)("div",{className:"nglue-foot-act"},(0,e.createElement)("a",{href:"#",className:g?"is-disabled":"",onClick:e=>{e.preventDefault(),C?this.setState({resetAlltoggle:!1}):this.setState({resetAlltoggle:!0})}},(0,i.__)("Reset all user permissions","newsletter-glue")," ",!C&&ka," ",C&&xa),C&&(0,e.createElement)("div",{className:"nglue-foot-act-confirm"},(0,e.createElement)("a",{href:"#",className:g?"is-disabled":"",onClick:e=>{e.preventDefault(),this.resetRoles()}},(0,i.__)("Confirm reset","newsletter-glue")),(0,e.createElement)("span",null,(0,i.__)("(you can’t undo after this)","newsletter-glue"))))),(0,e.createElement)("div",{className:"nglue-foot-right"},(0,e.createElement)("div",{className:"nglue-foot-act"},(0,e.createElement)("a",{href:"#",className:g?"is-disabled":"",onClick:e=>{e.preventDefault(),S?this.setState({resetRoletoggle:!1}):this.setState({resetRoletoggle:!0})}},(0,i.__)("Reset this role’s permissions","newsletter-glue")," ",!S&&ka," ",S&&xa),S&&(0,e.createElement)("div",{className:"nglue-foot-act-confirm"},(0,e.createElement)("a",{href:"#",className:g?"is-disabled":"",onClick:e=>{e.preventDefault(),this.resetRole()}},(0,i.__)("Confirm reset","newsletter-glue")),(0,e.createElement)("span",null,(0,i.__)("(you can’t undo after this)","newsletter-glue")))),(0,e.createElement)(s.Button,{className:D,icon:o&&_a,onClick:this.savePerms,disabled:!v||"administrator"==R},q))))))))}}const La=nglue_backend.images_uri+"icon-blocks.svg";class Fa extends e.Component{constructor(e){super(e),this.changeOptions=this.changeOptions.bind(this),this.closeModal=this.closeModal.bind(this),this.showModal=this.showModal.bind(this);const t={blocks:nglue_backend.blocks,OpenModal:!1,demoTitle:"",demoURL:""};this.state=t}showModal(e,t){this.setState({OpenModal:!0,demoTitle:e,demoURL:t})}closeModal(){this.setState({OpenModal:!1,demoTitle:"",demoURL:""})}changeOptions(e,t){this.setState({isSaving:!0});const n={block_id:e,is_active:t};var l=this.state.blocks;l[e].in_use=t,this.setState({blocks:l}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_block_settings",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:n}).then((()=>{}))}render(){const{blocks:t,OpenModal:n,demoTitle:l,demoURL:a}=this.state,{notLicensed:o}=this.props.getState,r=o?"nglue-panel-off":"";var c=[];for(var u in t){var d=t[u];let n="";n=t[d.id].in_use?"nglue-is-active":"nglue-is-inactive",c.push((0,e.createElement)(s.PanelBody,{key:`nglue-block-${d.id}`,className:n},(0,e.createElement)("div",{className:"nglue-info-head"},(0,e.createElement)("div",{className:"nglue-info-icon"},(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:d.icon}})),(0,e.createElement)("div",{className:"nglue-info-label"},(0,e.createElement)("div",{className:"nglue-info-main"},d.label),(0,e.createElement)("div",{className:"nglue-info-desc"},d.description))),(0,e.createElement)("div",{className:"nglue-info-foot"},(0,e.createElement)("div",{className:"nglue-foot-left"},(0,e.createElement)("div",{className:"nglue-foot-label"},(0,i.__)("Enable block","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-foot-control"},(0,e.createElement)(s.FormToggle,{id:d.id,checked:t[d.id].in_use,onChange:e=>{this.changeOptions(e.target.id,!this.state.blocks[e.target.id].in_use)}}))),(0,e.createElement)("div",{className:"nglue-foot-right"},(0,e.createElement)(s.Button,{variant:"tertiary",className:"is-tertiary","data-title":d.label,"data-url":d.url,onClick:()=>{var e=event.target.getAttribute("data-title"),t=event.target.getAttribute("data-url");this.showModal(e,t)}},(0,i.__)("Watch demo","newsletter-glue"))))))}return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"nglue-main"},o&&(0,e.createElement)("div",{className:"nglue-panel-overlay"}),(0,e.createElement)(s.PanelBody,{className:`nglue-title-only ${r}`},(0,e.createElement)("div",{className:`nglue-title-bar ${r}`},(0,e.createElement)("div",{className:"nglue-title"},(0,e.createElement)("span",{className:"nglue-title-main"},(0,i.__)("Newsletter blocks","newsletter-glue")),(0,e.createElement)("span",{className:"nglue-title-sub"},(0,i.__)("Explore and manage all newsletter blocks. Enabled blocks can be used in the block editor. Disabled blocks won’t appear in the block editor.","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-title-icon"},(0,e.createElement)("img",{src:La}))))),(0,e.createElement)("div",{className:`nglue-panel-body ${r}`,style:{backgroundColor:"transparent"}},o&&(0,e.createElement)("div",{className:"nglue-panel-overlay"}),(0,e.createElement)("div",{className:"nglue-main nglue-main-2"},(0,e.createElement)("div",{className:"nglue-equal-boxes"},c))),n&&(0,e.createElement)(s.Modal,{title:l,onRequestClose:this.closeModal,shouldCloseOnEsc:!1},(0,e.createElement)(s.FocusableIframe,{width:"800",height:"450",src:a,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))}}var Oa=function({icon:t,size:n=24,...l}){return(0,e.cloneElement)(t,{width:n,height:n,...l})},Ha=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));nglue_backend.images_uri;const Va=[{id:"reset_templates",header:"Newsletter templates",label:"Reset templates",desc:"This tool will reset all default newsletter templates."},{id:"reset_patterns",header:"Newsletter patterns",label:"Reset patterns",desc:"This tool will reset all default newsletter patterns."},{id:"reset_theme",header:"Newsletter theme",label:"Reset theme",desc:"This tool will reset all theme changes and restore the default theme."},{id:"reset_css",header:"Newsletter custom CSS",label:"Reset custom CSS",desc:"This tool will reset newsletter custom CSS."},{id:"reinstall_roles",header:"User Roles",label:"Reset user roles",desc:"This tool will reset all newsletter roles and permissions."}];class Da extends e.Component{constructor(e){super(e),this.initTool=this.initTool.bind(this),this.state={loading:{},messages:{}}}initTool(e){confirm(`${e.desc} Are you sure you want to continue?`)&&(this.setState((t=>({...t,loading:{...t.loading,[e.id]:!0}}))),o()({path:"newsletterglue/"+nglue_backend.api_version+"/run_action_tools",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:{action:e.id}}).then((t=>{this.setState((n=>({...n,loading:{...n.loading,[e.id]:!1},messages:{...n.messages,[e.id]:t.message}})))})))}componentDidMount(){}render(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"nglue-main"},Object.keys(this.state.messages).map(((t,n)=>this.state.messages[t]?(0,e.createElement)("div",{className:"updated inline nglue-updated-inline is-dismissible",key:`ng-tool-${n}`},this.state.messages[t],(0,e.createElement)(s.Button,{variant:"link",className:"ngl-dismiss",onClick:()=>{this.setState((e=>({...e,messages:{...e.messages,[t]:null}})))}},(0,e.createElement)(Oa,{icon:Ha,size:16}))):null)),(0,e.createElement)(s.PanelBody,{className:"nglue-settings-tools"},(0,e.createElement)("div",{className:"nglue-title-bar"},(0,e.createElement)("div",{className:"nglue-title"},(0,e.createElement)("span",{className:"nglue-title-main"},(0,i.__)("Tools","newsletter-glue")),(0,e.createElement)("span",{className:"nglue-title-sub"},(0,i.__)("Use tools to restore your newsletter settings or reset plugin defaults.","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-title-icon"})),Va.map(((t,n)=>{const l=this.state.loading[t.id];return(0,e.createElement)("div",{className:"nglue-panel-body",key:`tool-${n}`},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("div",null,(0,e.createElement)("h4",null,t.header),(0,e.createElement)("p",null,t.desc)),(0,e.createElement)(s.Button,{variant:"tertiary",size:"small",disabled:l,isBusy:l,onClick:()=>this.initTool(t)},t.label)))})))))}}const ja=nglue_backend.images_uri+"icon-connections.svg";class $a extends e.Component{constructor(e){super(e),this.changeConnectionName=this.changeConnectionName.bind(this),this.attemptConnect=this.attemptConnect.bind(this),this.removeConnection=this.removeConnection.bind(this),this.saveESP=this.saveESP.bind(this),this.updateItems=this.updateItems.bind(this),this.state={currentConnectionName:"",isAPILoaded:!1,setupEsp:!1,esps:"",connectUpgrade:!1,newEsp:"",selectedEsp:"",getAPIURL:"",allowESPinputs:!1,espAPIKey:"",espAPIURL:"",espAPISecret:"",isConnecting:!1,connectionStatus:0,enableTest:!1,connectionName:"",connectionIcon:"",connectionState:"",fromEmail:"",fromName:"",utm_source:"",utm_campaign:"",utm_medium:"",utm_content:"",hasConnected:!1,showURLfield:!1,showSecretfield:!1,isToggled:!0,disableSelect:"",updatingSegments:!1,options:"",isSaving:!1,hasSaved:!1,showConnected:!1,isInvalidEmail:!1,isInvalidName:!1,unsavedChanges:!1,showMoreSettings:!1}}changeConnectionName(e){var t=e.currentTarget.textContent;const{newEsp:n,currentConnectionName:l}=this.state,a={esp:n,name:t};if(t==l)return!1;this.setState({currentConnectionName:t}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/update_connection_name",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:a}).then((()=>{}))}attemptConnect(){this.setState({isConnecting:!0,connectionStatus:0,enableTest:!1,allowESPinputs:!1}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/verify_connection",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:this.state}).then((e=>{"successful"===e.response?(this.setState({isConnecting:!1,connectionStatus:1,allowESPinputs:!0,connectionName:e.connection_name,connectionIcon:e.connection_icon,connectionState:e.connection_state,fromEmail:e.from_email,fromName:e.from_name,utm_source:e.utm_source,utm_campaign:e.utm_campaign,utm_medium:e.utm_medium,utm_content:e.utm_content,schedule:e.schedule,options:e.options,showConnected:!0}),setTimeout((()=>{this.state.enableTest||this.setState({enableTest:!0,showConnected:!1})}),1500)):this.setState({isConnecting:!1,connectionStatus:2,allowESPinputs:!1})}))}removeConnection(){this.setState({isConnecting:!1,connectionStatus:0,enableTest:!1,espAPIKey:"",espAPISecret:"",espAPIURL:"",allowESPinputs:!1,connectionName:"",selectedEsp:null,fromName:"",fromEmail:"",hasConnected:!1,setupEsp:!1,options:""}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/remove_connection",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((()=>{}))}saveESP(){this.setState({isSaving:!0});const e={esp:this.state.newEsp,from_name:this.state.fromName,from_email:this.state.fromEmail,schedule:this.state.schedule,utm_source:this.state.utm_source,utm_campaign:this.state.utm_campaign,utm_medium:this.state.utm_medium,utm_content:this.state.utm_content,options:this.state.options};console.log(e),o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_esp",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:e}).then((e=>{setTimeout((()=>{this.setState({isSaving:!1,hasSaved:!0,isInvalidEmail:!!e.is_invalid_email,isInvalidName:!!e.is_invalid_name})}),1500),setTimeout((()=>{this.setState({hasSaved:!1,isInvalidEmail:!!e.is_invalid_email,isInvalidName:!!e.is_invalid_name,unsavedChanges:!1})}),2500)}))}updateItems(e,t){this.setState({updatingSegments:!0,disableSelect:e,isValidated:!1});let n=this.state.options[e].callback;o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_esp_items?esp="+this.state.newEsp+"&parameter="+t.value+"&callback="+n,method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((t=>{let n=this.state;n.options[e].items=t,n.options[e].value="",n.options[e].default="",n.updatingSegments=!1,n.disableSelect="",n.isValidated=!0,this.setState(n)}))}handleChange(e,t){var n=this.state.options;n[e].value=t.target.value,this.setState({unsavedChanges:!0,options:n})}componentDidMount(){o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_settings",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{const t=[];for(var n in t.isAPILoaded=!0,e)t[n]=e[n];e.hasConnected||(t.isToggled=!1),console.log(t),this.setState(t)}))}componentDidUpdate(e,t){this.state.connectionStatus>0&&this.props.getState.notLicensed&&(0!==t.connectionStatus&&e.getState.notLicensed||(console.log("License inactive but connection active - automatically removing connection"),this.removeConnection()))}render(){const{isAPILoaded:t,connectionStatus:n,showConnected:l,enableTest:a,hasConnected:o,isConnecting:r,hasSaved:c,options:u,disableSelect:d,updatingSegments:m,connectionName:g,isToggled:p,connectionIcon:h,connectionState:b,selectedEsp:_,connectUpgrade:f,setupEsp:v,espAPISecret:y,espAPIKey:w,getAPIURL:E,showURLfield:x,showSecretfield:C,espAPIURL:S,allowESPinputs:N,fromName:z,fromEmail:B,utm_source:T,utm_campaign:P,utm_medium:A,utm_content:I,esps:R,isSaving:M,isInvalidEmail:L,isInvalidName:F,unsavedChanges:O,showMoreSettings:H}=this.state,{notLicensed:V}=this.props.getState;var D="is-primary";1===n?D=l?"nglue-btn-valid":a||o?"is-tertiary":"nglue-btn-valid":r&&(D="nglue-btn-wait");var j;j=1===n?l?(0,i.__)("Connected","newsletter-glue"):a||o?(0,i.__)("Test","newsletter-glue"):(0,i.__)("Connected","newsletter-glue"):r?(0,i.__)("Connecting...","newsletter-glue"):(0,i.__)("Connect","newsletter-glue");var $="is-primary";c?$="nglue-btn-valid":M&&($="nglue-btn-wait");var W;W=1==c?(0,i.__)("Saved","newsletter-glue"):M?(0,i.__)("Saving...","newsletter-glue"):(0,i.__)("Save","newsletter-glue");var U=[];for(var G in u){var q=u[G],Y=_&&_.value?_.value:"";U.push((0,e.createElement)(s.BaseControl,{key:`nglue-option-${G}`,label:q.title,id:G,className:`nglue-base nglue-esp-select nglue-field-${G} nglue-esp-select-${Y}`},"select"==q.type&&(0,e.createElement)(dl,{name:G,inputId:G,isMulti:q.is_multi,classNamePrefix:"nglue",options:q.items,value:q.value||q.is_multi?q.value:q.default,isDisabled:d===G&&m,isLoading:d===G&&m,placeholder:q.placeholder,isClearable:!1,isOptionDisabled:e=>e.disabled,onChange:(e,t)=>{var n=u;e!==n[t.name].value&&(n[t.name].value=e,this.setState({unsavedChanges:!0,options:n}),n[t.name].onchange&&this.updateItems(n[t.name].onchange,e))}}),"text"==q.type&&(0,e.createElement)("div",{className:"nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:G,name:G,className:"nglue-base nglue-esp-input-in",value:q.value?q.value:q.default,onChange:this.handleChange.bind(this,G)})),q.help&&(0,e.createElement)("div",{className:"nglue-input-help b",dangerouslySetInnerHTML:{__html:q.help}})))}var Z="";_&&_.label&&(Z=_.label);const K=[{value:"immediately",label:(0,i.__)("Send now","newsletter-glue")},{value:"draft",label:(0,i.sprintf)((0,i.__)("Save as a draft in %s","newsletter-glue"),Z)},{value:"schedule_draft",label:(0,i.sprintf)((0,i.__)("Immediately save draft in %s when post scheduled","newsletter-glue"),Z)}];var Q="{{newsletter_title}}",X=_&&_.value&&"campaignmonitor"===_.value?"Client ID":"API secret";return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"nglue-main"},(0,e.createElement)(s.PanelBody,{className:""},(0,e.createElement)("div",{className:"nglue-title-bar "},(0,e.createElement)("div",{className:"nglue-title"},(0,e.createElement)("span",{className:"nglue-title-main"},(0,i.__)("Connect","newsletter-glue")),(0,e.createElement)("span",{className:"nglue-title-sub"},(0,i.__)("Connect email service provider to send newsletters.","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-title-icon"},(0,e.createElement)("img",{src:ja}))),!t&&(0,e.createElement)(k,null),t&&(0,e.createElement)("div",{className:"nglue-panel-body "},(0,e.createElement)(s.PanelRow,null,g&&(0,e.createElement)("div",{className:"nglue-placeholder "+(p?"nglue-placeholder-collapsed":"nglue-placeholder-open"),onClick:e=>{if("nglue-editable-name"===e.target.className)return!1;p?this.setState({isToggled:!1}):this.setState({isToggled:!0})}},(0,e.createElement)("div",{className:"nglue-hc-icon"},(0,e.createElement)("img",{src:h})),(0,e.createElement)("div",{className:"nglue-editable-name",contentEditable:!0,spellCheck:!1,dangerouslySetInnerHTML:{__html:g},onBlur:this.changeConnectionName}),r&&(0,e.createElement)("div",{className:"nglue-hc-state nglue-hc-state-wait"},(0,i.__)("Connecting...","newsletter-glue")),!r&&1==n&&(0,e.createElement)("div",{className:"nglue-hc-state"},_a," ",b),!r&&2==n&&(0,e.createElement)("div",{className:"nglue-hc-state nglue-hc-state-failed"},va," ",(0,i.__)("Failed","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-hc-collapse"},ya)),!g&&(0,e.createElement)("div",{className:"nglue-placeholder"},(0,i.__)("Make your first connection","newsletter-glue"))),(0,e.createElement)("div",{className:`nglue-section nglue-collapse nglue-collapse-${p}`},(0,e.createElement)("form",{autoComplete:"off"},(0,e.createElement)(s.PanelRow,{key:"nglue-esp-new "+(!R&&"nglue-disabled-row")},(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Integration","newsletter-glue"),id:"nglue-esp-select",className:"nglue-base nglue-esp-select"},(0,e.createElement)(dl,{name:"nglue-esp-select",inputId:"nglue-esp-select",classNamePrefix:"nglue",options:R,placeholder:(0,i.__)("Select from list","newsletter-glue"),isClearable:!1,value:_,isDisabled:r||o||1==n,inputProps:{autoComplete:"new-password"},onChange:e=>{e?0==e.upgrade?this.setState({setupEsp:!0,connectUpgrade:!1,newEsp:e.value,getAPIURL:e.api_src,selectedEsp:e,espAPIKey:"",espAPIURL:"",espAPISecret:"",showURLfield:e.url_field,showSecretfield:e.secret_field}):this.setState({setupEsp:!1,connectUpgrade:!0,newEsp:e.value,selectedEsp:e,espAPIKey:"",espAPIURL:"",espAPISecret:"",showURLfield:e.url_field,showSecretfield:e.secret_field}):this.setState({setupEsp:!1,connectUpgrade:!1,selectedEsp:"",espAPIKey:""})},getOptionLabel:t=>(0,e.createElement)("div",{className:"nglue-option"},(0,e.createElement)("span",{className:"nglue-option-icon"},(0,e.createElement)("img",{src:t.icon,alt:"",title:""})),(0,e.createElement)("span",{className:"nglue-option-label"},t.label),0!=t.upgrade&&(0,e.createElement)("span",{className:"nglue-option-note"},(0,i.__)("Upgrade","newsletter-glue")))}))),f&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,{className:"nglue-notice-box"},(0,e.createElement)("div",{className:"nglue-notice"},(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"nglue-tier-notice-title"},"Upgrade to unlock ",Z," integration"),(0,e.createElement)("div",{className:"nglue-tier-notice-desc"},"Log into your account to see pro-rated pricing and upgrade."),(0,e.createElement)("div",{className:"nglue-tier-notice-btn"},(0,e.createElement)(s.Button,{isPrimary:!0,href:nglue_backend.upgrade_link,target:"_blank"},(0,i.__)("Upgrade my account","newsletter-glue")))),(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"nglue-tier-notice-desc"},"Here are the new features you will get when you upgrade:"),(0,e.createElement)("div",{className:"nglue-tier-features"},(0,e.createElement)("div",null,_a," Access all our email integrations"),(0,e.createElement)("div",null,_a," Static site compatibility"),(0,e.createElement)("div",null,_a," User roles & permissions management for editorial teams"),(0,e.createElement)("div",null,_a," Pro-rated pricing")))))),!f&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,{className:!v&&!o&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:_&&_.key_name||(0,i.sprintf)((0,i.__)("%s API key","newsletter-glue"),Z),id:"nglue-api-key",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"password",id:"nglue-api-key",value:w,onChange:e=>this.setState({espAPIKey:e.target.value}),disabled:r,autoComplete:"new-password"}),"none"!=E&&(0,e.createElement)("div",{className:"nglue-input-help"},(0,e.createElement)(s.ExternalLink,{href:E},(0,i.__)("Get API key","newsletter-glue"))))),C&&(0,e.createElement)(s.PanelRow,{className:!v&&!o&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:_&&_.secret_name||(0,i.sprintf)((0,i.__)(`%s ${X}`,"newsletter-glue"),Z),id:"nglue-api-secret",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"password",id:"nglue-api-secret",value:y,onChange:e=>this.setState({espAPISecret:e.target.value}),disabled:r,autoComplete:"new-password"}))),x&&(0,e.createElement)(s.PanelRow,{className:!v&&!o&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:_&&_.url_name||(0,i.sprintf)((0,i.__)("%s API URL","newsletter-glue"),Z),id:"nglue-api-url",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-api-url",value:S,onChange:e=>this.setState({espAPIURL:e.target.value}),disabled:r}),_&&_.url_help&&(0,e.createElement)("div",{className:"nglue-input-help"},_.url_help))),(0,e.createElement)(s.PanelRow,{className:"nglue-buttons"},(0,e.createElement)(s.Button,{disabled:!v&&!o||!w,onClick:this.attemptConnect,className:D,style:{margin:"0 10px 0 0"},icon:1===n&&!a&&!o&&_a||l&&_a},j),r&&(0,e.createElement)(s.Button,{isLink:!0,onClick:()=>this.setState({isConnecting:!1})},(0,i.__)("Cancel connecting","newsletter-glue")),n>0&&(0,e.createElement)(s.Button,{isLink:!0,onClick:()=>{this.removeConnection()}},(0,i.__)("Remove connection","newsletter-glue")),2==n&&(0,e.createElement)("div",{className:"nglue-form-err"},(0,i.__)("API connection failed. Please make sure your API key is valid.","newsletter-glue"))),(0,e.createElement)("div",{style:{height:"20px"}}),(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},(0,e.createElement)("div",{className:"nglue-head-part"},(0,e.createElement)("div",{className:"nglue-head"},(0,i.__)("Email defaults","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-subheading"},(0,e.createElement)("span",null,(0,i.__)("New newsletters will default to the details you’ve chosen here.","newsletter-glue")),(0,e.createElement)("span",null,(0,i.__)("Change details for individual newsletters at the bottom of each new post.","newsletter-glue"))))),u&&(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},U),!u&&(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Lists","newsletter-glue"),id:"nglue-api-list",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-api-list"}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("Who receives your email.","newsletter-glue"))),(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Segment/tag","newsletter-glue"),id:"nglue-api-segment",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-api-segment"}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("A subset of subscribers.","newsletter-glue")))),(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:(0,i.__)("From name","newsletter-glue"),id:"nglue-api-from-name",className:"nglue-base nglue-esp-input "+(F?"nglue-esp-invalid":"")},(0,e.createElement)("input",{type:"text",id:"nglue-api-from-name",value:z,onChange:e=>{this.setState({unsavedChanges:!0,fromName:e.target.value})}}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("Your subscribers will see this name in their inboxes.","newsletter-glue"))),(0,e.createElement)(s.BaseControl,{label:(0,i.__)("From email","newsletter-glue"),id:"nglue-api-from-email",className:"nglue-base nglue-esp-input "+(L?"nglue-esp-invalid":"")},(0,e.createElement)("input",{type:"text",id:"nglue-api-from-email",value:B,onChange:e=>this.setState({unsavedChanges:!0,fromEmail:e.target.value})}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("Subscribers will see and reply to this email address.","newsletter-glue"),(0,e.createElement)("br",null),(0,i.__)("Only use verified email addresses.","newsletter-glue")," ",(0,e.createElement)(s.ExternalLink,{href:"https://newsletterglue.com/docs/from-email-use-verified-email-address/"},(0,i.__)("Learn more","newsletter-glue"))))),(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},(0,e.createElement)("a",{href:"#",className:"ngl-edit-link",onClick:e=>{e.preventDefault(),H?this.setState({showMoreSettings:!1}):this.setState({showMoreSettings:!0})}},"Edit more settings"," ",H?xa:ka)),H&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,{className:"nglue-simple-row"},(0,e.createElement)("div",{className:"nglue-head-part"},(0,e.createElement)("div",{className:"nglue-head"},(0,i.__)("Send or save","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-subheading"},(0,e.createElement)("span",null,(0,i.sprintf)((0,i.__)("When you click publish, decide if your emails should send right away, or get saved as a draft inside %s.","newsletter-glue"),Z))))),(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Send now or save for later","newsletter-glue"),id:"nglue-schedule-select",className:"nglue-base nglue-esp-select"},(0,e.createElement)(dl,{name:"nglue-schedule-select",inputId:"nglue-schedule-select",classNamePrefix:"nglue",options:K,isClearable:!1,value:K.find((e=>e.value===this.state.schedule)),onChange:e=>{this.setState({unsavedChanges:!0,schedule:e.value})}}))),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:4}),(0,e.createElement)(s.PanelRow,{className:"nglue-simple-row"},(0,e.createElement)("div",{className:"nglue-head-part"},(0,e.createElement)("div",{className:"nglue-head"},(0,i.__)("UTM builder","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-subheading"},(0,e.createElement)("span",null,(0,i.__)("Generate UTM codes to track subscribers when they click on links in your emails.","newsletter-glue")),(0,e.createElement)("span",null,(0,i.__)("We will automatically add these codes to the end of each URL inside your emails. You can change UTM codes for individual newsletters or templates.","newsletter-glue")),(0,e.createElement)("span",null,(0,e.createElement)("a",{href:"#"},(0,i.__)("Learn more.","newsletter-glue")))))),(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:(0,i.__)("UTM Source","newsletter-glue"),id:"nglue-utm-source",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-utm-source",value:T,onChange:e=>{this.setState({unsavedChanges:!0,utm_source:e.target.value})}}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("e.g. newsletter, ng","newsletter-glue"))),(0,e.createElement)(s.BaseControl,{label:(0,i.__)("UTM Campaign","newsletter-glue"),id:"nglue-utm-campaign",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-utm-campaign",value:P,onChange:e=>{this.setState({unsavedChanges:!0,utm_campaign:e.target.value})}}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("e.g. weekly_update, ","newsletter-glue"),(0,e.createElement)("a",{href:"#",className:"nglue-input-var",onClick:e=>{e.preventDefault(),this.setState({unsavedChanges:!0,utm_campaign:Q})}},Q)))),(0,e.createElement)(s.PanelRow,{className:(!N||M)&&"nglue-disabled-row"},(0,e.createElement)(s.BaseControl,{label:(0,i.__)("UTM Medium","newsletter-glue"),id:"nglue-utm-medium",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-utm-medium",value:A,onChange:e=>{this.setState({unsavedChanges:!0,utm_medium:e.target.value})}}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,i.__)("e.g. email","newsletter-glue"))),(0,e.createElement)(s.BaseControl,{label:(0,i.__)("UTM Content","newsletter-glue"),id:"nglue-utm-content",className:"nglue-base nglue-esp-input"},(0,e.createElement)("input",{type:"text",id:"nglue-utm-content",value:I,onChange:e=>{this.setState({unsavedChanges:!0,utm_content:e.target.value})}}),(0,e.createElement)("div",{className:"nglue-input-help"}))),(0,e.createElement)(s.PanelRow,{className:"nglue-simple-row"},(0,e.createElement)("p",null,(0,i.sprintf)((0,i.__)("Important: If you already have Google Analytics connected to your %s account, you will need to turn it off first to use this feature.","newsletter-glue"),Z)))),(0,e.createElement)(s.PanelRow,{className:!N&&"nglue-disabled-row"},(0,e.createElement)(s.Button,{disabled:!N||!O,onClick:this.saveESP,className:$,icon:c&&_a},W))))),(0,e.createElement)("div",{className:"nglue-soon",style:{display:"none"}},fa,(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:(0,i.__)("Add another email service provider &mdash; <strong>Coming soon</strong>","newsletter-glue")}}))))))}}const Wa=nglue_backend.images_uri+"icon-css.svg";class Ua extends e.Component{constructor(e){super(e),this.saveSettings=this.saveSettings.bind(this);const t={customCSS:nglue_backend.custom_css,disableCSS:parseInt(nglue_backend.disable_css),isSaving:!1,hasSaved:!1,isSaved:!1,unsavedChanges:!1};this.state=t}saveSettings(){this.setState({isSaving:!0});const e={customCSS:this.state.customCSS,disableCSS:this.state.disableCSS};o()({path:"newsletterglue/"+nglue_backend.api_version+"/save_css_settings",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:e}).then((()=>{setTimeout((()=>{this.setState({isSaving:!1,hasSaved:!0})}),1500),setTimeout((()=>{this.setState({hasSaved:!1,unsavedChanges:!1})}),2500)}))}render(){const{notLicensed:t}=this.props.getState,n=t?"nglue-panel-off":"";return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"nglue-main"},t&&(0,e.createElement)("div",{className:"nglue-panel-overlay"}),(0,e.createElement)(s.PanelBody,{className:n},(0,e.createElement)("div",{className:`nglue-title-bar ${n}`},(0,e.createElement)("div",{className:"nglue-title"},(0,e.createElement)("span",{className:"nglue-title-main"},(0,i.__)("Custom CSS","newsletter-glue")),(0,e.createElement)("span",{className:"nglue-title-sub"},(0,i.__)("Add custom CSS to all your newsletters. CSS added here will not show up on your site.","newsletter-glue")," ",(0,e.createElement)(s.ExternalLink,{href:"https://newsletterglue.com/docs/style-newsletter-with-css-classes/"},(0,i.__)("Learn more","newsletter-glue")))),(0,e.createElement)("div",{className:"nglue-title-icon"},(0,e.createElement)("img",{src:Wa}))),(0,e.createElement)("div",{className:`nglue-panel-body ${n}`},(0,e.createElement)("div",{className:"nglue-base-parent",style:{padding:"20px 10px 0 10px"}},(0,e.createElement)(s.PanelRow,{className:"nglue-row-full"},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.Notice,{status:"warning",isDismissible:!1,className:"ngl-settings-notice"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:nglue_backend.css_moved}}))))),(0,e.createElement)("div",{className:"nglue-base-parent",style:{padding:"0 10px"}},(0,e.createElement)(s.PanelRow,{className:"nglue-row-full"},(0,e.createElement)("div",{className:"nglue-head-part"},(0,e.createElement)("div",{className:"nglue-head"},(0,i.__)("Advanced","newsletter-glue"))))),(0,e.createElement)("div",{className:"nglue-base-parent",style:{padding:"0 10px"}},(0,e.createElement)(s.PanelRow,{className:"nglue-row-full"},(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Only use custom CSS from the above box?","newsletter-glue"),help:(0,i.__)("All default and Newsletter Theme Designer styling will be removed from your newsletter. Only check this box if you plan to style your entire newsletter from scratch.","newsletter-glue"),checked:this.state.disableCSS,disabled:!0}))),(0,e.createElement)("div",{className:"nglue-base-parent",style:{padding:"0 10px"}},(0,e.createElement)(s.PanelRow,{className:"nglue-buttons"},(0,e.createElement)(s.Notice,{status:"warning",isDismissible:!1,className:"ngl-settings-notice"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,i.__)('We’ve stopped supporting this feature. If you need this back, <a href="mailto:support@newsletterglue.com">please let us know</a>.',"newsletter-glue")}}))))))))}}const Ga=nglue_backend.images_uri+"icon-license.svg";class qa extends e.Component{constructor(e){super(e),this.attemptConnect=this.attemptConnect.bind(this),this.removeConnection=this.removeConnection.bind(this)}attemptConnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;var n=this.props;n.changeState({licenseConnecting:!0,licenseStatus:0,licenseTest:!1}),e>0&&console.log(`Retrying license verification (attempt ${e} of ${t})`),o()({path:"newsletterglue/"+nglue_backend.api_version+"/verify_license",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:this.props.getState}).then((l=>{if(l&&l.data&&l.data.success)n.changeState({notLicensed:!1,licenseConnecting:!1,licenseStatus:1,licenseShowConnect:!0,licenseRenew:l.licenseRenew||"",licenseName:l.licenseName||"",tier:l.licenseTier||""}),setTimeout((()=>{n.changeState({licenseTest:!0,licenseShowConnect:!1})}),1500);else if(l&&l.message&&l.message.includes("cURL error 28")&&e<t){const n=1e3*Math.pow(2,e);console.log(`License verification timed out. Retrying in ${n/1e3} seconds...`),setTimeout((()=>{this.attemptConnect(e+1,t)}),n)}else console.log("License verification failed:",l?l.message:"Unknown error"),n.changeState({notLicensed:!0,licenseConnecting:!1,licenseStatus:2})})).catch((l=>{if(console.error("License verification error:",l),l.message&&l.message.includes("timeout")&&e<t){const n=1e3*Math.pow(2,e);console.log(`License verification timed out. Retrying in ${n/1e3} seconds...`),setTimeout((()=>{this.attemptConnect(e+1,t)}),n)}else n.changeState({notLicensed:!0,licenseConnecting:!1,licenseStatus:2})}))}removeConnection(){var e=this.props;e.changeState({licenseConnecting:!1,licenseStatus:0,licenseTest:!1,licenseKey:"",licenseConnected:!1,licenseRenew:"",licenseName:"",tier:""}),o()({path:"newsletterglue/"+nglue_backend.api_version+"/remove_license",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((()=>{e.changeState({notLicensed:!0})}))}render(){var t=this.props;const{licenseKey:n,licenseConnected:l,licenseRenew:a,licenseConnecting:o,licenseShowConnect:r,licenseTest:c,licenseStatus:u,licenseName:d}=this.props.getState,m=nglue_backend.is_demo;var g;g=1===u?r?(0,i.__)("Connected","newsletter-glue"):c||l?(0,i.__)("Test","newsletter-glue"):(0,i.__)("Connected","newsletter-glue"):o?(0,i.__)("Connecting...","newsletter-glue"):(0,i.__)("Connect","newsletter-glue");var p="is-primary";return 1===u?p=r?"nglue-btn-valid":c||l?"is-tertiary":"nglue-btn-valid":o&&(p="nglue-btn-wait"),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"nglue-main"},(0,e.createElement)(s.PanelBody,null,(0,e.createElement)("div",{className:"nglue-title-bar"},(0,e.createElement)("div",{className:"nglue-title"},(0,e.createElement)("span",{className:"nglue-title-main"},(0,i.__)("Pro license","newsletter-glue")),(0,e.createElement)("span",{className:"nglue-title-sub"},(0,i.__)("Connect your license key to receive plugin updates and support.","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-title-icon"},(0,e.createElement)("img",{src:Ga}))),(0,e.createElement)("div",{className:"nglue-base-parent"},(0,e.createElement)("div",{className:"nglue-base"},(0,e.createElement)(s.PanelRow,{className:o&&"nglue-disabled-row"},(0,e.createElement)("div",null,!d&&(0,e.createElement)("div",{className:"nglue-base-text nglue-text-b"},(0,i.__)("Connect license key to start","newsletter-glue")," ",wa),d&&(0,e.createElement)("div",{className:"nglue-base-text nglue-text-b"},d,o&&(0,e.createElement)("span",{className:"nglue-hc-state nglue-hc-state-wait"},(0,i.__)("Connecting...","newsletter-glue")),!o&&1==u&&(0,e.createElement)("span",{className:"nglue-hc-state"},_a," ",(0,i.__)("Connected","newsletter-glue")),!o&&2==u&&(0,e.createElement)("span",{className:"nglue-hc-state nglue-hc-state-failed"},va," ",(0,i.__)("Failed","newsletter-glue"))),(0,e.createElement)("div",{className:"nglue-base-text"},(0,i.__)("Renews/Expires on:","newsletter-glue")," ",(0,e.createElement)("span",{className:"nglue-base-text-data"},a)),(0,e.createElement)("div",{className:"nglue-base-text"},(0,e.createElement)(s.ExternalLink,{href:"https://newsletterglue.com/account"},(0,i.__)("Go to My Account","newsletter-glue")))))),(0,e.createElement)("div",{className:"nglue-base"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Enter your license key","newsletter-glue"),id:"nglue-license-key",className:"nglue-esp-input"},(0,e.createElement)("input",{type:"password",id:"nglue-license-key",value:n,onChange:e=>t.changeState({licenseKey:e.target.value}),disabled:l||o,autoComplete:"new-password"}),(0,e.createElement)("div",{className:"nglue-input-help"},(0,e.createElement)(s.ExternalLink,{href:"https://newsletterglue.com/account"},(0,i.__)("Get license key","newsletter-glue"))))),(0,e.createElement)(s.PanelRow,{className:"nglue-buttons"},(0,e.createElement)(s.Button,{disabled:!n,onClick:this.attemptConnect,className:p,style:{margin:"0 10px 0 0"},icon:1===u&&!c&&!l&&_a||r&&_a},g),o&&(0,e.createElement)(s.Button,{isLink:!0,onClick:()=>t.changeState({licenseConnecting:!1})},(0,i.__)("Cancel connecting","newsletter-glue")),!m&&1===u&&(0,e.createElement)(s.Button,{isLink:!0,onClick:()=>{this.removeConnection()}},(0,i.__)("Deactivate license","newsletter-glue")),!m&&2==u&&(0,e.createElement)("div",{className:"nglue-form-err"},(0,i.__)("Please make sure your enter a valid license key.","newsletter-glue"))))))))}}class Ya extends e.Component{constructor(e){super(e),this.changeState=this.changeState.bind(this),this.state={notLicensed:nglue_backend.no_license,licenseRenew:nglue_backend.license_expires,licenseStatus:parseInt(nglue_backend.license_status),licenseKey:nglue_backend.license_code,licenseConnected:nglue_backend.license_on,licenseConnecting:!1,licenseShowConnect:!1,licenseTest:nglue_backend.license_test,licenseName:nglue_backend.license_name,selectedPostTypes:nglue_backend.selectedPostTypes,selectedRole:nglue_backend.selectedRole,ngSlug:nglue_backend.ngSlug,ngDomain:nglue_backend.ngDomain,removeCSSFront:nglue_backend.removeCSSFront,tier:nglue_backend.license_tier,user_perms:nglue_backend.permissions,activeRole:"editor"}}changeState(e){this.setState(e)}render(){const{notLicensed:t}=this.state;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ia,null,(0,e.createElement)("div",{className:"nglue-main"},(0,e.createElement)(s.PanelBody,{className:"nglue-tabs"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("ul",null,(0,e.createElement)("li",null,(0,e.createElement)(ha,{className:"components-button is-link",to:"/",exact:!0,activeClassName:"nglue-active"},(0,i.__)("Connections","newsletter-glue"))),(0,e.createElement)("li",null,(0,e.createElement)(ha,{className:"components-button is-link",to:"/additional",exact:!0,activeClassName:"nglue-active"},(0,i.__)("Additional","newsletter-glue"))),(0,e.createElement)("li",null,(0,e.createElement)(ha,{className:"components-button is-link",to:"/pro",exact:!0,activeClassName:"nglue-active"},(0,i.__)("Pro license","newsletter-glue"))),nglue_backend.is_super_admin&&(0,e.createElement)("li",null,(0,e.createElement)(ha,{className:"components-button is-link",to:"/tools",exact:!0,activeClassName:"nglue-active"},(0,i.__)("Tools","newsletter-glue"))))))),t&&(0,e.createElement)("div",{className:"nglue-main"},(0,e.createElement)(s.PanelBody,{className:"nglue-alert"},(0,e.createElement)("div",{className:"nglue-alert-icon"},Ea),(0,e.createElement)("div",{className:"nglue-alert-info"},(0,e.createElement)("div",{className:"nglue-alert-title"},(0,i.__)("Add/update your license key","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-alert-body"},(0,i.__)("Your license key is invalid, expired or missing. Head to Pro license tab to fix.","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-alert-body"},(0,i.__)("Something not right?","newsletter-glue")," ",(0,e.createElement)("a",{href:"https://newsletterglue.com/contact/",target:"_blank",rel:"noreferrer"},(0,i.__)("Get help","newsletter-glue")),".")),(0,e.createElement)("div",{className:"nglue-alert-actions"},(0,e.createElement)(s.Button,{isPrimary:!0,href:"#/pro"},(0,i.__)("Go to Pro license tab","newsletter-glue")),(0,e.createElement)("div",{className:"nglue-alert-link"},(0,e.createElement)(s.ExternalLink,{href:"https://newsletterglue.com/account"},(0,i.__)("Get license key from My Account","newsletter-glue")))))),(0,e.createElement)(oa,null,(0,e.createElement)(aa,{exact:!0,path:"/",render:()=>(0,e.createElement)($a,E({},this,{getState:this.state,changeState:this.changeState}))}),(0,e.createElement)(aa,{exact:!0,path:"/pro",render:()=>(0,e.createElement)(qa,E({},this,{getState:this.state,changeState:this.changeState}))}),(0,e.createElement)(aa,{exact:!0,path:"/css",render:()=>(0,e.createElement)(Ua,E({},this,{getState:this.state,changeState:this.changeState}))}),(0,e.createElement)(aa,{exact:!0,path:"/blocks",render:()=>(0,e.createElement)(Fa,E({},this,{getState:this.state,changeState:this.changeState}))}),(0,e.createElement)(aa,{exact:!0,path:"/tools",render:()=>(0,e.createElement)(Da,E({},this,{getState:this.state,changeState:this.changeState}))}),(0,e.createElement)(aa,{exact:!0,path:"/additional",render:()=>(0,e.createElement)(Ma,E({},this,{getState:this.state,changeState:this.changeState}))}))))}}var Za=document.getElementById("nglue-settings");Za&&(0,r.s)(Za).render((0,e.createElement)(Ya,null));const Ka={formatting:{smallcase:"email formatting",support_title:(0,i.__)("Your email formatting issue","newsletter-glue"),questions:[{name:"How to build a newsletter template?",url:"https://newsletterglue.com/docs/how-to-build-newsletter-templates/"},{name:"Which blocks can I use to build my newsletters?",url:"https://newsletterglue.com/docs/which-blocks-can-i-use-for-my-newsletters/"},{name:"Does Newsletter Glue work with my page builder or blocks plugin?",url:"https://newsletterglue.com/docs/newsletter-glue-doesnt-work-with-my-page-builder-or-blocks-plugin/"},{name:"How to style my newsletter with CSS classes?",url:"https://newsletterglue.com/docs/style-newsletter-with-css-classes/"}]},sending:{smallcase:"email sending",support_title:(0,i.__)("Your email sending issue","newsletter-glue"),questions:[{name:"My email was successfully sent, but I haven’t received it. How come?",url:"https://newsletterglue.com/docs/email-deliverability-my-email-was-successfully-sent-but-i-still-havent-received-it/"},{name:"My email got stuck in drafts inside my email service provider. How come?",url:"https://newsletterglue.com/docs/email-not-sent-i-published-my-newsletter-but-it-got-stuck-in-drafts-in-the-email-service-provider/"},{name:"Why isn’t my email service connecting?",url:"https://newsletterglue.com/docs/email-integration-my-email-service-isnt-connecting/"}]},features:{smallcase:"features & settings",support_title:(0,i.__)("Your features & settings issue","newsletter-glue"),questions:[{name:"Learn about the newsletter editor",url:"https://newsletterglue.com/docs/newsletter-editor-overview-of-the-newsletter-editor-custom-post-type/"},{name:"Choosing your email defaults",url:"https://newsletterglue.com/docs/email-defaults-choose-your-autofill-email-defaults/"},{name:"Add a newsletter archive to your site",url:"https://newsletterglue.com/docs/newsletter-archive-shortcodes-how-do-i-add-my-newsletter-archive-to-my-site/"},{name:"How to use mergetags",url:"https://newsletterglue.com/docs/mergetags/"}]},others:{smallcase:"others",support_title:(0,i.__)("What do you need help with?","newsletter-glue"),questions:[{name:"Activate your license key",url:"https://newsletterglue.com/docs/finding-and-activating-your-license-key/"},{name:"How to upgrade your license",url:"https://newsletterglue.com/docs/how-to-upgrade-license/"}]}};var Qa={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xa=l().createContext&&l().createContext(Qa),Ja=function(){return Ja=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ja.apply(this,arguments)},eo=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]])}return n};function to(e){return e&&e.map((function(e,t){return l().createElement(e.tag,Ja({key:t},e.attr),to(e.child))}))}function no(e){return function(t){return l().createElement(lo,Ja({attr:Ja({},e.attr)},t),to(e.child))}}function lo(e){var t=function(t){var n,a=e.attr,o=e.size,i=e.title,r=eo(e,["attr","size","title"]),s=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),l().createElement("svg",Ja({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,r,{className:n,style:Ja(Ja({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&l().createElement("title",null,i),e.children)};return void 0!==Xa?l().createElement(Xa.Consumer,null,(function(e){return t(e)})):t(Qa)}function ao(e){return no({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2A10.13 10.13 0 0 0 2 12a10 10 0 0 0 4 7.92V20h.1a9.7 9.7 0 0 0 11.8 0h.1v-.08A10 10 0 0 0 22 12 10.13 10.13 0 0 0 12 2zM8.07 18.93A3 3 0 0 1 11 16.57h2a3 3 0 0 1 2.93 2.36 7.75 7.75 0 0 1-7.86 0zm9.54-1.29A5 5 0 0 0 13 14.57h-2a5 5 0 0 0-4.61 3.07A8 8 0 0 1 4 12a8.1 8.1 0 0 1 8-8 8.1 8.1 0 0 1 8 8 8 8 0 0 1-2.39 5.64z"}},{tag:"path",attr:{d:"M12 6a3.91 3.91 0 0 0-4 4 3.91 3.91 0 0 0 4 4 3.91 3.91 0 0 0 4-4 3.91 3.91 0 0 0-4-4zm0 6a1.91 1.91 0 0 1-2-2 1.91 1.91 0 0 1 2-2 1.91 1.91 0 0 1 2 2 1.91 1.91 0 0 1-2 2z"}}]})(e)}const oo=[{name:"formatting",label:(0,i.__)("Email formatting","newsletter-glue"),icon:function(e){return no({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.447 3.027a.75.75 0 01.527.92l-4.5 16.5a.75.75 0 01-1.448-.394l4.5-16.5a.75.75 0 01.921-.526zM16.72 6.22a.75.75 0 011.06 0l5.25 5.25a.75.75 0 010 1.06l-5.25 5.25a.75.75 0 11-1.06-1.06L21.44 12l-4.72-4.72a.75.75 0 010-1.06zm-9.44 0a.75.75 0 010 1.06L2.56 12l4.72 4.72a.75.75 0 11-1.06 1.06L.97 12.53a.75.75 0 010-1.06l5.25-5.25a.75.75 0 011.06 0z",clipRule:"evenodd"}}]})(e)}},{name:"sending",label:(0,i.__)("Email sending","newsletter-glue"),icon:function(e){return no({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"}}]})(e)}},{name:"features",label:(0,i.__)("Features and Settings","newsletter-glue"),icon:function(e){return no({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M856 376H648V168c0-8.8-7.2-16-16-16H168c-8.8 0-16 7.2-16 16v464c0 8.8 7.2 16 16 16h208v208c0 8.8 7.2 16 16 16h464c8.8 0 16-7.2 16-16V392c0-8.8-7.2-16-16-16zm-480 16v188H220V220h360v156H392c-8.8 0-16 7.2-16 16zm204 52v136H444V444h136zm224 360H444V648h188c8.8 0 16-7.2 16-16V444h156v360z"}}]})(e)}},{name:"others",label:(0,i.__)("Others","newsletter-glue"),icon:function(e){return no({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4C9.243 4 7 6.243 7 9h2c0-1.654 1.346-3 3-3s3 1.346 3 3c0 1.069-.454 1.465-1.481 2.255-.382.294-.813.626-1.226 1.038C10.981 13.604 10.995 14.897 11 15v2h2v-2.009c0-.024.023-.601.707-1.284.32-.32.682-.598 1.031-.867C15.798 12.024 17 11.1 17 9c0-2.757-2.243-5-5-5zm-1 14h2v2h-2z"}}]})(e)}}];function io(e){return no({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var ro=document.getElementById("nglue-support");ro&&(0,e.render)((0,e.createElement)((function(){const{support:n}=nglue_backend,[l,a]=(0,t.useState)(""),[r,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[m,g]=(0,t.useState)(!0),[p,h]=(0,t.useState)(!0),[b,_]=(0,t.useState)(!0),[f,v]=(0,t.useState)(n.admin_name),[y,w]=(0,t.useState)(n.admin_email),[E,k]=(0,t.useState)(""),[x,C]=(0,t.useState)(""),[S,N]=(0,t.useState)(!1),[z,B]=(0,t.useState)(!1),[T,P]=(0,t.useState)(!1),[A,I]=(0,t.useState)("Create admin account"),[R,M]=(0,t.useState)(!1),[L,F]=(0,t.useState)([]);let O;return(0,e.createElement)(e.Fragment,null,R&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalSpacer,{paddingBottom:20,marginBottom:0}),(0,e.createElement)("div",{className:"nglue-main nglue-form"},(0,e.createElement)(s.__experimentalHeading,{level:1},(0,i.__)("Thank you!","newsletter-glue")),(0,e.createElement)(s.__experimentalSpacer,{paddingBottom:8,marginBottom:0}),(0,e.createElement)(s.__experimentalText,{size:16,isBlock:!0},(0,i.__)("We received your support request. Please expect a reply in the next 24-48 hours.","newsletter-glue")),(0,e.createElement)(s.__experimentalSpacer,{paddingBottom:8,marginBottom:0}),(0,e.createElement)(s.Flex,{gap:6},(0,e.createElement)(s.FlexItem,null,(0,e.createElement)(s.Button,{variant:"primary",className:"ngl-big-button",onClick:()=>{M(!1),k(""),c(""),d(""),a("")}},(0,i.__)("Submit a new ticket","newsletter-glue"))),(0,e.createElement)(s.FlexBlock,null)))),!R&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalSpacer,{paddingBottom:20,marginBottom:0}),(0,e.createElement)("div",{className:"nglue-main nglue-form"},(0,e.createElement)(s.__experimentalHeading,{level:1},(0,i.__)("Request support","newsletter-glue")),(0,e.createElement)(s.__experimentalSpacer,{paddingBottom:8,marginBottom:0}),(0,e.createElement)(s.__experimentalText,{size:16,isBlock:!0},(0,i.__)("I need help with:","newsletter-glue")),(0,e.createElement)(s.__experimentalSpacer,{paddingBottom:4,marginBottom:0}),(0,e.createElement)(s.ButtonGroup,{className:"ngl-btn-group"},oo.map((function(t,n){return(0,e.createElement)(s.Button,{key:`button-${n}`,variant:t.name===l?"primary":"secondary",icon:t.icon?t.icon:null,onClick:e=>{e.preventDefault(),a(t.name)}},t.label)}))),l&&Ka[l]&&Ka[l].questions&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{className:"ngl-content"},(0,e.createElement)(s.__experimentalHeading,{level:2},"Browse common questions on ",Ka[l].smallcase),(0,e.createElement)(s.__experimentalSpacer,{paddingBottom:2,marginBottom:0}),(0,e.createElement)("ul",null,Ka[l].questions.map((function(t,n){return(0,e.createElement)("li",{key:`question-${n}`},(0,e.createElement)("a",{href:t.url,target:"_blank",rel:"noreferrer"},t.name))}))))),l&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{className:"ngl-content"},(0,e.createElement)(s.__experimentalHeading,{level:3},"Submit support ticket"),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),(0,e.createElement)(s.TextareaControl,{label:(0,i.__)("Describe your issue*","newsletter-glue"),value:r,rows:6,onChange:e=>c(e),disabled:S}),"sending"!=l&&(0,e.createElement)(s.TextControl,{label:(0,i.__)("Where is the problem occuring? Share a specific URL.","newsletter-glue"),value:u,onChange:e=>d(e),disabled:S}),(0,e.createElement)(s.BaseControl,{label:"Share screenshots or screen recordings of your problem.",__nextHasNoMarginBottom:!0}),(0,e.createElement)(s.Button,{variant:"secondary",disabled:!1,onClick:e=>{e.preventDefault(),O||(O=wp.media({title:(0,i.__)("Add image/video","newsletter-glue"),button:{text:(0,i.__)("Add image/video","newsletter-glue")},multiple:!0}),O.on("select",(function(){var e=O.state().get("selection").toJSON();F(e)}))),O.open()}},"Add image/video"),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),L&&Array.from(L).map((function(t,n){return(0,e.createElement)("div",{key:`file-${n}`,className:"ngl-file-uploaded"},(0,e.createElement)("a",{href:t.url,target:"_blank",rel:"noreferrer"},t.title),(0,e.createElement)("a",{href:"",className:"ngl-file-unattach",onClick:e=>{e.preventDefault(),function(e){F(L.filter(((t,n)=>n!==e)))}(n)}},(0,e.createElement)(io,null)))})),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),(0,e.createElement)(s.Flex,{gap:2,align:"flex-start"},(0,e.createElement)(s.FlexBlock,null,(0,e.createElement)(s.TextControl,{label:(0,i.__)("Your name","newsletter-glue"),value:f,onChange:e=>v(e),disabled:S})),(0,e.createElement)(s.FlexBlock,null,(0,e.createElement)(s.TextControl,{label:(0,i.__)("Your email address","newsletter-glue"),value:y,onChange:e=>w(e),help:(0,i.__)("We will email this address to follow up on this support ticket.","newsletter-glue"),disabled:S}))),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),(0,e.createElement)(s.Flex,{gap:6},(0,e.createElement)(s.FlexItem,null,(0,e.createElement)(s.Button,{variant:"primary",className:"ngl-big-button",onClick:function(){N(!0),k(""),o()({path:"newsletterglue/"+nglue_backend.api_version+"/support_request",method:"post",data:{name:f,email:y,create_admin:!0,manage_plugins:m,manage_esp:p,send_diagnose:b,issue_url:u,issue:r,type:l,files:L}}).then((e=>{e.error&&k(e.error),e.success&&(M(!0),F([])),N(!1)}))},isBusy:S,disabled:S||!y||!r},!S&&(0,i.__)("Submit support ticket","newsletter-glue"),S&&(0,i.__)("Processing your request...","newsletter-glue"))),(0,e.createElement)(s.FlexBlock,null,E&&(0,e.createElement)(s.Notice,{status:"error",isDismissible:!1,className:"ngl-notice-err"},E)))),(0,e.createElement)(s.PanelBody,{className:"ngl-content"},(0,e.createElement)(s.__experimentalHeading,{level:3},(0,i.__)("Admin login","newsletter-glue")),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),(0,e.createElement)(s.__experimentalText,{isBlock:!0,lineHeight:1.8,size:14},"Automatically create an admin account for Newsletter Glue when you click ",(0,e.createElement)("strong",null,"Create admin account"),"."),(0,e.createElement)(s.__experimentalText,{isBlock:!0,lineHeight:1.8,size:14},"This account will be deleted once the support ticket is closed."),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Allow Newsletter Glue to temporarily install, activate, and deactivate plugins to troubleshoot.","newsletter-glue"),checked:m,onChange:g,disabled:S}),(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Allow Newsletter Glue to temporarily replace my email service provider API key with their own to troubleshoot.","newsletter-glue"),checked:p,onChange:h,disabled:S}),(0,e.createElement)(s.CheckboxControl,{label:(0,i.__)("Send basic diagnostic information to Newsletter Glue.","newsletter-glue"),checked:b,onChange:_,disabled:S}),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),(0,e.createElement)(s.Flex,{gap:6},(0,e.createElement)(s.FlexItem,null,(0,e.createElement)(s.Button,{variant:"primary",className:"ngl-big-button",onClick:function(){P(!0),I("Creating admin account..."),C(""),o()({path:"newsletterglue/"+nglue_backend.api_version+"/create_support_admin",method:"post",data:{manage_plugins:m,manage_esp:p,send_diagnose:b}}).then((e=>{e.error&&C(e.error),P(!1),B(!0),I("Admin account created!"),setTimeout((()=>{I("Create admin account"),B(!1)}),3e3)}))},isBusy:T,disabled:z||T},A)),(0,e.createElement)(s.FlexBlock,null,x&&(0,e.createElement)(s.Notice,{status:"accerror",isDismissible:!1,className:"ngl-notice-err"},x))),(0,e.createElement)(s.__experimentalSpacer,{marginBottom:0,paddingBottom:4}),(0,e.createElement)(s.__experimentalText,{isBlock:!0,lineHeight:1.8,size:14,variant:"muted"},"Delete this admin account at anytime by heading to ",(0,e.createElement)("a",{href:nglue_backend.users_url},"Users"),"."))))))}),null),ro);const so=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 211.922 134.177"},(0,e.createElement)("g",{id:"Group_63","data-name":"Group 63",transform:"translate(-1082.929 -302.541)"},(0,e.createElement)("g",{id:"Group_47","data-name":"Group 47",transform:"translate(1082.929 302.541)"},(0,e.createElement)("path",{id:"Path_29","data-name":"Path 29",d:"M77.521,85.8l2.314-1.114a85.37,85.37,0,0,1-9.487-39.991q0-16.93,8.392-28.752C84.335,8.057,88.94,3.013,100.775.672s23.1,1.866,25.3,5.9-8.225,4.43-14.819,13.69S104.438,30.342,100.775,39.8c-2.4,7.682-3.429,10.641-4.414,20.811-.463,10.07.888,16.012,3.18,26.4,2.524,10.139,4.62,14.546,7.734,19.12a45.629,45.629,0,0,1-11.822,5.838,50.072,50.072,0,0,1-13.938,1.605,32.83,32.83,0,0,1-26.855-13.354,55.822,55.822,0,0,1-7.516-14.96q-5.4-15.617-6.568-39.7H38.239q-6.714,30.358-6.714,42.472t4.379,19.12q-8.757,6.568-18.244,6.568T4.087,108.253Q0,102.78,0,91.906c0-7.249,8.542-56.349,9.195-61.664S1.46,14.625,1.46,14.625Q17.806,4.117,30.65,4.117T50.061,8.568a23.391,23.391,0,0,1,9.195,13.063A111.235,111.235,0,0,1,63.124,39.8q1.241,9.56,4.379,22.987C69.594,71.741,73.727,78.6,77.521,85.8Z",transform:"translate(0 0)"})),(0,e.createElement)("g",{id:"Group_46","data-name":"Group 46",transform:"matrix(0.999, -0.035, 0.035, 0.999, 1192.293, 306.755)"},(0,e.createElement)("path",{id:"Path_29-2","data-name":"Path 29",d:"M66.846,77.792,59.4,62.467Q75.019,52.1,87.571,52.1q10.509,0,10.508,11.822,0,3.357-4.014,20.506t-4.014,26.2q0,9.049,3.941,13.428a28.5,28.5,0,0,1-17.076,5.984q-8.9,0-12.625-5.838T60.57,107.128a57.236,57.236,0,0,1-16.347,2.335q-19.849,0-32.036-12.26T0,61.008a54.137,54.137,0,0,1,4.379-20.8,69.555,69.555,0,0,1,12.406-19.63A60.369,60.369,0,0,1,37.728,5.765,64.866,64.866,0,0,1,64.437,0q13.792,0,21.6,5.108a16.044,16.044,0,0,1,7.808,14.157q0,9.049-5.911,14.084a20.233,20.233,0,0,1-13.5,5.035A28.164,28.164,0,0,1,60.789,35.1a25.039,25.039,0,0,1-9.706-9.414Q43.2,29.482,37.509,40.574a50.179,50.179,0,0,0-5.692,23.206q0,12.114,4.743,18.171a14.532,14.532,0,0,0,11.9,6.057Q58.818,88.009,66.846,77.792Z",transform:"translate(0 0)"}))));class co extends e.Component{constructor(e){super(e),this.openModal=this.openModal.bind(this),this.closeModal=this.closeModal.bind(this),this.state={isOpen:!1}}openModal(){this.setState({isOpen:!0})}closeModal(){this.setState({isOpen:!1})}render(){return(0,e.createElement)(e.Fragment,null,this.state.isOpen&&(0,e.createElement)(s.Modal,{title:!1,isFullScreen:!0,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,isDismissible:!0,onRequestClose:this.closeModal,__experimentalHideHeader:!0,className:"ngl-template-styles-block"},(0,e.createElement)(y,{scope:"single",toggleModal:this.closeModal})),!this.state.isOpen&&(0,e.createElement)(s.Button,{variant:"none",onClick:this.openModal,icon:so,iconSize:20,className:"ngl-launch-template-styles"},"Template style"))}}var uo=document.getElementById("ngl-template-styles");uo&&(0,r.s)(uo).render((0,e.createElement)(co,null));class mo extends e.Component{constructor(e){super(e),this.changeState=this.changeState.bind(this),this.changeOptions=this.changeOptions.bind(this),this.startWizard=this.startWizard.bind(this),this.navStep=this.navStep.bind(this);const t={completedSteps:0,successRedirect:nglue_backend.template_page,isAPILoaded:!1,isSaving:!1,currentIndex:1,showPatternWelcome:!0,isOnboarding:!1};bl.map((function(e){t[e]=""})),this.state=t}componentDidMount(){o()({path:"newsletterglue/"+nglue_backend.api_version+"/pattern_settings",method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{const t=[];t.isAPILoaded=!0,bl.map((function(n){t[n]=e[n]})),this.setState(t)}))}changeState(e){this.setState(e)}startWizard(){this.setState({isSaving:!1,currentIndex:1,completedSteps:0})}changeOptions(){var e=1;1==this.state.currentIndex&&(e=2),2==this.state.currentIndex&&(e=3),3==this.state.currentIndex&&(e=4),this.setState({currentIndex:e,completedSteps:e});const t={};bl.map((e=>{t[e]=this.state[e]})),o()({path:"newsletterglue/"+nglue_backend.api_version+"/pattern_settings",method:"post",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key},data:t}).then((()=>{}))}navStep(e){this.state.completedSteps<e||this.state.isSaving||this.setState({currentIndex:e,isSaving:!1})}render(){var t=this.state.currentIndex,n=this.state.completedSteps;return this.state.isAPILoaded?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ngl-wizard-steps"},(0,e.createElement)("ul",{className:"ngl-steps ngl-steps-3"},(0,e.createElement)("li",{className:(1==t?"progress":t>1&&"active")||n>=1&&"active"||void 0,"data-step":1,onClick:()=>this.navStep(1)},"Personalisation"),(0,e.createElement)("li",{className:(2==t?"progress":t>=2&&"active")||n>=3&&"active"||void 0,"data-step":2,onClick:()=>this.navStep(2)},"Brand"),(0,e.createElement)("li",{className:(3==t?"progress":t>=3&&"active")||n>=3&&"active"||void 0,"data-step":3,onClick:()=>this.navStep(3)},"Social accounts")),(0,e.createElement)("div",{style:{clear:"both"}})),(0,e.createElement)("div",{className:"ngl-wizard"},1==t&&(0,e.createElement)(hl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions})),2==t&&(0,e.createElement)(pl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions})),3==t&&(0,e.createElement)(fl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions})),4==t&&(0,e.createElement)(gl,E({},this,{changeState:this.changeState,changeOptions:this.changeOptions}))),(0,e.createElement)("div",{className:"ngl-wizard-links"},!this.state.isSaving&&(0,e.createElement)("a",{href:nglue_backend.template_page},(0,i.__)("Skip onboarding","newsletter-glue")))):(0,e.createElement)(k,null)}}var go=document.getElementById("nglue-template-wizard");go&&(0,r.s)(go).render((0,e.createElement)(mo,null));class po extends e.Component{constructor(e){super(e),this.openModal=this.openModal.bind(this),this.closeModal=this.closeModal.bind(this),this.state={isOpen:!1,searchQuery:"",filters:nglue_backend.template_categories,catID:0,catName:"",searchCount:0,apiFetched:!1,isSearching:!0,results:"",previews:""}}openModal(){this.setState({isOpen:!0})}closeModal(){this.setState({isOpen:!1})}componentDidUpdate(){const{isOpen:e,catID:t,searchQuery:n,isSearching:l}=this.state;e&&l&&o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_templates?category_id="+t+"&query="+n,method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{this.setState({isSearching:!1,apiFetched:!0,results:e.results,searchCount:e.count,previews:e.previews})}))}render(){const{isOpen:t,searchQuery:n,filters:l,catID:a,searchCount:o,apiFetched:r,isSearching:c,results:u,catName:d}=this.state;var m=[];for(var g in l){var p=l[g];m.push((0,e.createElement)(s.MenuItem,{key:`nglue-filter-${p.id}`,isPressed:a==p.id,"data-category":p.id,"data-name":p.name,onClick:e=>{var t=e.target;if(t.getAttribute("data-category")||(t=e.target.parentNode).getAttribute("data-category")||(t=e.target.parentNode.parentNode),"false"==t.getAttribute("aria-pressed")){var n=t.getAttribute("data-category"),l=t.getAttribute("data-name");this.setState({catID:n,catName:l,isSearching:!0})}}},p.name,(0,e.createElement)("span",null,p.count)))}var h=[];return!r||c?(h.push((0,e.createElement)("div",{key:"ngl-placeholder-1"},(0,e.createElement)("div",{className:"ngl-template-placeholder-2",style:{width:"50%"}}))),h.push((0,e.createElement)("div",{key:"ngl-placeholder-2"},(0,e.createElement)("div",{className:"ngl-template-placeholder-2",style:{width:"40%"}}))),h.push((0,e.createElement)("div",{key:"ngl-placeholder-3"},(0,e.createElement)("div",{className:"ngl-template-placeholder-2",style:{width:"30%"}})))):u&&u.map(((t,n)=>{h.push((0,e.createElement)("div",{key:`ngl-placeholder-${n}`,className:"ngl-template-result","data-url":nglue_backend.newsletter_url+"&template_id="+t.ID,onClick:e=>{window.location.href=e.target.closest(".ngl-template-result").getAttribute("data-url")}},(0,e.createElement)("div",{className:"ngl-template-placeholder-2"},t.post_title,nglue_backend.default_template==t.ID&&(0,e.createElement)("span",null,(0,i.__)("Default","newsletter-glue")))))})),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"page-title-action",onClick:this.openModal},(0,i.__)("Select template","newsletter-glue")),t&&(0,e.createElement)(s.Modal,{title:(0,i.__)("Template Library","newsletter-glue"),onRequestClose:this.closeModal,isFullScreen:!1,shouldCloseOnEsc:!1,className:"ngl-template-inserter-block",size:"large"},(0,e.createElement)("div",{className:"ngl-template-inserter"+(n?" is-searching":"")},(0,e.createElement)("div",{className:"ngl-template__sidebar"},(0,e.createElement)("div",{className:"ngl-template__sidebar__search"},(0,e.createElement)(s.SearchControl,{value:n,onChange:e=>{this.setState({searchQuery:e,isSearching:!0})}})),(0,e.createElement)(s.MenuGroup,{label:(0,i.__)("Browse by category","newsletter-glue"),className:"ngl-template__sidebar__category"},m)),(0,e.createElement)("div",{className:"ngl-template__content"},n&&!c&&(0,e.createElement)("div",{className:"ngl-template__content-header"},(0,e.createElement)("div",{className:"search-results"},`${o} search result${1==o?"":"s"} for "${n}"${a?" in "+d:""}`)),(0,e.createElement)("div",{className:"ngl-template__content-grid"},(0,e.createElement)("div",{className:"ngl-template__list"},h))))))}}var ho=document.getElementById("ngl_template");ho&&(0,r.s)(ho).render((0,e.createElement)(po,null));var bo=window.wp.blocks;const _o=nglue_backend.theme_r,fo=nglue_backend.theme_m,vo={background:_o.container_bg,font:_o.defaultFont,color:_o.p_colour,lineheight:_o.defaultLineHeight,fontweight:_o.defaultFontWeight,innerpadding:{top:"0px",bottom:"0px",left:"0px",right:"0px"},colors:{primary:_o.a_colour,h3:_o.h3_colour,btn_colour:_o.btn_colour,btn_bg:_o.btn_bg},optin:{padding:{top:"20px",left:"20px",right:"20px",bottom:"20px"},margin:{top:"0px",left:"0px",right:"0px",bottom:"0px"},fontsize_heading:"24px",fontsize_desc:"16px",fontsize_label:"14px",fontsize_input:"14px",fontsize_text:"16px",fontsize_checkbox:"16px",fontsize_button:"16px",fontsize_success:"16px"},posts:{padding:{top:"10px",left:"20px",right:"20px",bottom:"10px"},margin:{top:"0px",left:"0px",right:"0px",bottom:"0px"},fontsize_title:"24px",fontsize_text:"16px",fontsize_label:"13px",fontsize_author:"14px",fontsize_button:"14px"},separator:{padding:{top:"20px",left:"20px",right:"20px",bottom:"20px"},width:"560px",height:"1px"},spacer:{height:_o.defaultSpacerHeight},block:{padding:_o.defaultPadding,fontsize:_o.p_size},share:{padding:{top:"20px",bottom:"20px",left:"20px",right:"20px"},fontsize:_o.p_size},meta:{fontsize:"12px",padding:{top:"20px",bottom:"20px",left:"20px",right:"20px"}},author:{fontsize:"14px",padding:{top:"20px",bottom:"20px",left:"20px",right:"20px"}},container:{padding:{top:"20px",bottom:"20px",left:"0px",right:"0px"},margin:{top:"0px",bottom:"0px",left:"0px",right:"0px"},fontsize:_o.p_size,lineheight:_o.defaultLineHeight,fontweight:_o.defaultFontWeight},embed:{padding:{top:"0px",bottom:"0px",left:"0px",right:"0px"},margin:{top:"60px",bottom:"60px",left:"60px",right:"60px"}},table:{fontsize:_o.p_size,lineheight:_o.defaultLineHeight,margin:{top:"20px",bottom:"20px",left:"20px",right:"20px"},padding:{top:"10px",bottom:"10px",left:"10px",right:"10px"}},columns:{padding:_o.columnsPadding},column:{padding:_o.columnPadding},quote:{fontsize:_o.defaultQuoteSize,border:_o.a_colour,padding:_o.quotePadding,lineheight:1.6},list:{padding:_o.defaultListPadding,main_padding:_o.defaultMainListPadding,spacing:"0px"},image:{padding:_o.defaultImagePadding,fontsize:"14px",fontweight:_o.defaultFontWeight},headings:{padding:_o.defaultHeadingPadding,fontweight:_o.defaultFontWeightH,h1:{color:_o.h1_colour,font:_o.defaultFonth1,fontsize:_o.h1_size,padding:_o.h1_padding,lineheight:1.2},h2:{color:_o.h2_colour,font:_o.defaultFonth2,fontsize:_o.h2_size,padding:_o.h2_padding,lineheight:1.2},h3:{color:_o.h3_colour,font:_o.defaultFonth3,fontsize:_o.h3_size,padding:_o.h3_padding,lineheight:1.2},h4:{color:_o.h4_colour,font:_o.defaultFonth4,fontsize:_o.h4_size,padding:_o.h4_padding,lineheight:1.4},h5:{color:_o.h5_colour,font:_o.defaultFonth4,fontsize:_o.h5_size,padding:_o.h5_padding,lineheight:1.4},h6:{color:_o.h6_colour,font:_o.defaultFonth6,fontsize:_o.h6_size,padding:_o.h6_padding,lineheight:1.4}},buttons:{spacing:"20px",padding:_o.buttonPadding},button:{padding:_o.singleButtonPadding,width:_o.btn_width,color:_o.btn_colour,radius:_o.btn_radius,bg:_o.btn_bg,lineheight:1.5},mobile:{posts:{padding:{top:"10px",left:"10px",right:"10px",bottom:"10px"},margin:{top:"0px",left:"0px",right:"0px",bottom:"0px"},fontsize_title:"18px",fontsize_text:"15px",fontsize_label:"11px",fontsize_author:"13px",fontsize_button:"13px"},meta:{fontsize:"12px",padding:{top:"10px",bottom:"10px",left:"10px",right:"10px"},lineheight:1.5},optin:{padding:{top:"20px",left:"20px",right:"20px",bottom:"20px"},margin:{top:"0px",left:"0px",right:"0px",bottom:"0px"},fontsize_heading:"18px",fontsize_desc:"14px",fontsize_label:"13px",fontsize_input:"13px",fontsize_text:"13px",fontsize_checkbox:"13px",fontsize_button:"13px",fontsize_success:"14px"},author:{fontsize:"13px",padding:{top:"10px",bottom:"10px",left:"10px",right:"10px"},lineheight:1.5},table:{fontsize:fo.p_size,lineheight:1.5,margin:{top:"10px",bottom:"10px",left:"10px",right:"10px"},padding:{top:"5px",bottom:"5px",left:"5px",right:"5px"}},separator:{padding:{top:"15px",left:"15px",right:"15px",bottom:"15px"},width:"300px",height:"1px"},spacer:{height:_o.defaultSpacerHeight},columns:{padding:_o.mobilecolumnsPadding},column:{padding:_o.mobilecolumnPadding},paragraph:{fontsize:fo.p_size,lineheight:1.5,padding:_o.mobile_p_padding},container:{padding:{top:"20px",bottom:"20px",left:"0px",right:"0px"},margin:{top:"0px",bottom:"0px",left:"0px",right:"0px"},fontsize:fo.p_size,lineheight:1.5},embed:{fontsize:fo.p_size,lineheight:1.5,padding:{top:"0px",bottom:"0px",left:"0px",right:"0px"},margin:{top:"10px",bottom:"10px",left:"10px",right:"10px"}},share:{padding:{top:"10px",bottom:"10px",left:"10px",right:"10px"},fontsize:14,lineheight:1.5},buttons:{spacing:"20px",padding:_o.buttonPadding},button:{fontsize:fo.p_size,lineheight:1.5,padding:_o.singleButtonPadding},quote:{fontsize:_o.MobileQuoteSize,citesize:fo.MobileQuoteCiteSize,lineheight:1.6,padding:_o.MobileQuotePadding},list:{fontsize:fo.p_size,lineheight:1.5,padding:_o.mobile_list_padding,main_padding:_o.mobile_main_list_padding,spacing:"0px"},image:{padding:_o.defaultImagePadding,fontsize:"12px",fontweight:_o.defaultFontWeight},headings:{h1:{fontsize:fo.h1_size,lineheight:1.1,padding:_o.mobile_h1_padding},h2:{fontsize:fo.h2_size,lineheight:1.1,padding:_o.mobile_h2_padding},h3:{fontsize:fo.h3_size,lineheight:1.2,padding:_o.mobile_h3_padding},h4:{fontsize:fo.h4_size,lineheight:1.2,padding:_o.mobile_h4_padding},h5:{fontsize:fo.h5_size,lineheight:1.2,padding:_o.mobile_h5_padding},h6:{fontsize:fo.h6_size,lineheight:1.2,padding:_o.mobile_h6_padding}}}};let yo={textAlign:{type:"string",default:"center"},text:{type:"string",source:"html",selector:"a",default:"",role:"content"},url:{type:"string",source:"attribute",selector:"a",attribute:"href",role:"content"},title:{type:"string",source:"attribute",selector:"a",attribute:"title",role:"content"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel",role:"content"},linkTarget:{type:"string",source:"attribute",selector:"a",attribute:"target",role:"content"},placeholder:{type:"string"},width:{type:"string",default:"relative"},custom_width:{type:"string"},padding:{type:"object",default:vo.button.padding},background:{type:"string"},color:{type:"string"},border:{type:"string"},buttonstyle:{type:"string",default:"filled"},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.block.fontsize},lineheight:{type:"number",default:vo.button.lineheight},fontweight:{type:"object",default:vo.fontweight},borderSize:{type:"string"},radius:{type:"string",default:vo.button.radius},viewport:{type:"string",default:"Desktop"}};vo.mobile.button&&(yo.mobile_fontsize={type:"string",default:vo.mobile.button.fontsize},yo.mobile_lineheight={type:"number",default:vo.mobile.button.lineheight},yo.mobile_padding={type:"object",default:vo.mobile.button.padding},yo.mobile_width={type:"string"},yo.mobile_custom_width={type:"string"});const wo=yo;var Eo=n(184),ko=n.n(Eo),xo=window.wp.compose,Co=window.wp.data,So=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})),No=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})),zo=window.wp.keycodes,Bo=window.wp.url;const To=t=>{const{colors:n,attributes:l,setAttributes:a}=t;return(0,e.createElement)("div",{className:"color-block-support-panel__inner-wrapper"},n.map((function(t,n){var o=t.default?t.default:void 0;return t.label?(0,e.createElement)(s.__experimentalToolsPanelItem,{hasValue:()=>l[t.value]!=o,label:t.label,onDeselect:()=>a({[t.value]:o}),isShownByDefault:!0,className:`block-editor-tools-panel-color-gradient-settings__item ${0==n&&"first"}`,key:`panelItem-${n}`},(0,e.createElement)(s.Dropdown,{className:"block-editor-tools-panel-color-gradient-settings__dropdown",contentClassName:"my-popover-content-classname",popoverProps:{placement:"left-start",offset:36},renderToggle:n=>{let{isOpen:a,onToggle:o}=n;return(0,e.createElement)(s.Button,{onClick:o,"aria-expanded":a,className:a?"block-editor-panel-color-gradient-settings__dropdown is-open":"block-editor-panel-color-gradient-settings__dropdown"},(0,e.createElement)(s.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(s.ColorIndicator,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:l[t.value]}),(0,e.createElement)(s.FlexItem,null,t.label)))},renderContent:()=>(0,e.createElement)("div",{className:"components-dropdown-content-wrapper"},(0,e.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},(0,e.createElement)(s.ColorPicker,{color:l[t.value]?l[t.value]:"",onChange:e=>a({[t.value]:e})}),l[t.value]&&(0,e.createElement)(s.Button,{variant:"link",className:"ng-clear-color",onClick:()=>{t.required?a({[t.value]:""}):a({[t.value]:void 0})}},(0,i.__)("Clear","newsletter-glue"))))})):null})))};var Po=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ao=Re((function(e){return Po.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Io=function(e){return"theme"!==e},Ro=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Ao:Io},Mo=function(e,t,n){var l;if(t){var a=t.shouldForwardProp;l=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!=typeof l&&n&&(l=e.__emotion_forwardProp),l},Lo=function(e){var t=e.cache,n=e.serialized,l=e.isStringTag;return Te(t,n,l),Ge((function(){return Pe(t,n,l)})),null},Fo=function e(n,l){var a,o,i=n.__emotion_real===n,r=i&&n.__emotion_base||n;void 0!==l&&(a=l.label,o=l.target);var s=Mo(n,l,i),c=s||Ro(r),u=!c("as");return function(){var d=arguments,m=i&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==a&&m.push("label:"+a+";"),null==d[0]||void 0===d[0].raw)m.push.apply(m,d);else{m.push(d[0][0]);for(var g=d.length,p=1;p<g;p++)m.push(d[p],d[0][p])}var h=Ze((function(e,n,l){var a=u&&e.as||r,i="",d=[],g=e;if(null==e.theme){for(var p in g={},e)g[p]=e[p];g.theme=(0,t.useContext)(Ke)}"string"==typeof e.className?i=Be(n.registered,d,e.className):null!=e.className&&(i=e.className+" ");var h=We(m.concat(d),n.registered,g);i+=n.key+"-"+h.name,void 0!==o&&(i+=" "+o);var b=u&&void 0===s?Ro(a):c,_={};for(var f in e)u&&"as"===f||b(f)&&(_[f]=e[f]);return _.className=i,_.ref=l,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Lo,{cache:n,serialized:h,isStringTag:"string"==typeof a}),(0,t.createElement)(a,_))}));return h.displayName=void 0!==a?a:"Styled("+("string"==typeof r?r:r.displayName||r.name||"Component")+")",h.defaultProps=n.defaultProps,h.__emotion_real=h,h.__emotion_base=r,h.__emotion_styles=m,h.__emotion_forwardProp=s,Object.defineProperty(h,"toString",{value:function(){return"."+o}}),h.withComponent=function(t,n){return e(t,E({},l,n,{shouldForwardProp:Mo(h,n,!0)})).apply(void 0,m)},h}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Fo[e]=Fo(e)}));const Oo=[{value:"px",label:"px",default:0}],Ho=[{key:"normal",name:"Regular",style:{fontWeight:"normal"}},{key:500,name:"Medium",style:{fontWeight:500}},{key:600,name:"Semibold",style:{fontWeight:600}},{key:"bold",name:"Bold",style:{fontWeight:"bold"}}],Vo=[{key:"normal",name:"Regular",style:{fontWeight:"normal"}},{key:"bold",name:"Bold",style:{fontWeight:"bold"}}],Do=Fo(s.__experimentalToolsPanelItem)`
  grid-column: span 1;
`,jo=t=>{const{settings:n,attributes:l,setAttributes:a}=t;return(0,e.createElement)(e.Fragment,null,n.map((function(t,n){var o=t.is_single?Do:s.__experimentalToolsPanelItem,i=t.default?t.default:void 0;"customselect"===t.type&&"fontweight"===t.value&&(l.level?l[`h${l.level}_font`].key&&["inter"].includes(l[`h${l.level}_font`].key)&&(t.options=Ho):l.font&&l.font.key&&["inter"].includes(l.font.key)&&(t.options=Ho));const r=!(!t.noHorizontal||!t.noHorizontal);return(0,e.createElement)(o,{hasValue:()=>l[t.value]!=i,label:t.label,isShownByDefault:!0,key:`settingItem-${n}`},"section"===t.type&&(0,e.createElement)($o,{label:t.label}),"select"===t.type&&(0,e.createElement)(s.SelectControl,{label:t.label,value:l[t.value],options:t.options,onChange:e=>a({[t.value]:e})}),"customselect"===t.type&&(0,e.createElement)(s.CustomSelectControl,{label:t.label,options:t.options,onChange:e=>{let{selectedItem:n}=e;return a({[t.value]:n})},value:t.options.find((e=>e.key===l[t.value].key))}),"unit"===t.type&&(0,e.createElement)(s.__experimentalUnitControl,{label:t.label,value:l[t.value],onChange:e=>{a({[t.value]:e})},units:Oo}),"number"===t.type&&(0,e.createElement)(s.__experimentalNumberControl,{label:t.label,onChange:e=>a({[t.value]:parseFloat(e)}),step:t.step?t.step:"any",value:l[t.value],spinControls:"custom",min:0}),"boxcontrol"===t.type&&(0,e.createElement)(s.__experimentalBoxControl,{label:t.label,values:l[t.value],onChange:e=>a({[t.value]:e}),units:Oo,allowReset:!1,sides:r?["top","bottom"]:["top","right","bottom","left"]}),"range"==t.type&&(0,e.createElement)(s.RangeControl,{onChange:e=>a({[t.value]:e}),value:l[t.value],min:10,max:100,allowReset:!1}))})))};function $o(t){return(0,e.createElement)("p",{style:{fontWeight:500,fontSize:"13px",margin:0}},t.label)}const Wo=[{key:"arial",name:"Arial",style:{fontFamily:"Arial"}},{key:"courier",name:"Courier",style:{fontFamily:"Courier"}},{key:"courier_new",name:"Courier New",style:{fontFamily:"Courier New"}},{key:"geneva",name:"Geneva",style:{fontFamily:"Geneva"}},{key:"georgia",name:"Georgia",style:{fontFamily:"Georgia"}},{key:"helvetica",name:"Helvetica",style:{fontFamily:"Helvetica"}},{key:"inter",name:"Inter",style:{fontFamily:"Inter"}},{key:"palatino",name:"Palatino",style:{fontFamily:"Palatino"}},{key:"tahoma",name:"Tahoma",style:{fontFamily:"Tahoma"}},{key:"times_new_roman",name:"Times New Roman",style:{fontFamily:"Times New Roman"}},{key:"trebuchet_ms",name:"Trebuchet MS",style:{fontFamily:"Trebuchet MS"}},{key:"verdana",name:"Verdana",style:{fontFamily:"Verdana"}}];function Uo(t){let{attributes:n,setAttributes:l}=t;const{deviceType:a}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),o="Mobile"===a;var r=n.mobile_width&&o?n.mobile_width:n.width,c=n.mobile_custom_width&&o?n.mobile_custom_width:n.custom_width;const u="Mobile"===a?"mobile_":"";return(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Width")},(0,e.createElement)(s.__experimentalToggleGroupControl,{value:r,onChange:e=>{l({[`${u}width`]:e})},isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"relative",label:(0,i.__)("Default")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"full",label:(0,i.__)("Full")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"custom",label:(0,i.__)("Custom")})),"custom"===r&&(0,e.createElement)("div",{className:"ngl-input-small"},(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Custom width"),value:c,onChange:e=>{l({[`${u}custom_width`]:e})},units:Oo,placeholder:vo.button.width})))}const Go=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.block.fontsize,type:"unit"},{value:"fontweight",label:"Font weight",default:vo.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:"Line height",default:vo.button.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"borderSize",label:"Border width",type:"unit",is_single:!0},{value:"radius",label:"Border radius",default:vo.button.radius,type:"unit",is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.button.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Uo,{attributes:n,setAttributes:l}),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,border:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"border",label:"Border"}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({font:vo.font,fontsize:vo.block.fontsize,fontweight:vo.fontweight,lineheight:vo.button.lineheight})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Border"),resetAll:()=>{l({borderSize:void 0,radius:vo.button.radius})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.button.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},qo=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_fontsize",label:"Font size",default:vo.mobile.button.fontsize,type:"unit"},{value:"mobile_lineheight",label:"Line height",default:vo.mobile.button.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.button.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Uo,{attributes:n,setAttributes:l}),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_lineheight:vo.mobile.button.lineheight,mobile_fontsize:vo.mobile.button.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.button.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},Yo="noopener noreferrer";function Zo(t){let{attributes:n,setAttributes:l}=t;return(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Style")},(0,e.createElement)(s.__experimentalToggleGroupControl,{value:n.buttonstyle,onChange:e=>l({buttonstyle:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"filled",label:(0,i.__)("Filled")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"outline",label:(0,i.__)("Outlined")})))}const Ko=(0,e.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{fill:"#0088A0",d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"}));let Qo=!0;nglue_backend.is_allowed_post_type||(Qo=!1),Qo&&(0,bo.registerBlockType)("newsletterglue/button",{apiVersion:2,title:(0,i.__)("Button","newsletter-glue"),category:"newsletterglue-blocks",icon:Ko,example:{attributes:{text:(0,i.__)("Call to Action")}},description:(0,i.__)("Add a button to your email.","newsletter-glue"),keywords:["newsletter","email","button"],attributes:wo,edit:function(t){const{attributes:n,setAttributes:l,className:a,isSelected:o,onReplace:r,mergeBlocks:c,clientId:u}=t,{textAlign:d,linkTarget:m,placeholder:g,rel:h,text:b,url:_}=n,[f,v]=(0,e.useState)(null),y=(0,e.useRef)(),w=(0,e.useRef)(),k=(0,p.useBlockProps)({ref:(0,xo.useMergeRefs)([v,y]),onKeyDown:function(e){zo.isKeyboardEvent.primary(e,"k")?z(e):zo.isKeyboardEvent.primaryShift(e,"k")&&(B(),w.current?.focus())}}),[x,C]=(0,e.useState)(!1),S=!!_,N="_blank"===m;function z(e){e.preventDefault(),C(!0)}function B(){l({url:void 0,linkTarget:void 0,rel:void 0}),C(!1)}(0,e.useEffect)((()=>{o||C(!1)}),[o]);const{deviceType:T}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),P="Mobile"===T;let A,I;A="custom"===n.width?n.custom_width?n.custom_width:vo.button.width+"px":"auto","full"===n.width&&(A="100%"),P&&n.mobile_custom_width&&(I=n.mobile_custom_width?n.mobile_custom_width:A),I||(I="100%");const R="filled"===n.buttonstyle?vo.button.bg:"#ffffff",M="filled"===n.buttonstyle?vo.button.color:vo.button.bg,L="filled"===n.buttonstyle?n.background?n.background:R:n.color?n.color:M;let F=n.radius?n.radius:"0px";F=parseInt(F)+"px";const O={fontFamily:nglue_backend.font_names[n.font.key],fontSize:P?n.mobile_fontsize:n.fontsize,lineHeight:P?n.mobile_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:P?n.mobile_padding.top:n.padding.top,paddingBottom:P?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:P?n.mobile_padding.left:n.padding.left,paddingRight:P?n.mobile_padding.right:n.padding.right,textAlign:n.textAlign?n.textAlign:"center",width:P&&I?I:A,backgroundColor:n.background?n.background:R,color:n.color?n.color:M,borderWidth:n.borderSize?n.borderSize:"2px",borderStyle:"solid",borderColor:n.border?n.border:L,borderRadius:F,boxSizing:"border-box"};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",E({},k,{className:ko()(k.className,{}),style:{flexBasis:A}}),(0,e.createElement)(p.RichText,{ref:w,"aria-label":(0,i.__)("Button text"),placeholder:g||(0,i.__)("Add text…"),value:b,onChange:e=>{l({text:e.replace(/<\/?a[^>]*>/g,"")})},withoutInteractiveFormatting:!0,className:ko()(a,"ng-block-button__link"),style:O,onSplit:e=>(0,bo.createBlock)("newsletterglue/button",{...n,text:e}),onReplace:r,onMerge:c,identifier:"text"})),(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:d,onChange:e=>{l({textAlign:e})}}),!S&&(0,e.createElement)(s.ToolbarButton,{name:"link",icon:So,title:(0,i.__)("Link"),shortcut:zo.displayShortcut.primary("k"),onClick:z}),S&&(0,e.createElement)(s.ToolbarButton,{name:"link",icon:No,title:(0,i.__)("Unlink"),shortcut:zo.displayShortcut.primaryShift("k"),onClick:B,isActive:!0})),o&&(x||S)&&(0,e.createElement)(s.Popover,{placement:"bottom",onClose:()=>{C(!1),w.current?.focus()},anchor:f,focusOnMount:!!x&&"firstElement",__unstableSlotName:"__unstable-block-tools-after",shift:!0},(0,e.createElement)(p.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:_,opensInNewTab:N},onChange:e=>{let{url:t="",opensInNewTab:n}=e;l({url:(0,Bo.prependHTTP)(t)}),N!==n&&function(e){const t=e?"_blank":void 0;let n=h;t&&!h?n=Yo:t||h!==Yo||(n=void 0),l({linkTarget:t,rel:n})}(n)},onRemove:()=>{B(),w.current?.focus()},forceIsEditingLink:x})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==T&&(0,e.createElement)(Zo,{attributes:n,setAttributes:l}),"Mobile"!==T&&(0,e.createElement)(Go,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:u}),"Mobile"===T&&(0,e.createElement)(qo,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:u})),(0,e.createElement)(p.InspectorControls,{group:"advanced"},(0,e.createElement)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Link rel"),value:h||"",onChange:e=>l({rel:e})})))},save:function(t){let{attributes:n,className:l}=t;const{linkTarget:a,rel:o,text:i,title:r,url:s}=n;if(!i)return null;const c=ko()("ng-block-button__link");let u;u="custom"===n.width?n.custom_width?n.custom_width:vo.button.width+"px":"auto","full"===n.width&&(u="100%");const d="filled"===n.buttonstyle?vo.button.bg:"#ffffff",m="filled"===n.buttonstyle?vo.button.color:vo.button.bg,g="filled"===n.buttonstyle?n.background?n.background:d:n.color?n.color:m;let h=n.radius?n.radius:"0px";h=parseInt(h)+"px";const b={fontFamily:nglue_backend.font_names[n.font.key],fontSize:n.fontsize,lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.textAlign?n.textAlign:"center",width:u,backgroundColor:n.background?n.background:d,color:n.color?n.color:m,borderWidth:n.borderSize?n.borderSize:"2px",borderStyle:"solid",borderColor:n.border?n.border:g,borderRadius:h,boxSizing:"border-box"},_=ko()(l,{});return(0,e.createElement)("div",E({},p.useBlockProps.save({className:_}),{style:{flexBasis:u}}),(0,e.createElement)(p.RichText.Content,{tagName:"a",className:c,href:s,title:r,style:b,value:i,target:a,rel:o}))},merge:(e,t)=>{let{text:n=""}=t;return{...e,text:(e.text||"")+n}},supports:{reusable:!1,align:!1,__experimentalSelector:".wp-block-button .wp-block-button__link"},parent:["newsletterglue/buttons"]});let Xo={spacing:{type:"string",default:vo.buttons.spacing},padding:{type:"object",default:vo.buttons.padding},justify:{type:"string",default:"left"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.buttons&&(Xo.mobile_padding={type:"object",default:vo.mobile.buttons.padding},Xo.mobile_spacing={type:"string",default:vo.mobile.buttons.spacing},Xo.mobile_justify={type:"string"});const Jo=Xo;var ei=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"})),ti=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z"})),ni=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"})),li=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M9 15h6V9H9v6zm-5 5h1.5V4H4v16zM18.5 4v16H20V4h-1.5z"}));const ai=t=>{const{attributes:n,setAttributes:l}=t,{deviceType:a}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]);let o;return o="Mobile"!==a?n.justify:n.mobile_justify?n.mobile_justify:n.justify,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Justification"),value:o,onChange:e=>{l({["Mobile"!==a?"justify":"mobile_justify"]:e})}},(0,e.createElement)(s.__experimentalToggleGroupControlOptionIcon,{value:"left",icon:ei,label:(0,i.__)("Justify items left")}),(0,e.createElement)(s.__experimentalToggleGroupControlOptionIcon,{value:"center",icon:ti,label:(0,i.__)("Justify items center")}),(0,e.createElement)(s.__experimentalToggleGroupControlOptionIcon,{value:"right",icon:ni,label:(0,i.__)("Justify items right")}),(0,e.createElement)(s.__experimentalToggleGroupControlOptionIcon,{value:"space-between",icon:li,label:(0,i.__)("Space between items")}))},oi=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"padding",label:"Padding",default:vo.buttons.padding,type:"boxcontrol"},{value:"spacing",label:"Button spacing",default:vo.buttons.spacing,type:"unit",is_single:!0}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Layout")},(0,e.createElement)(ai,t)),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.buttons.padding,spacing:vo.buttons.spacing})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},ii=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_padding",label:"Padding",default:vo.mobile.buttons.padding,type:"boxcontrol"},{value:"mobile_spacing",label:"Button spacing",default:vo.mobile.buttons.spacing,type:"unit",is_single:!0}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Layout")},(0,e.createElement)(ai,t)),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.buttons.padding,spacing:vo.buttons.spacing})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},ri="newsletterglue/button",si=[ri],ci={name:ri,attributesToCopy:["backgroundColor","border","className","fontFamily","fontSize","gradient","style","textColor","width"]};const ui=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M14.5 17.5H9.5V16H14.5V17.5Z M14.5 8H9.5V6.5H14.5V8Z M7 3.5H17C18.1046 3.5 19 4.39543 19 5.5V9C19 10.1046 18.1046 11 17 11H7C5.89543 11 5 10.1046 5 9V5.5C5 4.39543 5.89543 3.5 7 3.5ZM17 5H7C6.72386 5 6.5 5.22386 6.5 5.5V9C6.5 9.27614 6.72386 9.5 7 9.5H17C17.2761 9.5 17.5 9.27614 17.5 9V5.5C17.5 5.22386 17.2761 5 17 5Z M7 13H17C18.1046 13 19 13.8954 19 15V18.5C19 19.6046 18.1046 20.5 17 20.5H7C5.89543 20.5 5 19.6046 5 18.5V15C5 13.8954 5.89543 13 7 13ZM17 14.5H7C6.72386 14.5 6.5 14.7239 6.5 15V18.5C6.5 18.7761 6.72386 19 7 19H17C17.2761 19 17.5 18.7761 17.5 18.5V15C17.5 14.7239 17.2761 14.5 17 14.5Z"}));var di=window.wp.richText;const mi="newsletterglue/buttons",gi={from:[{type:"block",isMultiBlock:!0,blocks:["newsletterglue/button"],transform:e=>(0,bo.createBlock)(mi,{},e.map((e=>(0,bo.createBlock)("newsletterglue/button",e))))},{type:"block",isMultiBlock:!0,blocks:["newsletterglue/text"],transform:e=>(0,bo.createBlock)(mi,{},e.map((e=>{const t=(0,di.__unstableCreateElement)(document,e.content),n=t.innerText||"",l=t.querySelector("a")?.getAttribute("href");return(0,bo.createBlock)("newsletterglue/button",{text:n,url:l})}))),isMatch:e=>e.every((e=>{const t=(0,di.__unstableCreateElement)(document,e.content),n=t.innerText||"",l=t.querySelectorAll("a");return n.length<=30&&l.length<=1}))}]};var pi=gi;let hi=!0;nglue_backend.is_allowed_post_type||(hi=!1),hi&&(0,bo.registerBlockType)("newsletterglue/buttons",{apiVersion:2,title:(0,i.__)("Buttons","newsletter-glue"),category:"newsletterglue-blocks",icon:ui,example:{innerBlocks:[{name:"newsletterglue/button",attributes:{text:(0,i.__)("Find out more")}},{name:"newsletterglue/button",attributes:{text:(0,i.__)("Contact us")}}]},description:(0,i.__)("Add buttons to your email.","newsletter-glue"),keywords:["newsletter","email","buttons"],attributes:Jo,edit:function(t){let{attributes:n,setAttributes:l,clientId:a,className:o,isSelected:i}=t;const{deviceType:r}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),s="Mobile"===r;let c;c=n.justify?n.justify:"left",s&&n.mobile_justify&&(c=n.mobile_justify);const u=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.JustifyToolbar,{value:s&&n.mobile_justify?n.mobile_justify:n.justify,onChange:e=>{l({[s?"mobile_justify":"justify"]:e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==r&&(0,e.createElement)(oi,{attributes:n,setAttributes:l,className:o,isSelected:i,clientId:a}),"Mobile"===r&&(0,e.createElement)(ii,{attributes:n,setAttributes:l,className:o,isSelected:i,clientId:a}))),d=n.spacing?n.spacing:"20px",m=(0,p.useBlockProps)({style:{gap:d,justifyContent:c}}),g=(0,p.useInnerBlocksProps)(m,{allowedBlocks:si,defaultBlock:ci,directInsert:!0,template:[[ri,{className:""}]],templateInsertUpdatesSelection:!0,orientation:"horizontal"}),h={paddingTop:s?n.mobile_padding.top:n.padding.top,paddingBottom:s?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:s?n.mobile_padding.left:n.padding.left,paddingRight:s?n.mobile_padding.right:n.padding.right};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",{width:"100%",cellPadding:"0",cellSpacing:"0",className:"ng-block"},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{style:h},(0,e.createElement)("div",g))))),u)},save:function(t){let{attributes:n,className:l}=t;const{fontSize:a,style:o}=n,i=n.spacing?n.spacing:"20px",r=n.justify?n.justify:"left",s=p.useBlockProps.save({style:{gap:i,justifyContent:r},className:ko()(l,{"has-custom-font-size":a||o?.typography?.fontSize})}),c=p.useInnerBlocksProps.save(s),u={paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right};return(0,e.createElement)("table",{width:"100%",cellPadding:"0",cellSpacing:"0",className:"ng-block"},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{style:u},(0,e.createElement)("div",c)))))},transforms:pi,supports:{anchor:!0,html:!1,__experimentalExposeControlsToChildren:!0}});let bi=[];nglue_backend.is_allowed_post_type&&(bi=newsletterglue_block_show_hide_content.apps);let _i={content:{type:"string",source:"html",selector:"p",default:"",role:"content"},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},padding:{type:"object",default:vo.container.padding},margin:{type:"object",default:vo.container.margin},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.container.fontsize},lineheight:{type:"number",default:vo.container.lineheight},fontweight:{type:"object",default:vo.container.fontweight},align:{type:"string",default:"none"},placeholder:{type:"string"},border:{type:"string"},borderSize:{type:"string"},radius:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.container&&(_i.mobile_size={type:"string",default:vo.mobile.container.fontsize},_i.mobile_lineheight={type:"number",default:vo.mobile.container.lineheight},_i.mobile_padding={type:"object",default:vo.mobile.container.padding},_i.mobile_margin={type:"object",default:vo.mobile.container.margin}),bi&&bi.forEach((e=>{_i[`${e}_conditions`]={type:"array",default:[]}}));const fi=_i;var vi=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"}));const yi=["newsletterglue/container","newsletterglue/text","newsletterglue/buttons","newsletterglue/heading","newsletterglue/html","newsletterglue/image","newsletterglue/list","newsletterglue/quote","newsletterglue/spacer","newsletterglue/embed","newsletterglue/meta-data","newsletterglue/optin","newsletterglue/post-author","newsletterglue/post-embeds","newsletterglue/latest-posts","newsletterglue/sections","newsletterglue/separator","newsletterglue/showhide","newsletterglue/social-icons","newsletterglue/table","newsletterglue/ad-inserter"],wi=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0},{value:"border",label:"Border"}],o=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.container.fontsize,type:"unit"},{value:"fontweight",label:"Font weight",default:vo.container.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:"Line height",default:vo.container.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.container.padding,type:"boxcontrol"},{value:"margin",label:"Margin",default:vo.container.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,link:vo.colors.primary,border:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({fontweight:vo.container.fontweight,lineheight:vo.container.lineheight,font:vo.font,fontsize:vo.container.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Border"),resetAll:()=>{l({borderSize:void 0,radius:void 0})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:[{value:"borderSize",label:"Border width",type:"unit",is_single:!0},{value:"radius",label:"Border radius",type:"unit",is_single:!0}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.container.padding,margin:vo.container.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},Ei=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_size",label:"Font size",default:vo.mobile.container.fontsize,type:"unit"},{value:"mobile_lineheight",label:"Line height",default:vo.mobile.container.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.container.padding,type:"boxcontrol"},{value:"mobile_margin",label:"Margin",default:vo.mobile.container.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_lineheight:vo.mobile.container.lineheight,mobile_size:vo.mobile.container.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.container.padding,mobile_margin:vo.mobile.container.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},ki=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"}));let xi=!0;nglue_backend.is_allowed_post_type||(xi=!1),xi&&(0,bo.registerBlockType)("newsletterglue/container",{apiVersion:2,title:(0,i.__)("Container","newsletter-glue"),category:"newsletterglue-blocks",icon:ki,example:{attributes:{}},description:(0,i.__)("Add a container block to your email.","newsletter-glue"),keywords:["newsletter","email","container"],attributes:fi,providesContext:{"container/color":"color"},edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}=t;const r=n.color?n.color:vo.color,{deviceType:s}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),c="Mobile"===s;var u={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",style:{color:r}};const d=(0,p.useBlockProps)(u);var m={fontSize:c?n.mobile_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:c?n.mobile_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:c?n.mobile_padding.top:n.padding.top,paddingBottom:c?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:c?n.mobile_padding.left:n.padding.left,paddingRight:c?n.mobile_padding.right:n.padding.right,textAlign:n.align,color:r,backgroundColor:n.background,borderRadius:n.radius?n.radius:"0px"};n.borderSize&&(m.borderWidth=n.borderSize,m.borderStyle="solid",m.borderColor=n.border?n.border:n.background);const g=n.margin;let h=1;g.left&&(h+=1),g.right&&(h+=1);const b=(0,e.useRef)(),_=(0,e.useRef)(),f=(0,e.useRef)();(0,e.useEffect)((()=>{if(b.current){const{getBlock:e}=wp.data.select("core/block-editor"),{updateBlockAttributes:t}=(0,Co.dispatch)("core/block-editor");(0,Co.select)("core/block-editor").getBlockOrder(i).forEach((l=>{var a=e(l);["newsletterglue/text","newsletterglue/quote","newsletterglue/list"].includes(a.name)&&t(l,{font:n.font}),"newsletterglue/heading"===a.name&&t(l,{h1_font:n.font,h2_font:n.font,h3_font:n.font,h4_font:n.font,h5_font:n.font,h6_font:n.font}),"newsletterglue/buttons"===a.name&&(0,Co.select)("core/block-editor").getBlockOrder(l).forEach((e=>{t(e,{font:n.font})}))}))}else b.current=!0}),[n.font]),(0,e.useEffect)((()=>{if(_.current){const{getBlock:e}=wp.data.select("core/block-editor"),{updateBlockAttributes:t}=(0,Co.dispatch)("core/block-editor");(0,Co.select)("core/block-editor").getBlockOrder(i).forEach((l=>{var a=e(l);["newsletterglue/text","newsletterglue/quote","newsletterglue/list"].includes(a.name)&&t(l,{color:n.color}),"newsletterglue/heading"===a.name&&t(l,{h1_colour:n.color,h2_colour:n.color,h3_colour:n.color,h4_colour:n.color,h5_colour:n.color,h6_colour:n.color})}))}else _.current=!0}),[n.color]);let v=newsletterglue_meta?.app;var y=!1;return newsletterglue_block_show_hide_content.showconditions&&(y=!0,n.show_in_web&&n.show_in_email&&0===n[`${v}_conditions`]?.length&&(y=!1)),(0,e.useEffect)((()=>{if(f.current){const{getBlock:e}=wp.data.select("core/block-editor"),{updateBlockAttributes:t}=(0,Co.dispatch)("core/block-editor");(0,Co.select)("core/block-editor").getBlockOrder(i).forEach((l=>{var a=e(l);["newsletterglue/text","newsletterglue/quote","newsletterglue/list"].includes(a.name)&&t(l,{link:n.link}),["newsletterglue/quote"].includes(a.name)&&t(l,{border:n.link}),"newsletterglue/buttons"===a.name&&(0,Co.select)("core/block-editor").getBlockOrder(l).forEach((e=>{t(e,{background:n.link})}))}))}else f.current=!0}),[n.link]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:n.align,onChange:e=>{l({align:void 0===e?"none":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==s&&(0,e.createElement)(wi,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}),"Mobile"===s&&(0,e.createElement)(Ei,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i})),(0,e.createElement)("table",d,y&&(0,e.createElement)("div",{style:{position:"absolute",right:0,top:0,width:"30px",height:"30px",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"center"}},(0,e.createElement)(Oa,{icon:vi})),(0,e.createElement)("tbody",null,g&&g.top&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-1",style:{height:g.top},height:parseInt(g.top,10),colSpan:h})),(0,e.createElement)("tr",null,g&&g.left&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-1",style:{width:g.left},height:parseInt(g.left,10)}),(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:m},(0,e.createElement)(p.InnerBlocks,{template:[["newsletterglue/text",{}]],allowedBlocks:yi,orientation:"vertical"})),g&&g.right&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-2",style:{width:g.right},height:parseInt(g.right,10)})),g&&g.bottom&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-2",style:{height:g.bottom},height:parseInt(g.bottom,10),colSpan:h})))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;var a={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",style:{color:l}};const o=p.useBlockProps.save(a);var i={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.align,color:l,backgroundColor:n.background,borderRadius:n.radius?n.radius:"0px"};n.borderSize&&(i.borderWidth=n.borderSize,i.borderStyle="solid",i.borderColor=n.border?n.border:n.background);const r=n.margin;let s=1;return r.left&&(s+=1),r.right&&(s+=1),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",o,(0,e.createElement)("tbody",null,r&&r.top&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-1",style:{height:r.top},height:parseInt(r.top,10),colSpan:s})),(0,e.createElement)("tr",null,r&&r.left&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-1",style:{width:r.left},height:parseInt(r.left,10)}),(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:i},(0,e.createElement)(p.InnerBlocks.Content,null)),r&&r.right&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-2",style:{width:r.right},height:parseInt(r.right,10)})),r&&r.bottom&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-2",style:{height:r.bottom},height:parseInt(r.bottom,10),colSpan:s})))))}});let Ci={url:{type:"string",role:"content"},content:{type:"string",role:"content"},provider:{type:"string"},cannotEmbed:{type:"boolean",default:!1},background:{type:"string"},color:{type:"string"},border:{type:"string"},link:{type:"string",default:vo.colors.primary},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.block.fontsize},lineheight:{type:"number",default:vo.lineheight},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},padding:{type:"object",default:vo.embed.padding},margin:{type:"object",default:vo.embed.margin},placeholder:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.embed&&(Ci.mobile_size={type:"string",default:vo.mobile.embed.fontsize},Ci.mobile_lineheight={type:"number",default:vo.mobile.embed.lineheight},Ci.mobile_padding={type:"object",default:vo.mobile.embed.padding},Ci.mobile_margin={type:"object",default:vo.mobile.embed.margin});const Si=Ci;var Ni=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"}));const zi=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0},{value:"border",label:"Border"}],o=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.block.fontsize,type:"unit"},{value:"fontweight",label:"Font weight",default:vo.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:"Line height",default:vo.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.embed.padding,type:"boxcontrol"},{value:"margin",label:"Margin",default:vo.embed.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,link:vo.colors.primary,border:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({fontweight:vo.fontweight,lineheight:vo.lineheight,font:vo.font,fontsize:vo.block.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.embed.padding,margin:vo.embed.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},Bi=(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(s.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V9.8l4.7-5.3H19c.3 0 .5.2.5.5v14zm-6-9.5L16 12l-2.5 2.8 1.1 1L18 12l-3.5-3.5-1 1zm-3 0l-1-1L6 12l3.5 3.8 1.1-1L8 12l2.5-2.5z"})),Ti=((0,e.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(s.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V9.8l4.7-5.3H19c.3 0 .5.2.5.5v14zM13.2 7.7c-.4.4-.7 1.1-.7 1.9v3.7c-.4-.3-.8-.4-1.3-.4-1.2 0-2.2 1-2.2 2.2 0 1.2 1 2.2 2.2 2.2.5 0 1-.2 1.4-.5.9-.6 1.4-1.6 1.4-2.6V9.6c0-.4.1-.6.2-.8.3-.3 1-.3 1.6-.3h.2V7h-.2c-.7 0-1.8 0-2.6.7z"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(s.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9.2 4.5H19c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V9.8l4.6-5.3zm9.8 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(s.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V9.8l4.7-5.3H19c.3 0 .5.2.5.5v14zM10 15l5-3-5-3v6z"})),(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.G,null,(0,e.createElement)(s.Path,{d:"M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"}))),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M21.8 8s-.195-1.377-.795-1.984c-.76-.797-1.613-.8-2.004-.847-2.798-.203-6.996-.203-6.996-.203h-.01s-4.197 0-6.996.202c-.39.046-1.242.05-2.003.846C2.395 6.623 2.2 8 2.2 8S2 9.62 2 11.24v1.517c0 1.618.2 3.237.2 3.237s.195 1.378.795 1.985c.76.797 1.76.77 2.205.855 1.6.153 6.8.2 6.8.2s4.203-.005 7-.208c.392-.047 1.244-.05 2.005-.847.6-.607.795-1.985.795-1.985s.2-1.618.2-3.237v-1.517C22 9.62 21.8 8 21.8 8zM9.935 14.595v-5.62l5.403 2.82-5.403 2.8z"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M20 3H4c-.6 0-1 .4-1 1v16c0 .5.4 1 1 1h8.6v-7h-2.3v-2.7h2.3v-2c0-2.3 1.4-3.6 3.5-3.6 1 0 1.8.1 2.1.1v2.4h-1.4c-1.1 0-1.3.5-1.3 1.3v1.7h2.7l-.4 2.8h-2.3v7H20c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1z"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.G,null,(0,e.createElement)(s.Path,{d:"M12 4.622c2.403 0 2.688.01 3.637.052.877.04 1.354.187 1.67.31.42.163.72.358 1.036.673.315.315.51.615.673 1.035.123.317.27.794.31 1.67.043.95.052 1.235.052 3.638s-.01 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.67-.163.42-.358.72-.673 1.036-.315.315-.615.51-1.035.673-.317.123-.794.27-1.67.31-.95.043-1.234.052-3.638.052s-2.688-.01-3.637-.052c-.877-.04-1.354-.187-1.67-.31-.42-.163-.72-.358-1.036-.673-.315-.315-.51-.615-.673-1.035-.123-.317-.27-.794-.31-1.67-.043-.95-.052-1.235-.052-3.638s.01-2.688.052-3.637c.04-.877.187-1.354.31-1.67.163-.42.358-.72.673-1.036.315-.315.615-.51 1.035-.673.317-.123.794-.27 1.67-.31.95-.043 1.235-.052 3.638-.052M12 3c-2.444 0-2.75.01-3.71.054s-1.613.196-2.185.418c-.592.23-1.094.538-1.594 1.04-.5.5-.807 1-1.037 1.593-.223.572-.375 1.226-.42 2.184C3.01 9.25 3 9.555 3 12s.01 2.75.054 3.71.196 1.613.418 2.186c.23.592.538 1.094 1.038 1.594s1.002.808 1.594 1.038c.572.222 1.227.375 2.185.418.96.044 1.266.054 3.71.054s2.75-.01 3.71-.054 1.613-.196 2.186-.418c.592-.23 1.094-.538 1.594-1.038s.808-1.002 1.038-1.594c.222-.572.375-1.227.418-2.185.044-.96.054-1.266.054-3.71s-.01-2.75-.054-3.71-.196-1.613-.418-2.186c-.23-.592-.538-1.094-1.038-1.594s-1.002-.808-1.594-1.038c-.572-.222-1.227-.375-2.185-.418C14.75 3.01 14.445 3 12 3zm0 4.378c-2.552 0-4.622 2.07-4.622 4.622s2.07 4.622 4.622 4.622 4.622-2.07 4.622-4.622S14.552 7.378 12 7.378zM12 15c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3zm4.804-8.884c-.596 0-1.08.484-1.08 1.08s.484 1.08 1.08 1.08c.596 0 1.08-.484 1.08-1.08s-.483-1.08-1.08-1.08z"}))),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.G,null,(0,e.createElement)(s.Path,{d:"M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"}))),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m4.586 14.424c-.18.295-.563.387-.857.207-2.35-1.434-5.305-1.76-8.786-.963-.335.077-.67-.133-.746-.47-.077-.334.132-.67.47-.745 3.808-.87 7.076-.496 9.712 1.115.293.18.386.563.206.857M17.81 13.7c-.226.367-.706.482-1.072.257-2.687-1.652-6.785-2.13-9.965-1.166-.413.127-.848-.106-.973-.517-.125-.413.108-.848.52-.973 3.632-1.102 8.147-.568 11.234 1.328.366.226.48.707.256 1.072m.105-2.835C14.692 8.95 9.375 8.775 6.297 9.71c-.493.15-1.016-.13-1.166-.624-.148-.495.13-1.017.625-1.167 3.532-1.073 9.404-.866 13.115 1.337.445.264.59.838.327 1.282-.264.443-.838.59-1.282.325"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"m6.5 7c-2.75 0-5 2.25-5 5s2.25 5 5 5 5-2.25 5-5-2.25-5-5-5zm11 0c-2.75 0-5 2.25-5 5s2.25 5 5 5 5-2.25 5-5-2.25-5-5-5z"})),(0,e.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(s.G,null,(0,e.createElement)(s.Path,{d:"M22.396 7.164c-.093 2.026-1.507 4.8-4.245 8.32C15.323 19.16 12.93 21 10.97 21c-1.214 0-2.24-1.12-3.08-3.36-.56-2.052-1.118-4.105-1.68-6.158-.622-2.24-1.29-3.36-2.004-3.36-.156 0-.7.328-1.634.98l-.978-1.26c1.027-.903 2.04-1.806 3.037-2.71C6 3.95 7.03 3.328 7.716 3.265c1.62-.156 2.616.95 2.99 3.32.404 2.558.685 4.148.84 4.77.468 2.12.982 3.18 1.543 3.18.435 0 1.09-.687 1.963-2.064.872-1.376 1.34-2.422 1.402-3.142.125-1.187-.343-1.782-1.4-1.782-.5 0-1.013.115-1.542.34 1.023-3.35 2.977-4.976 5.862-4.883 2.14.063 3.148 1.45 3.024 4.16z"}))),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M22 12.068a2.184 2.184 0 0 0-2.186-2.186c-.592 0-1.13.233-1.524.609-1.505-1.075-3.566-1.774-5.86-1.864l1.004-4.695 3.261.699A1.56 1.56 0 1 0 18.255 3c-.61-.001-1.147.357-1.398.877l-3.638-.77a.382.382 0 0 0-.287.053.348.348 0 0 0-.161.251l-1.112 5.233c-2.33.072-4.426.77-5.95 1.864a2.201 2.201 0 0 0-1.523-.61 2.184 2.184 0 0 0-.896 4.176c-.036.215-.053.43-.053.663 0 3.37 3.924 6.111 8.763 6.111s8.763-2.724 8.763-6.11c0-.216-.017-.449-.053-.664A2.207 2.207 0 0 0 22 12.068Zm-15.018 1.56a1.56 1.56 0 0 1 3.118 0c0 .86-.699 1.558-1.559 1.558-.86.018-1.559-.699-1.559-1.559Zm8.728 4.139c-1.076 1.075-3.119 1.147-3.71 1.147-.61 0-2.652-.09-3.71-1.147a.4.4 0 0 1 0-.573.4.4 0 0 1 .574 0c.68.68 2.114.914 3.136.914 1.022 0 2.473-.233 3.136-.914a.4.4 0 0 1 .574 0 .436.436 0 0 1 0 .573Zm-.287-2.563a1.56 1.56 0 0 1 0-3.118c.86 0 1.56.699 1.56 1.56 0 .841-.7 1.558-1.56 1.558Z"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M19 3H5a2 2 0 00-2 2v14c0 1.1.9 2 2 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-5.69 14.66c-2.72 0-3.1-1.9-3.1-3.16v-3.56H8.49V8.99c1.7-.62 2.54-1.99 2.64-2.87 0-.06.06-.41.06-.58h1.9v3.1h2.17v2.3h-2.18v3.1c0 .47.13 1.3 1.2 1.26h1.1v2.36c-1.01.02-2.07 0-2.07 0z"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"M18.42 14.58c-.51-.66-1.05-1.23-1.05-2.5V7.87c0-1.8.15-3.45-1.2-4.68-1.05-1.02-2.79-1.35-4.14-1.35-2.6 0-5.52.96-6.12 4.14-.06.36.18.54.4.57l2.66.3c.24-.03.42-.27.48-.5.24-1.12 1.17-1.63 2.2-1.63.56 0 1.22.21 1.55.7.4.56.33 1.31.33 1.97v.36c-1.59.18-3.66.27-5.16.93a4.63 4.63 0 0 0-2.93 4.44c0 2.82 1.8 4.23 4.1 4.23 1.95 0 3.03-.45 4.53-1.98.51.72.66 1.08 1.59 1.83.18.09.45.09.63-.1v.04l2.1-1.8c.24-.21.2-.48.03-.75zm-5.4-1.2c-.45.75-1.14 1.23-1.92 1.23-1.05 0-1.65-.81-1.65-1.98 0-2.31 2.1-2.73 4.08-2.73v.6c0 1.05.03 1.92-.5 2.88z"}),(0,e.createElement)(s.Path,{d:"M21.69 19.2a17.62 17.62 0 0 1-21.6-1.57c-.23-.2 0-.5.28-.33a23.88 23.88 0 0 0 20.93 1.3c.45-.19.84.3.39.6z"}),(0,e.createElement)(s.Path,{d:"M22.8 17.96c-.36-.45-2.22-.2-3.1-.12-.23.03-.3-.18-.05-.36 1.5-1.05 3.96-.75 4.26-.39.3.36-.1 2.82-1.5 4.02-.21.18-.42.1-.3-.15.3-.8 1.02-2.58.69-3z"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"m.0206909 21 19.8160091-13.07806 3.5831 6.20826z",fill:"#4bc7ee"}),(0,e.createElement)(s.Path,{d:"m23.7254 19.0205-10.1074-17.18468c-.6421-1.114428-1.7087-1.114428-2.3249 0l-11.2931 19.16418h22.5655c1.279 0 1.8019-.8905 1.1599-1.9795z",fill:"#d4cdcb"}),(0,e.createElement)(s.Path,{d:"m.0206909 21 15.2439091-16.38571 4.3029 7.32271z",fill:"#c3d82e"}),(0,e.createElement)(s.Path,{d:"m13.618 1.83582c-.6421-1.114428-1.7087-1.114428-2.3249 0l-11.2931 19.16418 15.2646-16.38573z",fill:"#e4ecb0"}),(0,e.createElement)(s.Path,{d:"m.0206909 21 19.5468091-9.063 1.6621 2.8344z",fill:"#209dbd"}),(0,e.createElement)(s.Path,{d:"m.0206909 21 17.9209091-11.82623 1.6259 2.76323z",fill:"#7cb3c9"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 24 24"},(0,e.createElement)(s.Path,{d:"m12.1479 18.5957c-2.4949 0-4.28131-1.7558-4.28131-4.0658 0-2.2176 1.78641-4.0965 4.09651-4.0965 2.2793 0 4.0349 1.7864 4.0349 4.1581 0 2.2794-1.7556 4.0042-3.8501 4.0042zm8.3521-18.5957-4.5329 1v7c-1.1088-1.41691-2.8028-1.8787-4.8049-1.8787-2.09443 0-3.97329.76993-5.5133 2.27917-1.72483 1.66323-2.6489 3.78863-2.6489 6.16033 0 2.5873.98562 4.8049 2.89526 6.499 1.44763 1.2936 3.17251 1.9402 5.17454 1.9402 1.9713 0 3.4498-.5236 4.8973-1.9402v1.9402h4.5329c0-7.6359 0-15.3641 0-23z",fill:"#333436"})),(0,e.createElement)(s.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,e.createElement)(s.Path,{d:"M12.289,2C6.617,2,3.606,5.648,3.606,9.622c0,1.846,1.025,4.146,2.666,4.878c0.25,0.111,0.381,0.063,0.439-0.169 c0.044-0.175,0.267-1.029,0.365-1.428c0.032-0.128,0.017-0.237-0.091-0.362C6.445,11.911,6.01,10.75,6.01,9.668 c0-2.777,2.194-5.464,5.933-5.464c3.23,0,5.49,2.108,5.49,5.122c0,3.407-1.794,5.768-4.13,5.768c-1.291,0-2.257-1.021-1.948-2.277 c0.372-1.495,1.089-3.112,1.089-4.191c0-0.967-0.542-1.775-1.663-1.775c-1.319,0-2.379,1.309-2.379,3.059 c0,1.115,0.394,1.869,0.394,1.869s-1.302,5.279-1.54,6.261c-0.405,1.666,0.053,4.368,0.094,4.604 c0.021,0.126,0.167,0.169,0.25,0.063c0.129-0.165,1.699-2.419,2.142-4.051c0.158-0.59,0.817-2.995,0.817-2.995 c0.43,0.784,1.681,1.446,3.013,1.446c3.963,0,6.822-3.494,6.822-7.833C20.394,5.112,16.849,2,12.289,2"})),(0,e.createElement)(s.SVG,{viewBox:"0 0 44 44"},(0,e.createElement)(s.Path,{d:"M32.59521,22.001l4.31885-4.84473-6.34131-1.38379.646-6.459-5.94336,2.61035L22,6.31934l-3.27344,5.60351L12.78418,9.3125l.645,6.458L7.08643,17.15234,11.40479,21.999,7.08594,26.84375l6.34131,1.38379-.64551,6.458,5.94287-2.60938L22,37.68066l3.27344-5.60351,5.94287,2.61035-.64551-6.458,6.34277-1.38183Zm.44385,2.75244L30.772,23.97827l-1.59558-2.07391,1.97888.735Zm-8.82147,6.1579L22.75,33.424V30.88977l1.52228-2.22168ZM18.56226,13.48816,19.819,15.09534l-2.49219-.88642L15.94037,12.337Zm6.87719.00116,2.62043-1.15027-1.38654,1.86981L24.183,15.0946Zm3.59357,2.6029-1.22546,1.7381.07525-2.73486,1.44507-1.94867ZM22,29.33008l-2.16406-3.15686L22,23.23688l2.16406,2.93634Zm-4.25458-9.582-.10528-3.836,3.60986,1.284v3.73242Zm5.00458-2.552,3.60986-1.284-.10528,3.836L22.75,20.92853Zm-7.78174-1.10559-.29352-2.94263,1.44245,1.94739.07519,2.73321Zm2.30982,5.08319,3.50817,1.18164-2.16247,2.9342-3.678-1.08447Zm2.4486,7.49285L21.25,30.88977v2.53485L19.78052,30.91Zm3.48707-6.31121,3.50817-1.18164,2.33228,3.03137-3.678,1.08447Zm10.87219-4.28113-2.714,3.04529L28.16418,19.928l1.92176-2.72565ZM24.06036,12.81769l-2.06012,2.6322-2.059-2.63318L22,9.292ZM9.91455,18.07227l4.00079-.87195,1.921,2.72735-3.20794,1.19019Zm2.93024,4.565,1.9801-.73462L13.228,23.97827l-2.26838.77429Zm-1.55591,3.58819L13.701,25.4021l2.64935.78058-2.14447.67853Zm3.64868,1.977L18.19,27.17334l.08313,3.46332L14.52979,32.2793Zm10.7876,2.43549.08447-3.464,3.25165,1.03052.407,4.07684Zm4.06824-3.77478-2.14545-.68,2.65063-.781,2.41266.825Z"})),(0,e.createElement)(s.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(s.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M24,12A12,12,0,1,1,12,0,12,12,0,0,1,24,12Z"}),(0,e.createElement)(s.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67,12a9.33,9.33,0,0,1,18.66,0H19a7,7,0,1,0-7,7v2.33A9.33,9.33,0,0,1,2.67,12ZM12,17.6A5.6,5.6,0,1,1,17.6,12h-2A3.56,3.56,0,1,0,12,15.56Z",fill:"#fff"})),t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_size",label:"Font size",default:vo.mobile.embed.fontsize,type:"unit"},{value:"mobile_lineheight",label:"Line height",default:vo.mobile.embed.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.embed.padding,type:"boxcontrol"},{value:"mobile_margin",label:"Margin",default:vo.mobile.embed.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_lineheight:vo.mobile.embed.lineheight,mobile_size:vo.mobile.embed.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.embed.padding,mobile_margin:vo.mobile.embed.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))}),Pi="wp-embed";n(991);var Ai=window.lodash,Ii=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"core/embed","title":"Embed","category":"embed","description":"Add a block that displays content pulled from other sites, like Twitter or YouTube.","textdomain":"default","attributes":{"url":{"type":"string","role":"content"},"caption":{"type":"string","source":"html","selector":"figcaption","role":"content"},"type":{"type":"string","role":"content"},"providerNameSlug":{"type":"string","role":"content"},"allowResponsive":{"type":"boolean","default":true},"responsive":{"type":"boolean","default":false,"role":"content"},"previewable":{"type":"boolean","default":true,"role":"content"}},"supports":{"align":true,"spacing":{"margin":true}},"editorStyle":"wp-block-embed-editor","style":"wp-block-embed"}');const{name:Ri}=Ii,Mi=e=>(0,bo.getBlockVariations)(Ri)?.find((t=>{let{patterns:n}=t;return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((t=>e.match(t)))}(e,n)})),Li=e=>e&&e.includes('class="wp-embedded-content"'),Fi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preview:n,attributes:l={}}=e,{url:a,providerNameSlug:o,type:i,...r}=l;if(!a||!(0,bo.getBlockType)(Ri))return;const s=Mi(a),c="wordpress"===o||i===Pi;if(!c&&s&&(s.attributes.providerNameSlug!==o||!o))return(0,bo.createBlock)(Ri,{url:a,...r,...s.attributes});const u=(0,bo.getBlockVariations)(Ri)?.find((e=>{let{name:t}=e;return"wordpress"===t}));return u&&n&&Li(n.html)&&!c?(0,bo.createBlock)(Ri,{url:a,...u.attributes,...t}):void 0};!function(e,t){t=t||{}}();var Oi=()=>(0,e.createElement)("div",{className:"wp-block-embed is-loading"},(0,e.createElement)(s.Spinner,null)),Hi=t=>{let{icon:n,label:l,value:a,onSubmit:o,onChange:r,cannotEmbed:c,fallback:u,tryAgain:d}=t;return(0,e.createElement)(s.Placeholder,{icon:(0,e.createElement)(p.BlockIcon,{icon:n,showColors:!0}),label:l,className:"wp-block-embed",instructions:(0,i.__)("Paste a link to the content you want to display on your site.")},(0,e.createElement)("form",{onSubmit:o},(0,e.createElement)("input",{type:"url",value:a||"",className:"components-placeholder__input","aria-label":l,placeholder:(0,i.__)("Enter URL to embed here…"),onChange:r}),(0,e.createElement)(s.Button,{variant:"primary",type:"submit"},(0,i._x)("Embed","button label"))),(0,e.createElement)("div",{className:"components-placeholder__learn-more"},(0,e.createElement)(s.ExternalLink,{href:(0,i.__)("https://newsletterglue.com/")},(0,i.__)("Learn more about embeds"))),c&&(0,e.createElement)("div",{className:"components-placeholder__error"},(0,e.createElement)("div",{className:"components-placeholder__instructions"},(0,i.__)("Sorry, this content could not be embedded.")),(0,e.createElement)(s.Button,{variant:"secondary",onClick:d},(0,i._x)("Try again","button label"))," ",(0,e.createElement)(s.Button,{variant:"secondary",onClick:u},(0,i._x)("Convert to link","button label"))))},Vi={twitter:{border:"#d7e0e3"}};let Di="core/embed";nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(Di="newsletterglue/embed");const ji={from:[{type:"raw",isMatch:e=>"P"===e.nodeName&&/^\s*(https?:\/\/\S+)\s*$/i.test(e.textContent)&&1===e.textContent?.match(/https/gi)?.length,transform:e=>(0,bo.createBlock)(Di,{url:e.textContent.trim()})}],to:[{type:"block",blocks:["newsletterglue/text"],isMatch:e=>{let{url:t}=e;return!!t},transform:e=>{let{url:t,caption:n}=e,l=`<a href="${t}">${t}</a>`;return n?.trim()&&(l+=`<br />${n}`),(0,bo.createBlock)("newsletterglue/text",{content:l})}}]};var $i=ji;let Wi=!0;nglue_backend.is_allowed_post_type||(Wi=!1),Wi&&(0,bo.registerBlockType)("newsletterglue/embed",{apiVersion:2,title:(0,i.__)("Embed","newsletter-glue"),category:"newsletterglue-blocks",icon:Bi,example:{attributes:{}},description:(0,i.__)("Add social embeds to your email.","newsletter-glue"),keywords:["newsletter","email","embed"],attributes:Si,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:r,onReplace:c,clientId:u,onFocus:d}=t;var m=n.color?n.color:vo.color;const{deviceType:g}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),h="Mobile"===g,{content:b,cannotEmbed:_}=n,f={title:(0,i.__)("Embed","newsletter-glue"),icon:Bi},{icon:v,title:y}=f,w=(0,i.sprintf)((0,i.__)("%s URL"),y),E=n.url,[k,x]=(0,e.useState)(!1),[C,S]=(0,e.useState)(E),[N,z]=(0,e.useState)(!1);const B=(0,p.useBlockProps)({width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block"});var T={fontSize:h?n.mobile_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:h?n.mobile_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:h?n.mobile_padding.top:n.padding.top,paddingBottom:h?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:h?n.mobile_padding.left:n.padding.left,paddingRight:h?n.mobile_padding.right:n.padding.right,textAlign:n.align,color:m,backgroundColor:n.background,borderRadius:"5px"};if(n.border&&(T.border="1px solid "+n.border),k)return(0,e.createElement)(ba.View,B,(0,e.createElement)(Oi,null));if(!n.content||N)return(0,e.createElement)(ba.View,B,(0,e.createElement)(Hi,{icon:v,label:w,onFocus:d,onSubmit:e=>{if(e&&e.preventDefault(),!C)return!1;z(!1),l({url:C}),x(!0),P(0,C)},value:C,cannotEmbed:_,onChange:e=>{S(e.target.value)},fallback:()=>{!function(t,n){const l=(0,e.createElement)("a",{href:t},t);n((0,bo.createBlock)("newsletterglue/text",{content:(0,e.renderToString)(l)}))}(C,c)},tryAgain:()=>{z(!1),x(!0),P(0,C)}}));function P(e,t){const n={url:t};o()({path:"newsletterglue/"+nglue_backend.api_version+"/embed_url",method:"post",data:n,headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{if(console.log(e),e.error&&(l({cannotEmbed:!0,content:""}),x(!1)),e.content){var t=e.provider,n={cannotEmbed:!1,content:e.content,provider:t};Object.keys(Vi).map((e=>{Vi[e]&&e===t&&Object.keys(Vi[e]).map((t=>{n[t]=Vi[e][t]}))})),l(n),x(!1)}}))}const A=!!n.content;var I=h?n.mobile_margin:n.margin;let R=1;return I.left&&(R+=1),I.right&&(R+=1),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,null,(0,e.createElement)(s.ToolbarGroup,null,A&&(0,e.createElement)(s.ToolbarButton,{className:"components-toolbar__control",label:(0,i.__)("Edit URL"),icon:Ni,onClick:()=>z(!0)}))),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==g&&(0,e.createElement)(zi,{attributes:n,setAttributes:l,className:a,isSelected:r,clientId:u}),"Mobile"===g&&(0,e.createElement)(Ti,{attributes:n,setAttributes:l,className:a,isSelected:r,clientId:u})),(0,e.createElement)("table",B,(0,e.createElement)("tbody",null,I&&I.top&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-1",style:{height:I.top},height:parseInt(I.top,10),colSpan:R})),(0,e.createElement)("tr",null,I&&I.left&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-1",style:{width:I.left},height:parseInt(I.left,10)}),(0,e.createElement)("td",{className:"ng-block-td",style:T},(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:b}})),I&&I.right&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-2",style:{width:I.right},height:parseInt(I.right,10)})),I&&I.bottom&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-2",style:{height:I.bottom},height:parseInt(I.bottom,10),colSpan:R})))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;const a=p.useBlockProps.save({width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block"});var o={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.align,color:l,backgroundColor:n.background,borderRadius:"5px"};n.border&&(o.border="1px solid "+n.border);const{content:i,margin:r}=n;let s=1;return r.left&&(s+=1),r.right&&(s+=1),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",a,(0,e.createElement)("tbody",null,r&&r.top&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-1",style:{height:r.top},height:parseInt(r.top,10),colSpan:s})),(0,e.createElement)("tr",null,r&&r.left&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-1",style:{width:r.left},height:parseInt(r.left,10)}),(0,e.createElement)("td",{className:"ng-block-td",style:o},(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:i}})),r&&r.right&&(0,e.createElement)("td",{className:"ng-block-hs ng-block-hs-2",style:{width:r.right},height:parseInt(r.right,10)})),r&&r.bottom&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-vs ng-block-vs-2",style:{height:r.bottom},height:parseInt(r.bottom,10),colSpan:s})))))},transforms:$i});let Ui={level:{type:"number",default:2},content:{type:"string",source:"html",selector:"h1,h2,h3,h4,h5,h6"},background:{type:"string"},link:{type:"string",default:vo.colors.primary},fontweight:{type:"object",default:vo.headings.fontweight},textAlign:{type:"string",default:"none"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};[1,2,3,4,5,6].map((e=>{Ui[`h${e}_padding`]={type:"object",default:vo.headings[`h${e}`].padding},Ui[`h${e}_font`]={type:"object",default:vo.headings[`h${e}`].font},Ui[`h${e}_size`]={type:"string",default:vo.headings[`h${e}`].fontsize},Ui[`h${e}_lineheight`]={type:"number",default:vo.headings[`h${e}`].lineheight},Ui[`h${e}_colour`]={type:"string"}})),[1,2,3,4,5,6].map((e=>{vo.mobile.headings[`h${e}`]&&(Ui[`mobile_h${e}_size`]={type:"string",default:vo.mobile.headings[`h${e}`].fontsize},Ui[`mobile_h${e}_lineheight`]={type:"number",default:vo.mobile.headings[`h${e}`].lineheight},Ui[`mobile_h${e}_padding`]={type:"object",default:vo.mobile.headings[`h${e}`].padding})}));const Gi=Ui,qi=t=>{const{attributes:n,setAttributes:l}=t,a="h"+n.level,o=[{value:a+"_colour",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0}],r=[{value:a+"_font",label:"Font family",default:vo.headings[a].font,type:"customselect",options:Wo},{value:a+"_size",label:"Font size",default:vo.headings[a].fontsize,type:"unit"},{value:a+"_lineheight",label:"Line height",default:vo.headings[a].lineheight,type:"number",step:.1,is_single:!0}],c=[{value:a+"_padding",label:"Padding",default:vo.headings[a].padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,h1_colour:void 0,h2_colour:void 0,h3_colour:void 0,h4_colour:void 0,h5_colour:void 0,h6_colour:void 0,link:vo.colors.primary})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({h1_lineheight:vo.headings.h1.lineheight,h2_lineheight:vo.headings.h2.lineheight,h3_lineheight:vo.headings.h3.lineheight,h4_lineheight:vo.headings.h4.lineheight,h5_lineheight:vo.headings.h5.lineheight,h6_lineheight:vo.headings.h6.lineheight,h1_font:vo.headings.h1.font,h2_font:vo.headings.h2.font,h3_font:vo.headings.h3.font,h4_font:vo.headings.h4.font,h5_font:vo.headings.h5.font,h6_font:vo.headings.h6.font,h1_size:vo.headings.h1.fontsize,h2_size:vo.headings.h2.fontsize,h3_size:vo.headings.h3.fontsize,h4_size:vo.headings.h4.fontsize,h5_size:vo.headings.h5.fontsize,h6_size:vo.headings.h6.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({h1_padding:vo.headings.h1.padding,h2_padding:vo.headings.h2.padding,h3_padding:vo.headings.h3.padding,h4_padding:vo.headings.h4.padding,h5_padding:vo.headings.h5.padding,h6_padding:vo.headings.h6.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:c})))};function Yi(t){let{level:n,isPressed:l=!1}=t;const a={1:"M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z",2:"M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z",3:"M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z",4:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm10-2h-1v2h-2v-2h-5v-2l4-6h3v6h1v2zm-3-2V7l-2.8 4H16z",5:"M12.1 12.2c.4.3.7.5 1.1.7.4.2.9.3 1.3.3.5 0 1-.1 1.4-.4.4-.3.6-.7.6-1.1 0-.4-.2-.9-.6-1.1-.4-.3-.9-.4-1.4-.4H14c-.1 0-.3 0-.4.1l-.4.1-.5.2-1-.6.3-5h6.4v1.9h-4.3L14 8.8c.2-.1.5-.1.7-.2.2 0 .5-.1.7-.1.5 0 .9.1 1.4.2.4.1.8.3 1.1.6.3.2.6.6.8.9.2.4.3.9.3 1.4 0 .5-.1 1-.3 1.4-.2.4-.5.8-.9 1.1-.4.3-.8.5-1.3.7-.5.2-1 .3-1.5.3-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1-.1-.1 1-1.5 1-1.5zM9 15H7v-4H3v4H1V5h2v4h4V5h2v10z",6:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm8.6-7.5c-.2-.2-.5-.4-.8-.5-.6-.2-1.3-.2-1.9 0-.3.1-.6.3-.8.5l-.6.9c-.2.5-.2.9-.2 1.4.4-.3.8-.6 1.2-.8.4-.2.8-.3 1.3-.3.4 0 .8 0 1.2.2.4.1.7.3 1 .6.3.3.5.6.7.9.2.4.3.8.3 1.3s-.1.9-.3 1.4c-.2.4-.5.7-.8 1-.4.3-.8.5-1.2.6-1 .3-2 .3-3 0-.5-.2-1-.5-1.4-.9-.4-.4-.8-.9-1-1.5-.2-.6-.3-1.3-.3-2.1s.1-1.6.4-2.3c.2-.6.6-1.2 1-1.6.4-.4.9-.7 1.4-.9.6-.3 1.1-.4 1.7-.4.7 0 1.4.1 2 .3.5.2 1 .5 1.4.8 0 .1-1.3 1.4-1.3 1.4zm-2.4 5.8c.2 0 .4 0 .6-.1.2 0 .4-.1.5-.2.1-.1.3-.3.4-.5.1-.2.1-.5.1-.7 0-.4-.1-.8-.4-1.1-.3-.2-.7-.3-1.1-.3-.3 0-.7.1-1 .2-.4.2-.7.4-1 .7 0 .3.1.7.3 1 .1.2.3.4.4.6.2.1.3.3.5.3.2.1.5.2.7.1z"};return a.hasOwnProperty(n)?(0,e.createElement)(s.SVG,{width:"24",height:"24",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",isPressed:l},(0,e.createElement)(s.Path,{d:a[n]})):null}const Zi=[1,2,3,4,5,6],Ki={className:"block-library-heading-level-dropdown"};function Qi(t){let{selectedLevel:n,onChange:l}=t;return(0,e.createElement)(s.ToolbarDropdownMenu,{popoverProps:Ki,icon:(0,e.createElement)(Yi,{level:n}),label:(0,i.__)("Change heading level"),controls:Zi.map((t=>{{const a=t===n;return{icon:(0,e.createElement)(Yi,{level:t,isPressed:a}),label:(0,i.sprintf)(
// translators: %s: heading level e.g: "1", "2", "3"
(0,i.__)("Heading %d"),t),isActive:a,onClick(){l(t)},role:"menuitemradio"}}}))})}const Xi=t=>{const{attributes:n,setAttributes:l}=t,a="h"+n.level,o=[{value:"mobile_"+a+"_size",label:"Font size",default:vo.mobile.headings[a].fontsize,type:"unit"},{value:"mobile_"+a+"_lineheight",label:"Line height",default:vo.mobile.headings[a].lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"mobile_"+a+"_padding",label:"Padding",default:vo.mobile.headings[a].padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_h1_lineheight:vo.mobile.headings.h1.lineheight,mobile_h2_lineheight:vo.mobile.headings.h2.lineheight,mobile_h3_lineheight:vo.mobile.headings.h3.lineheight,mobile_h4_lineheight:vo.mobile.headings.h4.lineheight,mobile_h5_lineheight:vo.mobile.headings.h5.lineheight,mobile_h6_lineheight:vo.mobile.headings.h6.lineheight,mobile_h1_size:vo.mobile.headings.h1.fontsize,mobile_h2_size:vo.mobile.headings.h2.fontsize,mobile_h3_size:vo.mobile.headings.h3.fontsize,mobile_h4_size:vo.mobile.headings.h4.fontsize,mobile_h5_size:vo.mobile.headings.h5.fontsize,mobile_h6_size:vo.mobile.headings.h6.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_h1_padding:vo.mobile.headings.h1.padding,mobile_h2_padding:vo.mobile.headings.h2.padding,mobile_h3_padding:vo.mobile.headings.h3.padding,mobile_h4_padding:vo.mobile.headings.h4.padding,mobile_h5_padding:vo.mobile.headings.h5.padding,mobile_h6_padding:vo.mobile.headings.h6.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},Ji=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M6 5V18.5911L12 13.8473L18 18.5911V5H6Z"}));let er="core/heading",tr="core/paragraph";nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(er="newsletterglue/heading",tr="newsletterglue/text");const nr={from:[{type:"block",isMultiBlock:!0,blocks:[tr],transform:e=>e.map((e=>{let{content:t,anchor:n,align:l}=e;return(0,bo.createBlock)(er,{content:t,anchor:n,textAlign:l})}))},{type:"raw",selector:"h1,h2,h3,h4,h5,h6",schema:e=>{let{phrasingContentSchema:t,isPaste:n}=e;const l={children:t,attributes:n?[]:["style","id"]};return{h1:l,h2:l,h3:l,h4:l,h5:l,h6:l}},transform(e){const t=(0,bo.getBlockAttributes)(er,e.outerHTML),{textAlign:n}=e.style||{};var l;return t.level=(l=e.nodeName,Number(l.substr(1))),"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,bo.createBlock)(er,t)}},...[1,2,3,4,5,6].map((e=>({type:"prefix",prefix:Array(e+1).join("#"),transform(t){return(0,bo.createBlock)(er,{level:e,content:t})}}))),...[1,2,3,4,5,6].map((e=>({type:"enter",regExp:new RegExp(`^/(h|H)${e}$`),transform(t){return(0,bo.createBlock)(er,{level:e,content:t})}})))],to:[{type:"block",isMultiBlock:!0,blocks:[tr],transform:e=>e.map((e=>{let{content:t,textAlign:n}=e;return(0,bo.createBlock)(tr,{content:t,align:n})}))}]};var lr=nr;let ar=!0;nglue_backend.is_allowed_post_type||(ar=!1),ar&&(0,bo.registerBlockType)("newsletterglue/heading",{apiVersion:2,title:(0,i.__)("Heading","newsletter-glue"),category:"newsletterglue-blocks",icon:Ji,example:{attributes:{content:(0,i.__)("Code is Poetry"),level:2}},description:(0,i.__)("Add headings to your email.","newsletter-glue"),keywords:["newsletter","email","heading"],attributes:Gi,transforms:lr,supports:{__unstablePasteTextInline:!0,__experimentalSlashInserter:!0,splitting:!0},merge(e,t){return{content:(e.content||"")+(t.content||"")}},edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,mergeBlocks:r,onReplace:s,clientId:c}=t;const u=n[`h${n.level}_font`].key,d=n[`h${n.level}_colour`]?n[`h${n.level}_colour`]:vo.headings[`h${n.level}`].color,{deviceType:m}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),g="Mobile"===m;var h={width:"100%",cellPadding:0,cellSpacing:0,className:`ng-block ng-block-h${n.level}`,bgcolor:n.background,style:{color:d,backgroundColor:n.background}};const b=(0,p.useBlockProps)(h),_={fontSize:g&&n[`mobile_h${n.level}_size`]?n[`mobile_h${n.level}_size`]:n[`h${n.level}_size`],fontFamily:nglue_backend.font_names[u],lineHeight:g&&n[`mobile_h${n.level}_lineheight`]?n[`mobile_h${n.level}_lineheight`]:n[`h${n.level}_lineheight`],fontWeight:n.fontweight.key,paddingTop:g&&n[`mobile_h${n.level}_padding`]?n[`mobile_h${n.level}_padding`].top:n[`h${n.level}_padding`].top,paddingBottom:g&&n[`mobile_h${n.level}_padding`]?n[`mobile_h${n.level}_padding`].bottom:n[`h${n.level}_padding`].bottom,paddingLeft:g&&n[`mobile_h${n.level}_padding`]?n[`mobile_h${n.level}_padding`].left:n[`h${n.level}_padding`].left,paddingRight:g&&n[`mobile_h${n.level}_padding`]?n[`mobile_h${n.level}_padding`].right:n[`h${n.level}_padding`].right,textAlign:n.textAlign,color:d},f={fontSize:g&&n[`mobile_h${n.level}_size`]?n[`mobile_h${n.level}_size`]:n[`h${n.level}_size`],fontFamily:nglue_backend.font_names[u],lineHeight:g&&n[`mobile_h${n.level}_lineheight`]?n[`mobile_h${n.level}_lineheight`]:n[`h${n.level}_lineheight`],fontWeight:n.fontweight.key,textAlign:n.textAlign,color:d},v="h"+n.level;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(Qi,{selectedLevel:n.level,onChange:e=>l({level:e})}),(0,e.createElement)(p.AlignmentControl,{value:n.textAlign,onChange:e=>{l({textAlign:void 0===e?"none":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==m&&(0,e.createElement)(qi,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:c}),"Mobile"===m&&(0,e.createElement)(Xi,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:c})),(0,e.createElement)("table",b,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.textAlign,style:_},(0,e.createElement)(p.RichText,{identifier:"content",tagName:v,style:f,value:n.content,onChange:e=>l({content:e}),placeholder:n.placeholder||(0,i.__)("Enter heading...","newsletter-glue"),onReplace:s,onRemove:()=>s([]),onMerge:r,"data-empty":!n.content,onSplit:(e,t)=>{let l;return l=t||e?(0,bo.createBlock)("newsletterglue/heading",{...n,content:e}):(0,bo.createBlock)(null!=="newsletterglue/text"?"newsletterglue/text":"newsletterglue/heading"),t&&(l.clientId=c),l}}))))))},save:function(t){let{attributes:n}=t;const l=n[`h${n.level}_font`].key,a=n[`h${n.level}_colour`]?n[`h${n.level}_colour`]:vo.headings[`h${n.level}`].color;var o={width:"100%",cellPadding:0,cellSpacing:0,className:`ng-block ng-block-h${n.level}`,bgcolor:n.background,style:{color:a,backgroundColor:n.background}};const i=p.useBlockProps.save(o),r={fontSize:n[`h${n.level}_size`],fontFamily:nglue_backend.font_names[l],lineHeight:n[`h${n.level}_lineheight`],fontWeight:n.fontweight.key,paddingTop:n[`h${n.level}_padding`].top,paddingBottom:n[`h${n.level}_padding`].bottom,paddingLeft:n[`h${n.level}_padding`].left,paddingRight:n[`h${n.level}_padding`].right,textAlign:n.textAlign,color:a},s={fontSize:n[`h${n.level}_size`],fontFamily:nglue_backend.font_names[l],lineHeight:n[`h${n.level}_lineheight`],fontWeight:n.fontweight.key,textAlign:n.textAlign,color:a},c="h"+n.level;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",i,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.textAlign,style:r},(0,e.createElement)(p.RichText.Content,{tagName:c,value:n.content,style:s}))))))}});const or="\n\thtml,body,:root {\n\t\tmargin: 0 !important;\n\t\tpadding: 0 !important;\n\t\toverflow: visible !important;\n\t\tmin-height: auto !important;\n\t}\n";function ir(t){let{content:n,isSelected:l}=t;const a=(0,Co.useSelect)((e=>e(p.store).getSettings()?.styles),[]),o=(0,e.useMemo)((()=>[or,...(0,p.transformStyles)(a)]),[a]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SandBox,{html:n,styles:o}),!l&&(0,e.createElement)("div",{className:"block-library-html__preview-overlay"}))}const rr=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M4.8 11.4H2.1V9H1v6h1.1v-2.6h2.7V15h1.1V9H4.8v2.4zm1.9-1.3h1.7V15h1.1v-4.9h1.7V9H6.7v1.1zM16.2 9l-1.5 2.7L13.3 9h-.9l-.8 6h1.1l.5-4 1.5 2.8 1.5-2.8.5 4h1.1L17 9h-.8zm3.8 5V9h-1.1v6h3.6v-1H20z"})),sr={from:[{type:"block",blocks:["newsletterglue/code"],transform:e=>{let{content:t}=e;return(0,bo.createBlock)("newsletterglue/html",{content:t})}}]};var cr=sr;let ur=!0;nglue_backend.is_allowed_post_type||(ur=!1),ur&&(0,bo.registerBlockType)("newsletterglue/html",{apiVersion:2,title:(0,i.__)("Custom HTML","newsletter-glue"),category:"newsletterglue-blocks",icon:rr,example:{attributes:{content:"<marquee>"+(0,i.__)("Welcome to the wonderful world of blocks…")+"</marquee>"}},description:(0,i.__)("Add custom HTML to your email.","newsletter-glue"),keywords:["newsletter","email","html"],attributes:{content:{type:"string",source:"raw"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}},edit:function(t){let{attributes:n,setAttributes:l,isSelected:a}=t;const[o,r]=(0,e.useState)(),c=(0,e.useContext)(s.Disabled.Context);return(0,e.createElement)("div",(0,p.useBlockProps)({className:"block-library-html__edit"}),(0,e.createElement)(p.BlockControls,null,(0,e.createElement)(s.ToolbarGroup,null,(0,e.createElement)(s.ToolbarButton,{className:"components-tab-button",isPressed:!o,onClick:function(){r(!1)}},"HTML"),(0,e.createElement)(s.ToolbarButton,{className:"components-tab-button",isPressed:o,onClick:function(){r(!0)}},(0,i.__)("Preview")))),o||c?(0,e.createElement)(ir,{content:n.content,isSelected:a}):(0,e.createElement)(p.PlainText,{value:n.content,onChange:e=>l({content:e}),placeholder:(0,i.__)("Write HTML…"),"aria-label":(0,i.__)("HTML")}))},save:function(t){let{attributes:n}=t;return(0,e.createElement)(e.RawHTML,null,n.content)},transforms:cr,supports:{customClassName:!1,className:!1,html:!1}});let dr={align:{type:"string"},url:{type:"string",source:"attribute",selector:"img",attribute:"src",role:"content"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:"",role:"content"},caption:{type:"string",source:"html",selector:"span",role:"content"},title:{type:"string",source:"attribute",selector:"img",attribute:"title",role:"content"},href:{type:"string",source:"attribute",selector:"td > a",attribute:"href",role:"content"},rel:{type:"string",source:"attribute",selector:"td > a",attribute:"rel"},linkClass:{type:"string",source:"attribute",selector:"td > a",attribute:"class"},id:{type:"number",role:"content"},threshold:{type:"number",default:600},width:{type:"number"},height:{type:"number"},sizeSlug:{type:"string"},linkDestination:{type:"string"},linkTarget:{type:"string",source:"attribute",selector:"td > a",attribute:"target"},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.image.fontsize},fontweight:{type:"object",default:vo.image.fontweight},background:{type:"string"},color:{type:"string"},padding:{type:"object",default:vo.image.padding},border:{type:"string"},borderSize:{type:"string"},radius:{type:"string"},mobile_keep_size:{type:"boolean",default:!1},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.image&&(dr.mobile_size={type:"string",default:vo.mobile.image.fontsize},dr.mobile_padding={type:"object",default:vo.mobile.image.padding},dr.mobile_width={type:"number"},dr.mobile_height={type:"number"});const mr=dr;var gr=window.wp.blob,pr=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),hr=window.wp.notices,br=window.wp.coreData,_r=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),fr=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M16.5 7.8v7H18v-7c0-1-.8-1.8-1.8-1.8h-7v1.5h7c.2 0 .3.1.3.3zm-8.7 8.7c-.1 0-.2-.1-.2-.2V2H6v4H2v1.5h4v8.8c0 1 .8 1.8 1.8 1.8h8.8v4H18v-4h4v-1.5H7.8z"})),vr=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),yr=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12-9.8c.4 0 .8-.3.9-.7l1.1-3h3.6l.5 1.7h1.9L13 9h-2.2l-3.4 9.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12H20V6c0-1.1-.9-2-2-2zm-6 7l1.4 3.9h-2.7L12 11z"}));const wr=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.image.fontsize,type:"unit"}],o=[{value:"padding",label:"Padding",default:vo.image.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,border:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:[{value:"background",label:"Background"},{value:"color",label:"Caption"},{value:"border",label:"Border"}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Caption"),resetAll:()=>{l({font:vo.font,fontsize:vo.block.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Border"),resetAll:()=>{l({borderSize:void 0,radius:void 0})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:[{value:"borderSize",label:"Border width",type:"unit",is_single:!0},{value:"radius",label:"Border radius",type:"unit",is_single:!0}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.block.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},Er=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_size",label:"Font size",default:vo.mobile.image.fontsize,type:"unit"}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.image.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Caption"),resetAll:()=>{l({mobile_size:vo.mobile.image.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.image.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},kr=20,xr="none",Cr="media",Sr="attachment",Nr="custom",zr=["image"];function Br(t){let{temporaryURL:n,attributes:l,setAttributes:a,isSelected:o,insertBlocksAfter:r,onReplace:c,onSelectImage:u,onSelectURL:d,onUploadError:m,containerRef:g,context:h,clientId:b,isContentLocked:_,className:f}=t;const{url:v="",alt:y,caption:w,align:E,id:k,href:x,rel:C,linkClass:S,linkDestination:N,title:z,width:B,height:T,mobile_width:P,mobile_height:A,linkTarget:I,sizeSlug:R}=l;let M=l.threshold;const L=(0,e.useRef)(),F=(0,xo.usePrevious)(w),[O,H]=(0,e.useState)(!!w),{allowResize:V=!0}=h,{getBlock:D}=(0,Co.useSelect)(p.store),{deviceType:j}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),$="Mobile"===j,{image:W,multiImageSelection:U}=(0,Co.useSelect)((e=>{const{getMedia:t}=e(br.store),{getMultiSelectedBlockClientIds:n,getBlockName:l}=e(p.store),a=n();return{image:k&&o?t(k,{context:"view"}):null,multiImageSelection:a.length&&a.every((e=>"core/image"===l(e)))}}),[k,o,b]);if(l.padding){let e=parseInt(l.padding.left),t=parseInt(l.padding.right);M=M-e-t}const{canInsertCover:G,imageEditing:q,mediaUpload:Y}=(0,Co.useSelect)((e=>{const{getBlockRootClientId:t,getSettings:n,canInsertBlockType:l}=e(p.store),a=t(b),o=n();return{imageEditing:o.imageEditing,imageSizes:o.imageSizes,maxWidth:M,mediaUpload:o.mediaUpload,canInsertCover:l("core/cover",a)}}),[b]),{replaceBlocks:Z,toggleSelection:K}=(0,Co.useDispatch)(p.store),{createErrorNotice:Q,createSuccessNotice:X}=(0,Co.useDispatch)(hr.store),J=(0,xo.useViewportMatch)("medium"),ee=["wide","full"].includes(E),[{loadedNaturalWidth:te,loadedNaturalHeight:ne},le]=(0,e.useState)({}),[ae,oe]=(0,e.useState)(!1),[ie,re]=(0,e.useState)(),se=function(t,n){const[l,a]=(0,e.useState)();function o(){a(t.current?.clientWidth)}return(0,e.useEffect)(o,n),(0,e.useEffect)((()=>{const{defaultView:e}=t.current.ownerDocument;return e.addEventListener("resize",o),()=>{e.removeEventListener("resize",o)}}),[]),l}(g,[E]),ce=V&&!_&&!(ee&&J),ue=!!Y;(0,e.useEffect)((()=>{Pr(k,v)&&o&&ue&&!ie&&window.fetch(v).then((e=>e.blob())).then((e=>re(e))).catch((()=>{}))}),[k,v,o,ie,ue]),(0,e.useEffect)((()=>{w&&!F&&H(!0)}),[w,F]),(0,e.useEffect)((()=>{let e;if(l.width){let t=L.current?.naturalHeight/L.current?.naturalWidth;e=(l.threshold<l.width?l.threshold:l.width)*t,l.threshold<l.width&&a({width:Math.floor(l.threshold)}),e&&a({height:Math.floor(e)})}}),[l.threshold]);const de=(0,e.useCallback)((e=>{e&&!w&&e.focus()}),[w]);var me=L.current?.naturalWidth>M?M:L.current?.naturalWidth;let ge;if(L.current?.naturalWidth>M){const e=L.current?.naturalHeight/L.current?.naturalWidth;ge=me*e}else ge=L.current?.naturalHeight;const{naturalWidth:pe,naturalHeight:he}=(0,e.useMemo)((()=>({naturalWidth:parseInt(me)||te||void 0,naturalHeight:parseInt(ge)||ne||void 0})),[te,ne,L.current?.complete,l.threshold]);function be(e){const t=W?.media_details?.sizes?.[e]?.source_url;if(!t)return null;a({url:t,width:void 0,height:void 0,sizeSlug:e})}(0,e.useEffect)((()=>{o||(oe(!1),w||H(!1))}),[o,w]);const _e=k&&pe&&he&&q,fe=!U&&_e&&!ae;var ve=pe;let ye;ye=ve>M?ve*(he/pe):he;const we=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},!_&&(0,e.createElement)(p.BlockAlignmentControl,{value:E,onChange:function(e){const t=["wide","full"].includes(e)?{width:void 0,height:void 0}:{};a({...t,align:e})}}),!_&&(0,e.createElement)(s.ToolbarButton,{onClick:()=>{H(!O),O&&w&&a({caption:void 0})},icon:_r,isPressed:O,label:O?(0,i.__)("Remove caption"):(0,i.__)("Add caption")}),!U&&!ae&&(0,e.createElement)(p.__experimentalImageURLInputUI,{url:x||"",onChangeUrl:function(e){a(e)},linkDestination:N,mediaUrl:W&&W.source_url||v,mediaLink:W&&W.link,linkTarget:I,linkClass:S,rel:C}),fe&&(0,e.createElement)(s.ToolbarButton,{onClick:()=>oe(!0),icon:fr,label:(0,i.__)("Crop")}),ie&&(0,e.createElement)(s.ToolbarButton,{onClick:function(){Y({filesList:[ie],onFileChange(e){let[t]=e;u(t),(0,gr.isBlobURL)(t.url)||(re(),X((0,i.__)("Image uploaded."),{type:"snackbar"}))},allowedTypes:zr,onError(e){Q(e,{type:"snackbar"})}})},icon:vr,label:(0,i.__)("Upload external image")}),!U&&G&&(0,e.createElement)(s.ToolbarButton,{icon:yr,label:(0,i.__)("Add text over image"),onClick:function(){Z(b,(0,bo.switchToBlockType)(D(b),"core/cover"))}})),!U&&!ae&&(0,e.createElement)(p.BlockControls,{group:"other"},(0,e.createElement)(p.MediaReplaceFlow,{mediaId:k,mediaURL:v,allowedTypes:zr,accept:"image/*",onSelect:u,onSelectURL:d,onError:m})),(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings"),className:"Desktop"!=j?"ng-mobile-control":""},!U&&"Mobile"!==j&&(0,e.createElement)(s.TextareaControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Alternative text"),value:y,onChange:function(e){a({alt:e})},help:(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,i.__)("Describe the purpose of the image.")),(0,e.createElement)("br",null),(0,i.__)("Leave empty if decorative."))}),"Mobile"===j&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Keep original image dimensions on mobile","newsletter-glue"),checked:l.mobile_keep_size,onChange:e=>{a({mobile_keep_size:e})}})),"Mobile"!==j&&(0,e.createElement)(p.__experimentalImageSizeControl,{onChangeImage:be,onChange:e=>a(e),slug:R,width:B,height:T,imageSizeOptions:!1,isResizable:!0,imageWidth:ve,imageHeight:ye,imageSizeHelp:(0,i.__)("Select the size of the source image.")}),"Mobile"===j&&!l.mobile_keep_size&&(0,e.createElement)(p.__experimentalImageSizeControl,{onChangeImage:be,onChange:e=>{e.width&&a({mobile_width:e.width}),e.height&&a({mobile_height:e.height})},slug:R,width:P,height:A,imageSizeOptions:!1,isResizable:!0,imageWidth:P,imageHeight:A,imageSizeHelp:(0,i.__)("Select the size of the source image.")})),"Mobile"!==j&&(0,e.createElement)(wr,{attributes:l,setAttributes:a,className:f,isSelected:o,clientId:b}),"Mobile"===j&&(0,e.createElement)(Er,{attributes:l,setAttributes:a,className:f,isSelected:o,clientId:b})),(0,e.createElement)(p.InspectorControls,{group:"advanced"},(0,e.createElement)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Title attribute"),value:z||"",onChange:function(e){a({title:e})},help:(0,e.createElement)(e.Fragment,null,(0,i.__)("Describe the role of this image on the page."),(0,e.createElement)(s.ExternalLink,{href:"https://www.w3.org/TR/html52/dom.html#the-title-attribute"},(0,i.__)("(Note: many devices and browsers do not display this text.)")))}))),Ee=(0,Bo.getFilename)(v);let ke;ke=y||(Ee?(0,i.sprintf)(/* translators: %s: file name */
(0,i.__)("This image has an empty alt attribute; its file name is %s"),Ee):(0,i.__)("This image has an empty alt attribute"));const xe=(0,p.__experimentalUseBorderProps)(l),Ce=l.className?.includes("is-style-rounded");var Se=l.width||pe,Ne=l.height||he;let ze,Be,Te={borderWidth:l.borderSize?l.borderSize:void 0,borderStyle:l.borderSize?"solid":"none",borderColor:l.borderSize?l.border:"transparent",borderRadius:l.radius?l.radius:void 0,boxSizing:"border-box"},Pe=(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:n||v,alt:ke,onError:()=>function(){const e=Fi({attributes:{url:v}});void 0!==e&&c(e)}(),onLoad:e=>{le({loadedNaturalWidth:e.target?.naturalWidth>M?M:e.target?.naturalWidth,loadedNaturalHeight:e.target?.naturalHeight}),l.width||a({width:Se,height:Ne})},ref:L,className:xe.className,style:Te,width:$?P:Se,height:$?A:Ne}),n&&(0,e.createElement)(s.Spinner,null));if(se&&pe&&he){const e=pe>se;ze=e?se:pe,Be=e?se*(he/pe):he}if(_e&&ae)Pe=(0,e.createElement)(p.__experimentalImageEditor,{id:k,url:v,width:B,height:T,clientWidth:se,naturalHeight:he,naturalWidth:pe,onSaveImage:e=>{a(e)},onFinishEditing:()=>{oe(!1)},borderProps:Ce?void 0:xe});else if(ce&&ze){const t=($&&P?P:B)||ze,n=($&&A?A:T)||Be,l=pe/he,r=pe<he?kr:kr*l,c=he<pe?kr:kr/l;let u=$?345:M,d=!1,m=!1;"center"===E?(d=!0,m=!0):(0,i.isRTL)()?"left"===E?d=!0:m=!0:"right"===E?m=!0:d=!0;let g=B||"auto";$&&(g=P||345);let p=T||"auto";$&&(p=A||"auto"),Pe=(0,e.createElement)(s.ResizableBox,{size:{width:g,height:p},showHandle:o,minWidth:r,maxWidth:u,minHeight:c,maxHeight:u/l,lockAspectRatio:!0,enable:{top:!1,right:d,bottom:!0,left:m},onResizeStart:function(){K(!1)},onResizeStop:(e,l,o,i)=>{K(!0),a($?{mobile_width:parseInt(t+i.width,10),mobile_height:parseInt(n+i.height,10)}:{width:parseInt(t+i.width,10),height:parseInt(n+i.height,10)})},resizeRatio:"center"===E?2:1},Pe)}else Pe=(0,e.createElement)("div",{style:{width:B,height:T}},Pe);const Ae=["center","right","left"].includes(E)?E:"center",Ie=l.color?l.color:vo.color,Re={fontFamily:nglue_backend.font_names[l.font.key],color:Ie,fontSize:$?l.mobile_size:l.fontsize,fontWeight:l.fontweight.key},Me=$?l.mobile_padding.bottom:l.padding.bottom;let Le,Fe;return Le={paddingTop:$?l.mobile_padding.top:l.padding.top,paddingBottom:Me,paddingLeft:$?l.mobile_padding.left:l.padding.left,paddingRight:$?l.mobile_padding.right:l.padding.right},O&&(Le.paddingBottom=0,Fe={paddingLeft:$?l.mobile_padding.left:l.padding.left,paddingRight:$?l.mobile_padding.right:l.padding.right,paddingBottom:Me,lineHeight:1.5,fontSize:$?l.mobile_size:l.fontsize,fontFamily:nglue_backend.font_names[l.font.key]}),(0,e.createElement)(e.Fragment,null,!n&&we,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:Ae,style:Le},Pe)),O&&(!p.RichText.isEmpty(w)||o)&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-caption",align:Ae,style:Fe},(0,e.createElement)(p.RichText,{identifier:"caption",ref:de,tagName:"span",style:Re,"aria-label":(0,i.__)("Image caption text"),placeholder:(0,i.__)("Add caption"),value:w,onChange:e=>a({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>r((0,bo.createBlock)("newsletterglue/text"))}))))}const Tr=(e,t)=>{const n=Object.fromEntries(Object.entries(null!=e?e:{}).filter((e=>{let[t]=e;return["alt","id","link","caption"].includes(t)})));return n.url=e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e.url,n},Pr=(e,t)=>t&&!e&&!(0,gr.isBlobURL)(t);const Ar=pr;let Ir="core/image";function Rr(e,t){const{body:n}=document.implementation.createHTMLDocument("");n.innerHTML=e;const{firstElementChild:l}=n;if(l&&"A"===l.nodeName)return l.getAttribute(t)||void 0}nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(Ir="newsletterglue/image");const Mr={img:{attributes:["src","alt","title"],classes:["alignleft","aligncenter","alignright","alignnone",/^wp-image-\d+$/]}},Lr={from:[{type:"raw",isMatch:e=>"FIGURE"===e.nodeName&&!!e.querySelector("img"),schema:e=>{let{phrasingContentSchema:t}=e;return{figure:{require:["img"],children:{...Mr,a:{attributes:["href","rel","target"],children:Mr},figcaption:{children:t}}}}},transform:e=>{const t=e.className+" "+e.querySelector("img").className,n=/(?:^|\s)align(left|center|right)(?:$|\s)/.exec(t),l=""===e.id?void 0:e.id,a=n?n[1]:void 0,o=/(?:^|\s)wp-image-(\d+)(?:$|\s)/.exec(t),i=o?Number(o[1]):void 0,r=e.querySelector("a"),s=r&&r.href?"custom":void 0,c=r&&r.href?r.href:void 0,u=r&&r.rel?r.rel:void 0,d=r&&r.className?r.className:void 0,m=(0,bo.getBlockAttributes)(Ir,e.outerHTML,{align:a,id:i,linkDestination:s,href:c,rel:u,linkClass:d,anchor:l});return(0,bo.createBlock)(Ir,m)}},{type:"files",isMatch(e){if(e.some((e=>0===e.type.indexOf("image/")))&&e.some((e=>0!==e.type.indexOf("image/")))){const{createErrorNotice:e}=(0,Co.dispatch)(hr.store);e((0,i.__)("If uploading to a gallery all files need to be image formats"),{id:"gallery-transform-invalid-file",type:"snackbar"})}return e.every((e=>0===e.type.indexOf("image/")))},transform(e){return e.map((e=>(0,bo.createBlock)(Ir,{url:(0,gr.createBlobURL)(e)})))}},{type:"shortcode",tag:"caption",attributes:{url:{type:"string",source:"attribute",attribute:"src",selector:"img"},alt:{type:"string",source:"attribute",attribute:"alt",selector:"img"},caption:{shortcode:function(e,t){let{shortcode:n}=t;const{body:l}=document.implementation.createHTMLDocument("");l.innerHTML=n.content;let a=l.querySelector("img");for(;a&&a.parentNode&&a.parentNode!==l;)a=a.parentNode;return a&&a.parentNode.removeChild(a),l.innerHTML.trim()}},href:{shortcode:(e,t)=>{let{shortcode:n}=t;return Rr(n.content,"href")}},rel:{shortcode:(e,t)=>{let{shortcode:n}=t;return Rr(n.content,"rel")}},linkClass:{shortcode:(e,t)=>{let{shortcode:n}=t;return Rr(n.content,"class")}},id:{type:"number",shortcode:e=>{let{named:{id:t}}=e;if(t)return parseInt(t.replace("attachment_",""),10)}},align:{type:"string",shortcode:e=>{let{named:{align:t="alignnone"}}=e;return t.replace("align","")}}}}]};var Fr=Lr;let Or=!0;nglue_backend.is_allowed_post_type||(Or=!1),Or&&(0,bo.registerBlockType)("newsletterglue/image",{apiVersion:2,title:(0,i.__)("Image","newsletter-glue"),category:"newsletterglue-blocks",icon:Ar,example:{},description:(0,i.__)("Add images to your email.","newsletter-glue"),keywords:["newsletter","email","image"],attributes:mr,edit:function(t){let{attributes:n,setAttributes:l,isSelected:a,className:o,insertBlocksAfter:r,onReplace:s,context:c,clientId:u}=t;const{url:d="",alt:m,caption:g,align:h,id:b,width:_,height:f,sizeSlug:v}=n,[y,w]=(0,e.useState)(),E=(0,e.useRef)();(0,e.useEffect)((()=>{E.current=m}),[m]);const k=(0,e.useRef)();(0,e.useEffect)((()=>{k.current=g}),[g]),(0,e.useEffect)((()=>{var e=600;n.padding&&(e=e-parseInt(n.padding.left)-parseInt(n.padding.right)),_>e&&l({width:e,height:parseInt(e*(f/_))})}),[n.padding]),(0,e.useEffect)((()=>{const e=(0,Co.select)("core/block-editor").getBlockHierarchyRootClientId(u);if(e){const t=(0,Co.select)("core/block-editor").getBlock(e);t&&t.innerBlocks&&t.innerBlocks.forEach((function(e){var t=(0,Co.select)("core/block-editor").getBlock(e.clientId),n=t.attributes.width?t.attributes.width:"";n&&t.innerBlocks&&t.innerBlocks.forEach((function(e){(0,Co.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{threshold:n})}))}))}}),[n]);const x=(0,e.useRef)(),{imageDefaultSize:C,mediaUpload:S,isContentLocked:N}=(0,Co.useSelect)((e=>{const{getSettings:t}=e(p.store),n=t();return{imageDefaultSize:n.imageDefaultSize,mediaUpload:n.mediaUpload}}),[]),{createErrorNotice:z}=(0,Co.useDispatch)(hr.store);function B(e){z(e,{type:"snackbar"}),l({src:void 0,id:void 0,url:void 0}),w(void 0)}function T(e){if(!e||!e.url)return void l({url:void 0,alt:void 0,id:void 0,title:void 0,caption:void 0});if((0,gr.isBlobURL)(e.url))return void w(e.url);w();let t,a=Tr(e,C);if(k.current&&!a.caption){const{caption:e,...t}=a;a=t}var o,i,r,s;t=e.id&&e.id===b?{url:d}:{width:void 0,height:void 0,sizeSlug:(o=e,i=C,"url"in(null!==(r=o?.sizes?.[i])&&void 0!==r?r:{})||"source_url"in(null!==(s=o?.media_details?.sizes?.[i])&&void 0!==s?s:{})?C:"full")};let c,u=n.linkDestination;if(!u)switch(window?.wp?.media?.view?.settings?.defaultProps?.link||xr){case"file":case Cr:u=Cr;break;case"post":case Sr:u=Sr;break;case Nr:u=Nr;break;case xr:u=xr}switch(u){case Cr:c=e.url;break;case Sr:c=e.link}a.href=c,l({...a,...t,linkDestination:u})}function P(e){e!==d&&l({url:e,id:void 0,width:void 0,height:void 0,sizeSlug:C})}let A=((e,t)=>!e&&(0,gr.isBlobURL)(t))(b,d);(0,e.useEffect)((()=>{if(!A)return;const e=(0,gr.getBlobByURL)(d);e&&S({filesList:[e],onFileChange:e=>{let[t]=e;T(t)},allowedTypes:zr,onError:e=>{A=!1,B(e)}})}),[]),(0,e.useEffect)((()=>{A?w(d):(0,gr.revokeBlobURL)(y)}),[A,d]);const I=Pr(b,d)?d:void 0,R=!!d&&(0,e.createElement)("img",{alt:(0,i.__)("Edit image"),title:(0,i.__)("Edit image"),className:"edit-image-preview",src:d}),M=(0,p.__experimentalUseBorderProps)(n),L=ko()(o,{"ng-block":!0,"is-transient":y,"is-resized":!!_||!!f,[`size-${v}`]:v,"has-custom-border":!!M.className||!(0,Ai.isEmpty)(M.style)}),F=(0,p.useBlockProps)({ref:x,width:"100%",cellPadding:0,cellSpacing:0,className:L,bgcolor:n.background,style:{backgroundColor:n.background}});return(0,e.createElement)("table",F,(0,e.createElement)("tbody",null,(y||d)&&(0,e.createElement)(Br,{temporaryURL:y,attributes:n,setAttributes:l,isSelected:a,insertBlocksAfter:r,onReplace:s,onSelectImage:T,onSelectURL:P,onUploadError:B,containerRef:x,context:c,clientId:u,isContentLocked:N}),!d&&!N&&(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.BlockAlignmentControl,{value:h,onChange:function(e){const t=["wide","full"].includes(e)?{width:void 0,height:void 0}:{};l({...t,align:e})}})),!d&&a&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)(p.MediaPlaceholder,{icon:(0,e.createElement)(p.BlockIcon,{icon:pr}),labels:{title:(0,i.__)("Newsletter Glue Image"),instructions:(0,i.__)("Upload an image file, pick one from your media library, or add one with a URL.")},onSelect:T,onSelectURL:P,onError:B,accept:"image/*",allowedTypes:zr,value:{id:b,src:I},mediaPreview:R,disableMediaButtons:y||d}))),!d&&!a&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{style:{padding:"20px",border:"1px dashed #ccc",backgroundColor:"#f7f7f7",textAlign:"center"}},(0,e.createElement)("div",{style:{minHeight:"80px",display:"flex",alignItems:"center",justifyContent:"center"}},(0,e.createElement)(p.BlockIcon,{icon:pr}))))))},save:function(t){let{attributes:n}=t;const{url:l,alt:a,caption:o,align:i,href:r,rel:s,linkClass:c,width:u,height:d,id:m,linkTarget:g,sizeSlug:h,title:b}=n,_=(0,Ai.isEmpty)(s)?void 0:s,f=(0,p.__experimentalGetBorderClassesAndStyles)(n),v=ko()({"ng-block":!0,[`align${i}`]:i,[`size-${h}`]:h,"is-resized":u||d,"has-custom-border":!!f.className||!(0,Ai.isEmpty)(f.style)}),y=ko()(f.className,{[`wp-image-${m}`]:!!m,"ng-image":!0,"ng-mobile-keep-size":n.mobile_keep_size});let w={borderWidth:n.borderSize?n.borderSize:void 0,borderStyle:n.borderSize?"solid":"none",borderColor:n.borderSize?n.border:"transparent",borderRadius:n.radius?n.radius:void 0,boxSizing:"border-box"};const E=(0,e.createElement)("img",{src:l,alt:a,className:y||void 0,style:w,width:u,height:d,title:b}),k=(0,e.createElement)(e.Fragment,null,r?(0,e.createElement)("a",{className:c,href:r,target:g,rel:_},E):E),x=["center","right","left"].includes(i)?i:"center",C={color:n.color?n.color:vo.color,fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],fontWeight:n.fontweight.key},S=n.padding.bottom;let N,z;return N={paddingTop:n.padding.top,paddingBottom:S,paddingLeft:n.padding.left,paddingRight:n.padding.right},o&&(N.paddingBottom=0,z={paddingLeft:n.padding.left,paddingRight:n.padding.right,paddingBottom:S,lineHeight:1.5,fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key]}),(0,e.createElement)("table",p.useBlockProps.save({width:"100%",cellPadding:0,cellSpacing:0,className:v,bgcolor:n.background,style:{backgroundColor:n.background}}),(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:x,style:N},k)),!p.RichText.isEmpty(o)&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-caption",align:x,style:z},(0,e.createElement)(p.RichText.Content,{tagName:"span",value:o,style:C})))))},__experimentalLabel(e,t){let{context:n}=t;if("accessibility"===n){const{caption:t,alt:n,url:l}=e;return l?n?n+(t?". "+t:""):t||"":(0,i.__)("Empty")}},getEditWrapperProps(e){return{"data-align":e.align}},transforms:Fr});const Hr={align:{type:"string"},url:{type:"string",source:"attribute",selector:"img",attribute:"src",default:nglue_backend.ad_inserter_placeholder_image,role:"content"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:"Advertisement Placeholder",role:"content"},title:{type:"string",source:"attribute",selector:"img",attribute:"title",default:"Advertisement Placeholder",role:"content"},width:{type:"number",default:600},height:{type:"number",default:400},adSource:{type:"string",default:""},adImageKey:{type:"string",default:"image_url"},adLink:{type:"string",default:""},adTrackingId:{type:"string",default:""},adZoneId:{type:"string",default:""},adZoneName:{type:"string",default:""},clientId:{type:"string",default:""},font:{type:"object",default:vo.font},background:{type:"string"},padding:{type:"object",default:vo.image.padding},border:{type:"string"},borderSize:{type:"string"},radius:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}},Vr=(0,e.createElement)("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"m157.52 272h36.96l-18.48-53.22zm194.48-16c-13.23 0-24 10.77-24 24s10.77 24 24 24 24-10.77 24-24-10.77-24-24-24zm112-192h-416c-26.5 0-48 21.5-48 48v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-288c0-26.5-21.5-48-48-48zm-213.42 288h-16.94c-6.81 0-12.88-4.32-15.12-10.75l-7.37-21.25h-70.29l-7.38 21.25a16 16 0 0 1 -15.12 10.75h-16.94c-11.01 0-18.73-10.85-15.12-21.25l53.7-154.63a23.995 23.995 0 0 1 22.67-16.12h26.66a23.99 23.99 0 0 1 22.67 16.13l53.69 154.62c3.61 10.4-4.11 21.25-15.11 21.25zm173.42-16c0 8.84-7.16 16-16 16h-16c-4.85 0-9.04-2.27-11.98-5.68-8.62 3.66-18.09 5.68-28.02 5.68-39.7 0-72-32.3-72-72s32.3-72 72-72c8.46 0 16.46 1.73 24 4.42v-36.42c0-8.84 7.16-16 16-16h16c8.84 0 16 7.16 16 16z"}));let Dr=!0;nglue_backend.is_allowed_post_type||(Dr=!1),Dr&&(0,bo.registerBlockType)("newsletterglue/ad-inserter",{apiVersion:2,title:(0,i.__)("Ad Inserter","newsletter-glue"),category:"newsletterglue-blocks",icon:Vr,example:{},description:(0,i.__)("Insert advertisement images in your email.","newsletter-glue"),keywords:["newsletter","email","image","ad","advertisement"],attributes:Hr,edit:function(n){let{attributes:l,setAttributes:a,isSelected:r,clientId:c}=n;const{url:u,alt:d,align:m,width:g,height:h,title:b,adSource:_,adImageKey:f,adLink:v,adTrackingId:y,show_in_web:w,show_in_email:k,adZoneId:x,adZoneName:C}=l,[S,N]=(0,t.useState)(""),[z,B]=(0,t.useState)(!1),[T,P]=(0,t.useState)([]),[A,I]=(0,t.useState)(null),[R,M]=(0,t.useState)(!1),[L,F]=(0,t.useState)([]),[O,H]=(0,t.useState)(!1),[V,D]=(0,t.useState)(""),[j,$]=(0,t.useState)(""),[W,U]=(0,t.useState)(!1),[G,q]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)(!1),[K,Q]=(0,t.useState)(!1),{deviceType:X}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),J="Mobile"===X?304:600;(0,t.useEffect)((()=>{ee(),a({clientId:c}),te()}),[]);const ee=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{console.log("Fetching ads from API...");const t=e?`/newsletter-glue/v1/ad-inserter/ads?search=${encodeURIComponent(e)}`:"/newsletter-glue/v1/ad-inserter/ads",n=await o()({path:t});console.log("API Response:",n),e&&P(n),M(!1)}catch(t){console.error("Error fetching ads:",t),M(!0),e&&P([])}finally{B(!1)}},te=async()=>{try{if(!x)return;const e=wp.data.select("core/editor").getCurrentPostId();o()({path:`/newsletter-glue/v1/broadstreet/get-ad-zone-options?post_id=${e}&zone_id=${x}`,method:"GET"}).then((e=>{e&&e.zone_name&&(a({adZoneName:e.zone_name}),q(!0),console.log("Loaded saved ad zone options:",e))})).catch((e=>{console.error("Error loading saved ad zone options:",e)}))}catch(e){console.error("Error loading saved ad zone options:",e)}},ne=()=>{U(!1)},le=(0,p.__experimentalUseBorderProps)(l),ae=ko()({"ng-block":!0,[`align${m}`]:m,"is-resized":g||h,"has-custom-border":!!le.className,"is-resizing":Y,"is-selected":r}),oe=(0,p.useBlockProps)({className:ae}),ie=u||(G&&x?"https://via.placeholder.com/600x400?text=Ad+Zone:+"+encodeURIComponent(C||x):"https://via.placeholder.com/600x400?text=Select+an+Ad"),re=_||A,se=()=>"number"==typeof g&&g>0?g:600,ce=()=>"number"==typeof h&&h>0?h:400;(0,t.useEffect)((()=>{x&&(D(x),$(C||""),q(!0))}),[]),(0,t.useEffect)((()=>{if(x&&C)return void q(!0);const e=wp.data.select("core/editor").getCurrentPostId();e&&o()({path:`/newsletter-glue/v1/broadstreet/get-ad-zone-options?post_id=${e}&zone_id=${x}`,method:"GET"}).then((e=>{console.log("Loaded ad zone options:",e),e.zone_id&&e.zone_name&&(a({adZoneId:e.zone_id,adZoneName:e.zone_name}),q(!0))})).catch((e=>{console.error("Error loading ad zone options:",e)}))}),[]);const ue=(e,t)=>{const n=parseInt(t,10);if(isNaN(n))return;const l=Math.max(50,Math.min(n,J));"width"===e?a({width:l}):"height"===e&&a({height:l})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.BlockAlignmentControl,{value:m,onChange:e=>a({align:e})})),(0,e.createElement)(p.InspectorControls,null,"new_pro"===nglue_backend.license_tier&&(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Ad Selection","newsletter-glue"),initialOpen:!0},G?(0,e.createElement)("div",{className:"ad-zone-selected"},(0,e.createElement)(s.Notice,{status:"success",isDismissible:!1},(0,e.createElement)("p",null,(0,i.__)("Ads will be automatically loaded from:","newsletter-glue"),(0,e.createElement)("strong",null,C||x))),(0,e.createElement)("div",{style:{marginTop:"10px"}},(0,e.createElement)(s.Button,{variant:"secondary",onClick:()=>{a({adZoneId:"",adZoneName:""}),D(""),$(""),q(!1)},isSmall:!0},(0,i.__)("Change Ad Zone","newsletter-glue")))):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SearchControl,{value:S,onChange:e=>{N(e),e?(B(!0),console.log("Searching for:",e),ee(e)):P([])},placeholder:(0,i.__)("Search for ads...","newsletter-glue"),className:"ad-search-control"}),"new_pro"===nglue_backend.license_tier&&nglue_backend.broadstreet_has_connection&&(0,e.createElement)("div",{style:{marginTop:"10px",marginBottom:"10px"}},(0,e.createElement)(s.Button,{variant:"secondary",onClick:()=>{(async()=>{try{H(!0);const e=await o()({path:"/newsletter-glue/v1/broadstreet/get-ad-zones",method:"POST"});if(e&&Array.isArray(e)){const t=e.map((e=>({label:e.name,value:e.id.toString(),name:e.name})));t.unshift({label:(0,i.__)("Select an Ad Zone","newsletter-glue"),value:"",name:""}),F(t)}else console.error("Invalid response format for ad zones:",e),F([])}catch(e){console.error("Error fetching ad zones:",e),F([])}finally{H(!1)}})(),U(!0)},style:{width:"100%"},isBusy:O},(0,i.__)("Insert from Ad Zone","newsletter-glue"))),z&&(0,e.createElement)("div",{className:"ad-search-loading"},(0,e.createElement)(s.Spinner,null),(0,e.createElement)("p",null,(0,i.__)("Searching ads...","newsletter-glue"))),T.length>0&&(0,e.createElement)("div",{className:"ad-search-results",style:{padding:"1%",margin:"1%"}},T.map((t=>(0,e.createElement)(s.Card,{key:t.id,className:"ad-search-result-item"},(0,e.createElement)(s.CardHeader,null,(0,e.createElement)("strong",null,t.title)),(0,e.createElement)(s.CardMedia,null,(0,e.createElement)("img",{src:t.adImage,alt:t.title,style:{maxHeight:"100px",width:"auto",margin:"0 auto"}})),(0,e.createElement)(s.CardFooter,null,(0,e.createElement)(s.Button,{variant:"primary",onClick:()=>(e=>{console.log("Selected ad:",e),I(e),a({url:e.adImage,adLink:e.url,alt:e.title,title:e.title,adSource:e.id,adTrackingId:`ad-${e.id}`}),P([]),N("")})(t),isSmall:!0},(0,i.__)("Select","newsletter-glue")),(0,e.createElement)("div",{className:"ad-meta"},(0,e.createElement)("span",{className:"ad-category"},t.category),(0,e.createElement)("span",{className:"ad-placement"},t.placement))))))),S&&0===T.length&&!z&&(0,e.createElement)("p",{className:"no-results"},(0,i.__)("No ads found matching your search.","newsletter-glue")))),"new_pro"===nglue_backend.license_tier&&(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Ad Settings","newsletter-glue")},(0,e.createElement)(s.TextControl,{label:(0,i.__)("Ad Source","newsletter-glue"),help:(0,i.__)("Enter the ad source URL or identifier","newsletter-glue"),value:_,onChange:e=>a({adSource:e})}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("Ad Image Key","newsletter-glue"),help:(0,i.__)("Enter the key that contains the ad image URL","newsletter-glue"),value:f,onChange:e=>a({adImageKey:e})}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("Ad Link","newsletter-glue"),help:(0,i.__)("URL where the ad should link to","newsletter-glue"),value:v,onChange:e=>a({adLink:e})}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("Tracking ID","newsletter-glue"),help:(0,i.__)("Optional tracking ID for analytics","newsletter-glue"),value:y,onChange:e=>a({adTrackingId:e})}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("Alt Text","newsletter-glue"),help:(0,i.__)("Alternative text for the image","newsletter-glue"),value:d,onChange:e=>a({alt:e})}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("Title","newsletter-glue"),help:(0,i.__)("Title attribute for the image","newsletter-glue"),value:b,onChange:e=>a({title:e})}),(0,e.createElement)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"}},(0,e.createElement)(s.TextControl,{type:"number",label:(0,i.__)("Width","newsletter-glue"),value:g||"",onChange:e=>ue("width",e),min:50,max:J}),(0,e.createElement)(s.TextControl,{type:"number",label:(0,i.__)("Height","newsletter-glue"),value:h||"",onChange:e=>ue("height",e),min:50,max:J}))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Display Settings","newsletter-glue")},(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Show in Web","newsletter-glue"),checked:w,onChange:()=>a({show_in_web:!w})}),(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Show in Email","newsletter-glue"),checked:k,onChange:()=>a({show_in_email:!k})}))),W&&(0,e.createElement)(s.Modal,{title:(0,i.__)("Select Ad Zone","newsletter-glue"),onRequestClose:ne,className:"ad-zone-modal"},O?(0,e.createElement)("div",{style:{display:"flex",justifyContent:"center",padding:"20px"}},(0,e.createElement)(s.Spinner,null),(0,e.createElement)("p",{style:{marginLeft:"10px"}},(0,i.__)("Loading ad zones...","newsletter-glue"))):(0,e.createElement)(e.Fragment,null,L.length>0?(0,e.createElement)("div",{style:{padding:"20px"}},(0,e.createElement)(s.SelectControl,{label:(0,i.__)("Available Ad Zones","newsletter-glue"),value:V,options:L,onChange:e=>D(e)}),(0,e.createElement)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"flex-end"}},(0,e.createElement)(s.Button,{variant:"secondary",onClick:ne,style:{marginRight:"10px"}},(0,i.__)("Cancel","newsletter-glue")),(0,e.createElement)(s.Button,{variant:"primary",onClick:()=>(async e=>{if(e)try{B(!0);const t=L.find((t=>t.value===e)),n=t?t.name:"";a({adZoneId:e,adZoneName:n}),$(n),q(!0);const l=wp.data.select("core/editor").getCurrentPostId();await o()({path:"/newsletter-glue/v1/broadstreet/save-ad-zone-options",method:"POST",data:{zone_id:e,zone_name:n,post_id:l}});const i=await o()({path:"/newsletter-glue/v1/broadstreet/get-ad-zone-advertisements",method:"POST",data:{zone_id:e}});i&&Array.isArray(i)&&await o()({path:"/newsletter-glue/v1/broadstreet/save-ad-zone-options",method:"POST",data:{advertisements:JSON.stringify(i),post_id:l,zone_id:e}})}catch(e){console.error("Error handling zone selection:",e)}finally{B(!1),U(!1)}})(V),disabled:!V,isBusy:z},(0,i.__)("Select Ad Zone","newsletter-glue")))):(0,e.createElement)("div",{style:{padding:"20px"}},(0,e.createElement)("p",null,(0,i.__)("No ad zones found. Please make sure you have ad zones set up in Broadstreet.","newsletter-glue")),(0,e.createElement)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"flex-end"}},(0,e.createElement)(s.Button,{variant:"secondary",onClick:ne},(0,i.__)("Close","newsletter-glue")))))),(0,e.createElement)("div",oe,"new_pro"===nglue_backend.license_tier&&("string"==typeof nglue_backend.broadstreet_access_token&&""!==nglue_backend.broadstreet_access_token.trim()&&nglue_backend.broadstreet_available||nglue_backend.advanced_ads_available)&&(0,e.createElement)("figure",{className:"wp-block-image",style:{display:"flex",justifyContent:"center"}},re?(0,e.createElement)(s.ResizableBox,{size:{width:se(),height:ce()},minWidth:50,maxWidth:J,minHeight:50,maxHeight:J,lockAspectRatio:!1,enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},onResizeStart:()=>Z(!0),onResizeStop:(e,t,n,l)=>{Z(!1),a({width:parseInt(se()+l.width,10),height:parseInt(ce()+l.height,10)})}},(0,e.createElement)("img",E({src:u,alt:d,title:b,style:{width:"100%",height:"100%",...le.style}},le.attributes))):(0,e.createElement)("div",{className:"ad-inserter-placeholder",style:{position:"relative",width:"100%"}},(0,e.createElement)("img",E({src:ie,alt:d||(0,i.__)("Advertisement Placeholder","newsletter-glue"),title:b||(0,i.__)("Advertisement Placeholder","newsletter-glue"),style:{width:"100%",height:"auto",...le.style}},le.attributes)),G&&x&&(0,e.createElement)("div",{className:"ad-zone-indicator",style:{position:"absolute",top:0,left:0,right:0,backgroundColor:"rgba(0, 120, 200, 0.8)",color:"white",padding:"8px 12px",fontSize:"14px",fontWeight:"bold",textAlign:"center",borderTopLeftRadius:le.style.borderRadius||"0",borderTopRightRadius:le.style.borderRadius||"0"}},(0,e.createElement)("span",{className:"dashicons dashicons-update",style:{marginRight:"5px"}}),(0,i.__)("Dynamic Ad Zone:","newsletter-glue")," ",C||x),!G&&!re&&(0,e.createElement)("div",{className:"ad-inserter-overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e5e5e5",color:"#333"}},(0,e.createElement)("div",{className:"ad-inserter-info",style:{textAlign:"center",padding:"20px"}},(0,e.createElement)("p",null,(0,i.__)("Search for an ad manually or select an ad zone.","newsletter-glue")))))),""===nglue_backend.broadstreet_access_token&&"new_pro"===nglue_backend.license_tier&&nglue_backend.broadstreet_available&&!nglue_backend.advanced_ads_available&&(0,e.createElement)("div",{style:{display:"block",width:"600px",height:"400px",backgroundColor:"#e5e5e5"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",backgroundColor:"#e5e5e5"}},(0,e.createElement)("div",{style:{textAlign:"center",backgroundColor:"#fff",padding:"5px 20px",borderRadius:"5px"}},(0,e.createElement)("p",{style:{fontSize:"16px",color:"#333",margin:"5px"}},(0,i.__)("Please connect to Broadstreet to use this block","newsletter-glue")),(0,e.createElement)("a",{href:"/wp-admin/admin.php?page=newsletter-glue-settings#/broadstreet",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#0088a0"}},(0,i.__)("Click here to connect","newsletter-glue"))))),"new_pro"!==nglue_backend.license_tier&&(0,e.createElement)("div",{style:{display:"block",width:"600px",height:"400px",backgroundColor:"#e5e5e5"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",backgroundColor:"#e5e5e5"}},(0,e.createElement)("div",{style:{textAlign:"center",backgroundColor:"#fff",padding:"5px 20px",borderRadius:"5px"}},(0,e.createElement)("p",{style:{fontSize:"16px",color:"#333",margin:"5px"}},(0,i.__)("The Ad Inserter block is available in the Pro plan.","newsletter-glue")),(0,e.createElement)("a",{href:"https://newsletterglue.com/pricing/?utm_source=wp_admin&utm_medium=block&utm_campaign=ad_inserter&utm_content=upgrade",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#0088a0"}},(0,i.__)("Click here to upgrade","newsletter-glue")))))))},save:function(t){let{attributes:n}=t;const{url:l,alt:a,align:o,width:i,height:r,title:s,adLink:c,show_in_web:u,show_in_email:d,adZoneId:m,adZoneName:g,clientId:h}=n,b=(0,p.__experimentalGetBorderClassesAndStyles)(n),_=ko()({"ng-block":!0,[`align${o}`]:o,"is-resized":i||r,"has-custom-border":!!b.className,"ng-ad-inserter":!0,"ng-hide-web":!u,"ng-hide-email":!d}),f=p.useBlockProps.save({className:_,"data-ad-zone-id":m||"","data-ad-zone-name":g||"","data-block-client-id":h||""}),v=l||nglue_backend.ad_inserter_placeholder_image,y=()=>(0,e.createElement)("img",{src:v,alt:a||"",title:s||"",width:i,height:r,className:b.className,style:{...b.style,width:i?`${i}px`:void 0,height:r?`${r}px`:void 0}});return(0,e.createElement)("div",f,(0,e.createElement)("figure",{className:"wp-block-image"},c?(0,e.createElement)("a",{href:c,target:"_blank",rel:"noopener noreferrer"},(0,e.createElement)(y,null)):(0,e.createElement)(y,null)))},__experimentalLabel(e,t){let{context:n}=t;if("accessibility"===n){const{alt:t,url:n}=e;return n?t||"":(0,i.__)("Empty")}},getEditWrapperProps(e){return{"data-align":e.align}}});let jr={stacked_on_mobile:{type:"boolean",default:!0},font:{type:"object",default:vo.font},font_title:{type:"object",default:vo.font},font_text:{type:"object",default:vo.font},font_label:{type:"object",default:vo.font},font_author:{type:"object",default:vo.font},font_button:{type:"object",default:vo.font},containerWidth:{type:"string"},itemBase:{type:"string"},div1:{type:"string"},div2:{type:"string"},contentstyle:{type:"string",default:"multi"},filter:{type:"string",default:"include"},image_position:{type:"string",default:"left"},table_ratio:{type:"string",default:"30_70"},filter_authors:{type:"array"},filter_cpts:{type:"array"},filter_categories:{type:"array"},filter_tags:{type:"array"},hidden_posts:{type:"array",default:[]},sortby:{type:"object"},dates:{type:"object"},week_starts:{type:"object"},month_starts:{type:"object"},two_weeks_starts:{type:"object"},starts_time:{type:"object"},border_style:{type:"object"},posts_num:{type:"number",default:4},offset:{type:"number",default:0},columns_num:{type:"string",default:"one"},postlength:{type:"string",default:"excerpt"},words_num:{type:"number",default:30},image_radius:{type:"number",default:0},border_radius:{type:"number",default:0},show_divider:{type:"boolean",default:!1},divider_size:{type:"string",default:"1"},divider_bg:{type:"string"},border_size:{type:"number",default:0},update_posts:{type:"string"},show_label:{type:"boolean",default:!0},show_author:{type:"boolean",default:!1},show_heading:{type:"boolean",default:!0},show_image:{type:"boolean",default:!0},show_excerpt:{type:"boolean",default:!0},show_cta:{type:"boolean",default:!0},label_type:{type:"string",default:"category"},cta_type:{type:"string",default:"link"},cta_link:{type:"string",default:"Read more"},posts:{type:"array"},hash:{type:"string"},custom_data:{type:"array",default:[]},fontsize_title:{type:"string",default:vo.posts.fontsize_title},fontsize_text:{type:"string",default:vo.posts.fontsize_text},fontsize_label:{type:"string",default:vo.posts.fontsize_label},fontsize_author:{type:"string",default:vo.posts.fontsize_author},fontsize_button:{type:"string",default:vo.posts.fontsize_button},background_color:{type:"string"},border_color:{type:"string"},text_color:{type:"string"},title_color:{type:"string"},label_color:{type:"string"},author_color:{type:"string"},link:{type:"string",default:vo.colors.primary},button:{type:"string",default:vo.colors.btn_bg},button_text:{type:"string",default:vo.colors.btn_colour},padding:{type:"object",default:vo.posts.padding},margin:{type:"object",default:vo.posts.margin},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},insertRssPosts:{type:"boolean",default:!1},rssfeed:{type:"string",default:""},taxonomies:{type:"array",default:[]},order:{type:"array",default:[1,2,3,4,5]},viewport:{type:"string",default:"Desktop"}};nglue_backend.tax_types.forEach((e=>{jr[`${e}_terms`]={type:"array",default:[]}})),vo.mobile.posts&&(jr.mobile_padding={type:"object",default:vo.mobile.posts.padding},jr.mobile_margin={type:"object",default:vo.mobile.posts.margin},jr.mobile_fontsize_title={type:"string",default:vo.mobile.posts.fontsize_title},jr.mobile_fontsize_text={type:"string",default:vo.mobile.posts.fontsize_text},jr.mobile_fontsize_label={type:"string",default:vo.mobile.posts.fontsize_label},jr.mobile_fontsize_author={type:"string",default:vo.mobile.posts.fontsize_author},jr.mobile_fontsize_button={type:"string",default:vo.mobile.posts.fontsize_button});const $r=jr,Wr=t=>{const{attributes:n,setAttributes:l}=t;return(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Border options","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Border radius (pixels)","newsletter-glue"),value:n.border_radius,onChange:e=>l({border_radius:e}),min:0,max:50,allowReset:!0,resetFallbackValue:0})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Border thickness (pixels)","newsletter-glue"),value:n.border_size,onChange:e=>l({border_size:e}),min:0,max:20,allowReset:!0,resetFallbackValue:0})),n.border_size>0&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Border style","newsletter-glue"),id:"ngl-select-border"},(0,e.createElement)(dl,{name:"ngl-select-border",inputId:"ngl-select-border",classNamePrefix:"ngl",value:n.border_style,defaultValue:{label:(0,i.__)("Solid","newsletter-glue"),value:"solid"},options:[{label:(0,i.__)("Solid","newsletter-glue"),value:"solid"},{label:(0,i.__)("Dashed","newsletter-glue"),value:"dashed"},{label:(0,i.__)("Dotted","newsletter-glue"),value:"dotted"}],onChange:e=>{l({border_style:e})}}))),n.show_image&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Image border radius (pixels)","newsletter-glue"),value:n.image_radius,onChange:e=>l({image_radius:e}),min:0,max:50,allowReset:!0,resetFallbackValue:0})))};var Ur=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"})),Gr=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),qr=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));const Yr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Zr(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Kr(e){return"nodeType"in e}function Qr(e){var t,n;return e?Zr(e)?e:Kr(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Xr(e){const{Document:t}=Qr(e);return e instanceof t}function Jr(e){return!Zr(e)&&e instanceof Qr(e).HTMLElement}function es(e){return e?Zr(e)?e.document:Kr(e)?Xr(e)?e:Jr(e)?e.ownerDocument:document:document:document}const ts=Yr?t.useLayoutEffect:t.useEffect;function ns(e){const n=(0,t.useRef)(e);return ts((()=>{n.current=e})),(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return null==n.current?void 0:n.current(...t)}),[])}function ls(e,n){void 0===n&&(n=[e]);const l=(0,t.useRef)(e);return ts((()=>{l.current!==e&&(l.current=e)}),n),l}function as(e,n){const l=(0,t.useRef)();return(0,t.useMemo)((()=>{const t=e(l.current);return l.current=t,t}),[...n])}function os(e){const n=ns(e),l=(0,t.useRef)(null),a=(0,t.useCallback)((e=>{e!==l.current&&(null==n||n(e,l.current)),l.current=e}),[]);return[l,a]}function is(e){const n=(0,t.useRef)();return(0,t.useEffect)((()=>{n.current=e}),[e]),n.current}let rs={};function ss(e,n){return(0,t.useMemo)((()=>{if(n)return n;const t=null==rs[e]?0:rs[e]+1;return rs[e]=t,e+"-"+t}),[e,n])}function cs(e){return function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];return l.reduce(((t,n)=>{const l=Object.entries(n);for(const[n,a]of l){const l=t[n];null!=l&&(t[n]=l+e*a)}return t}),{...t})}}const us=cs(1),ds=cs(-1);function ms(e){if(!e)return!1;const{KeyboardEvent:t}=Qr(e.target);return t&&e instanceof t}function gs(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Qr(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const ps=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ps.Translate.toString(e),ps.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:l}=e;return t+" "+n+"ms "+l}}}),hs="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bs(e){return e.matches(hs)?e:e.querySelector(hs)}const _s={display:"none"};function fs(e){let{id:t,value:n}=e;return l().createElement("div",{id:t,style:_s},n)}const vs={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function ys(e){let{id:t,announcement:n}=e;return l().createElement("div",{id:t,style:vs,role:"status","aria-live":"assertive","aria-atomic":!0},n)}const ws=(0,t.createContext)(null),Es={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ks={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xs(e){let{announcements:n=ks,container:a,hiddenTextDescribedById:o,screenReaderInstructions:i=Es}=e;const{announce:r,announcement:s}=function(){const[e,n]=(0,t.useState)("");return{announce:(0,t.useCallback)((e=>{null!=e&&n(e)}),[]),announcement:e}}(),c=ss("DndLiveRegion"),[u,d]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{d(!0)}),[]),function(e){const n=(0,t.useContext)(ws);(0,t.useEffect)((()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)}),[e,n])}((0,t.useMemo)((()=>({onDragStart(e){let{active:t}=e;r(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:l}=e;n.onDragMove&&r(n.onDragMove({active:t,over:l}))},onDragOver(e){let{active:t,over:l}=e;r(n.onDragOver({active:t,over:l}))},onDragEnd(e){let{active:t,over:l}=e;r(n.onDragEnd({active:t,over:l}))},onDragCancel(e){let{active:t,over:l}=e;r(n.onDragCancel({active:t,over:l}))}})),[r,n])),!u)return null;const m=l().createElement(l().Fragment,null,l().createElement(fs,{id:o,value:i.draggable}),l().createElement(ys,{id:c,announcement:s}));return a?(0,_t.createPortal)(m,a):m}var Cs;function Ss(){}function Ns(e,n){return(0,t.useMemo)((()=>({sensor:e,options:null!=n?n:{}})),[e,n])}function zs(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return(0,t.useMemo)((()=>[...n].filter((e=>null!=e))),[...n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Cs||(Cs={}));const Bs=Object.freeze({x:0,y:0});function Ts(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ps(e,t){let{data:{value:n}}=e,{data:{value:l}}=t;return n-l}function As(e,t){let{data:{value:n}}=e,{data:{value:l}}=t;return l-n}function Is(e){let{left:t,top:n,height:l,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+l},{x:t+a,y:n+l}]}function Rs(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function Ms(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Ls=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:l}=e;const a=Ms(t,t.left,t.top),o=[];for(const e of l){const{id:t}=e,l=n.get(t);if(l){const n=Ts(Ms(l),a);o.push({id:t,data:{droppableContainer:e,value:n}})}}return o.sort(Ps)};function Fs(e,t){const n=Math.max(t.top,e.top),l=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=a-l,r=o-n;if(l<a&&n<o){const n=t.width*t.height,l=e.width*e.height,a=i*r;return Number((a/(n+l-a)).toFixed(4))}return 0}const Os=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:l}=e;const a=[];for(const e of l){const{id:l}=e,o=n.get(l);if(o){const n=Fs(o,t);n>0&&a.push({id:l,data:{droppableContainer:e,value:n}})}}return a.sort(As)};function Hs(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Bs}function Vs(e){return function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];return l.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const Ds=Vs(1);const js={ignoreTransform:!1};function $s(e,t){void 0===t&&(t=js);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:l}=Qr(e).getComputedStyle(e);t&&(n=function(e,t,n){const l=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!l)return e;const{scaleX:a,scaleY:o,x:i,y:r}=l,s=e.left-i-(1-a)*parseFloat(n),c=e.top-r-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,d=o?e.height/o:e.height;return{width:u,height:d,top:c,right:s+u,bottom:c+d,left:s}}(n,t,l))}const{top:l,left:a,width:o,height:i,bottom:r,right:s}=n;return{top:l,left:a,width:o,height:i,bottom:r,right:s}}function Ws(e){return $s(e,{ignoreTransform:!0})}function Us(e,t){const n=[];return e?function l(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(Xr(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Jr(a)||function(e){return e instanceof Qr(e).SVGElement}(a))return n;if(n.includes(a))return n;const o=Qr(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=Qr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const l=t[e];return"string"==typeof l&&n.test(l)}))}(a,o)&&n.push(a),function(e,t){return void 0===t&&(t=Qr(e).getComputedStyle(e)),"fixed"===t.position}(a,o)?n:l(a.parentNode)}(e):n}function Gs(e){const[t]=Us(e,1);return null!=t?t:null}function qs(e){return Yr&&e?Zr(e)?e:Kr(e)?Xr(e)||e===es(e).scrollingElement?window:Jr(e)?e:null:null:null}function Ys(e){return Zr(e)?e.scrollX:e.scrollLeft}function Zs(e){return Zr(e)?e.scrollY:e.scrollTop}function Ks(e){return{x:Ys(e),y:Zs(e)}}var Qs;function Xs(e){return!(!Yr||!e)&&e===document.scrollingElement}function Js(e){const t={x:0,y:0},n=Xs(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},l={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=l.y,isRight:e.scrollLeft>=l.x,maxScroll:l,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Qs||(Qs={}));const ec={x:.2,y:.2};function tc(e,t,n,l,a){let{top:o,left:i,right:r,bottom:s}=n;void 0===l&&(l=10),void 0===a&&(a=ec);const{isTop:c,isBottom:u,isLeft:d,isRight:m}=Js(e),g={x:0,y:0},p={x:0,y:0},h=t.height*a.y,b=t.width*a.x;return!c&&o<=t.top+h?(g.y=Qs.Backward,p.y=l*Math.abs((t.top+h-o)/h)):!u&&s>=t.bottom-h&&(g.y=Qs.Forward,p.y=l*Math.abs((t.bottom-h-s)/h)),!m&&r>=t.right-b?(g.x=Qs.Forward,p.x=l*Math.abs((t.right-b-r)/b)):!d&&i<=t.left+b&&(g.x=Qs.Backward,p.x=l*Math.abs((t.left+b-i)/b)),{direction:g,speed:p}}function nc(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:l,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:l,bottom:a,width:e.clientWidth,height:e.clientHeight}}function lc(e){return e.reduce(((e,t)=>us(e,Ks(t))),Bs)}const ac=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+Ys(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Zs(t)),0)}]];class oc{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Us(t),l=lc(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,a]of ac)for(const o of t)Object.defineProperty(this,o,{get:()=>{const t=a(n),i=l[e]-t;return this.rect[o]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ic{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var l;null==(l=this.target)||l.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function rc(e,t){const n=Math.abs(e.x),l=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+l**2)>t:"x"in t&&"y"in t?n>t.x&&l>t.y:"x"in t?n>t.x:"y"in t&&l>t.y}var sc,cc;function uc(e){e.preventDefault()}function dc(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(sc||(sc={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(cc||(cc={}));const mc={start:[cc.Space,cc.Enter],cancel:[cc.Esc],end:[cc.Space,cc.Enter]},gc=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case cc.Right:return{...n,x:n.x+25};case cc.Left:return{...n,x:n.x-25};case cc.Down:return{...n,y:n.y+25};case cc.Up:return{...n,y:n.y-25}}};class pc{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ic(es(t)),this.windowListeners=new ic(Qr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(sc.Resize,this.handleCancel),this.windowListeners.add(sc.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(sc.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=$s),!e)return;const{top:n,left:l,bottom:a,right:o}=t(e);Gs(e)&&(a<=0||o<=0||n>=window.innerHeight||l>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(Bs)}handleKeyDown(e){if(ms(e)){const{active:t,context:n,options:l}=this.props,{keyboardCodes:a=mc,coordinateGetter:o=gc,scrollBehavior:i="smooth"}=l,{code:r}=e;if(a.end.includes(r))return void this.handleEnd(e);if(a.cancel.includes(r))return void this.handleCancel(e);const{collisionRect:s}=n.current,c=s?{x:s.left,y:s.top}:Bs;this.referenceCoordinates||(this.referenceCoordinates=c);const u=o(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=ds(u,c),l={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:o,isRight:r,isLeft:s,isBottom:c,maxScroll:d,minScroll:m}=Js(n),g=nc(n),p={x:Math.min(a===cc.Right?g.right-g.width/2:g.right,Math.max(a===cc.Right?g.left:g.left+g.width/2,u.x)),y:Math.min(a===cc.Down?g.bottom-g.height/2:g.bottom,Math.max(a===cc.Down?g.top:g.top+g.height/2,u.y))},h=a===cc.Right&&!r||a===cc.Left&&!s,b=a===cc.Down&&!c||a===cc.Up&&!o;if(h&&p.x!==u.x){const e=n.scrollLeft+t.x,o=a===cc.Right&&e<=d.x||a===cc.Left&&e>=m.x;if(o&&!t.y)return void n.scrollTo({left:e,behavior:i});l.x=o?n.scrollLeft-e:a===cc.Right?n.scrollLeft-d.x:n.scrollLeft-m.x,l.x&&n.scrollBy({left:-l.x,behavior:i});break}if(b&&p.y!==u.y){const e=n.scrollTop+t.y,o=a===cc.Down&&e<=d.y||a===cc.Up&&e>=m.y;if(o&&!t.x)return void n.scrollTo({top:e,behavior:i});l.y=o?n.scrollTop-e:a===cc.Down?n.scrollTop-d.y:n.scrollTop-m.y,l.y&&n.scrollBy({top:-l.y,behavior:i});break}}this.handleMove(e,us(ds(u,this.referenceCoordinates),l))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function hc(e){return Boolean(e&&"distance"in e)}function bc(e){return Boolean(e&&"delay"in e)}pc.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:l=mc,onActivation:a}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(l.start.includes(i)){const t=o.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==a||a({event:e.nativeEvent}),0))}return!1}}];class _c{constructor(e,t,n){var l;void 0===n&&(n=function(e){const{EventTarget:t}=Qr(e);return e instanceof t?e:es(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:o}=a;this.props=e,this.events=t,this.document=es(o),this.documentListeners=new ic(this.document),this.listeners=new ic(n),this.windowListeners=new ic(Qr(o)),this.initialCoordinates=null!=(l=gs(a))?l:Bs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(sc.Resize,this.handleCancel),this.windowListeners.add(sc.DragStart,uc),this.windowListeners.add(sc.VisibilityChange,this.handleCancel),this.windowListeners.add(sc.ContextMenu,uc),this.documentListeners.add(sc.Keydown,this.handleKeydown),t){if(hc(t))return;if(bc(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(sc.Click,dc,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(sc.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:l,props:a}=this,{onMove:o,options:{activationConstraint:i}}=a;if(!l)return;const r=null!=(t=gs(e))?t:Bs,s=ds(l,r);if(!n&&i){if(bc(i))return rc(s,i.tolerance)?this.handleCancel():void 0;if(hc(i))return null!=i.tolerance&&rc(s,i.tolerance)?this.handleCancel():rc(s,i.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),o(r)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===cc.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const fc={move:{name:"pointermove"},end:{name:"pointerup"}};class vc extends _c{constructor(e){const{event:t}=e,n=es(t.target);super(e,fc,n)}}vc.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:l}=t;return!(!n.isPrimary||0!==n.button||(null==l||l({event:n}),0))}}];const yc={move:{name:"mousemove"},end:{name:"mouseup"}};var wc;!function(e){e[e.RightClick=2]="RightClick"}(wc||(wc={})),class extends _c{constructor(e){super(e,yc,es(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:l}=t;return n.button!==wc.RightClick&&(null==l||l({event:n}),!0)}}];const Ec={move:{name:"touchmove"},end:{name:"touchend"}};var kc,xc;(class extends _c{constructor(e){super(e,Ec)}static setup(){return window.addEventListener(Ec.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ec.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:l}=t;const{touches:a}=n;return!(a.length>1||(null==l||l({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(kc||(kc={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(xc||(xc={}));const Cc={x:{[Qs.Backward]:!1,[Qs.Forward]:!1},y:{[Qs.Backward]:!1,[Qs.Forward]:!1}};var Sc,Nc;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Sc||(Sc={})),function(e){e.Optimized="optimized"}(Nc||(Nc={}));const zc=new Map;function Bc(e,t){return as((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function Tc(e){let{callback:n,disabled:l}=e;const a=ns(n),o=(0,t.useMemo)((()=>{if(l||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)}),[l]);return(0,t.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}function Pc(e){return new oc($s(e),e)}function Ac(e,n,l){void 0===n&&(n=Pc);const[a,o]=(0,t.useReducer)((function(t){if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=t?t:l)?a:null;const o=n(e);return JSON.stringify(t)===JSON.stringify(o)?t:o}),null),i=function(e){let{callback:n,disabled:l}=e;const a=ns(n),o=(0,t.useMemo)((()=>{if(l||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)}),[a,l]);return(0,t.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}({callback(t){if(e)for(const n of t){const{type:t,target:l}=n;if("childList"===t&&l instanceof HTMLElement&&l.contains(e)){o();break}}}}),r=Tc({callback:o});return ts((()=>{o(),e?(null==r||r.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==r||r.disconnect(),null==i||i.disconnect())}),[e]),a}const Ic=[];function Rc(e,n){void 0===n&&(n=[]);const l=(0,t.useRef)(null);return(0,t.useEffect)((()=>{l.current=null}),n),(0,t.useEffect)((()=>{const t=e!==Bs;t&&!l.current&&(l.current=e),!t&&l.current&&(l.current=null)}),[e]),l.current?ds(e,l.current):Bs}function Mc(e){return(0,t.useMemo)((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const Lc=[];const Fc=[{sensor:vc,options:{}},{sensor:pc,options:{}}],Oc={current:{}},Hc={draggable:{measure:Ws},droppable:{measure:Ws,strategy:Sc.WhileDragging,frequency:Nc.Optimized},dragOverlay:{measure:$s}};class Vc extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Dc={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ss},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Hc,measureDroppableContainers:Ss,windowRect:null,measuringScheduled:!1},jc={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ss,draggableNodes:new Map,over:null,measureDroppableContainers:Ss},$c=(0,t.createContext)(jc),Wc=(0,t.createContext)(Dc);function Uc(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vc}}}function Gc(e,t){switch(t.type){case Cs.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Cs.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Cs.DragEnd:case Cs.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Cs.RegisterDroppable:{const{element:n}=t,{id:l}=n,a=new Vc(e.droppable.containers);return a.set(l,n),{...e,droppable:{...e.droppable,containers:a}}}case Cs.SetDroppableDisabled:{const{id:n,key:l,disabled:a}=t,o=e.droppable.containers.get(n);if(!o||l!==o.key)return e;const i=new Vc(e.droppable.containers);return i.set(n,{...o,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case Cs.UnregisterDroppable:{const{id:n,key:l}=t,a=e.droppable.containers.get(n);if(!a||l!==a.key)return e;const o=new Vc(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function qc(e){let{disabled:n}=e;const{active:l,activatorEvent:a,draggableNodes:o}=(0,t.useContext)($c),i=is(a),r=is(null==l?void 0:l.id);return(0,t.useEffect)((()=>{if(!n&&!a&&i&&null!=r){if(!ms(i))return;if(document.activeElement===i.target)return;const e=o.get(r);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=bs(e);if(t){t.focus();break}}}))}}),[a,n,o,r,i]),null}const Yc=(0,t.createContext)({...Bs,scaleX:1,scaleY:1});var Zc;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Zc||(Zc={}));const Kc=(0,t.memo)((function(e){var n,a,o,i;let{id:r,accessibility:s,autoScroll:c=!0,children:u,sensors:d=Fc,collisionDetection:m=Os,measuring:g,modifiers:p,...h}=e;const b=(0,t.useReducer)(Gc,void 0,Uc),[_,f]=b,[v,y]=function(){const[e]=(0,t.useState)((()=>new Set)),n=(0,t.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]),l=(0,t.useCallback)((t=>{let{type:n,event:l}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,l)}))}),[e]);return[l,n]}(),[w,E]=(0,t.useState)(Zc.Uninitialized),k=w===Zc.Initialized,{draggable:{active:x,nodes:C,translate:S},droppable:{containers:N}}=_,z=x?C.get(x):null,B=(0,t.useRef)({initial:null,translated:null}),T=(0,t.useMemo)((()=>{var e;return null!=x?{id:x,data:null!=(e=null==z?void 0:z.data)?e:Oc,rect:B}:null}),[x,z]),P=(0,t.useRef)(null),[A,I]=(0,t.useState)(null),[R,M]=(0,t.useState)(null),L=ls(h,Object.values(h)),F=ss("DndDescribedBy",r),O=(0,t.useMemo)((()=>N.getEnabled()),[N]),H=function(e){return(0,t.useMemo)((()=>({draggable:{...Hc.draggable,...null==e?void 0:e.draggable},droppable:{...Hc.droppable,...null==e?void 0:e.droppable},dragOverlay:{...Hc.dragOverlay,...null==e?void 0:e.dragOverlay}})),[null==e?void 0:e.draggable,null==e?void 0:e.droppable,null==e?void 0:e.dragOverlay])}(g),{droppableRects:V,measureDroppableContainers:D,measuringScheduled:j}=function(e,n){let{dragging:l,dependencies:a,config:o}=n;const[i,r]=(0,t.useState)(null),{frequency:s,measure:c,strategy:u}=o,d=(0,t.useRef)(e),m=function(){switch(u){case Sc.Always:return!1;case Sc.BeforeDragging:return l;default:return!l}}(),g=ls(m),p=(0,t.useCallback)((function(e){void 0===e&&(e=[]),g.current||r((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[g]),h=(0,t.useRef)(null),b=as((t=>{if(m&&!l)return zc;if(!t||t===zc||d.current!==e||null!=i){const t=new Map;for(let n of e){if(!n)continue;if(i&&i.length>0&&!i.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,l=e?new oc(c(e),e):null;n.rect.current=l,l&&t.set(n.id,l)}return t}return t}),[e,i,l,m,c]);return(0,t.useEffect)((()=>{d.current=e}),[e]),(0,t.useEffect)((()=>{m||p()}),[l,m]),(0,t.useEffect)((()=>{i&&i.length>0&&r(null)}),[JSON.stringify(i)]),(0,t.useEffect)((()=>{m||"number"!=typeof s||null!==h.current||(h.current=setTimeout((()=>{p(),h.current=null}),s))}),[s,m,p,...a]),{droppableRects:b,measureDroppableContainers:p,measuringScheduled:null!=i}}(O,{dragging:k,dependencies:[S.x,S.y],config:H.droppable}),$=function(e,t){const n=null!==t?e.get(t):void 0,l=n?n.node.current:null;return as((e=>{var n;return null===t?null:null!=(n=null!=l?l:e)?n:null}),[l,t])}(C,x),W=(0,t.useMemo)((()=>R?gs(R):null),[R]),U=function(){const e=!1===(null==A?void 0:A.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,n=k&&!e&&!t;return"object"==typeof c?{...c,enabled:n}:{enabled:n}}(),G=function(e,t){return Bc(e,t)}($,H.draggable.measure);!function(e){let{activeNode:n,measure:l,initialRect:a,config:o=!0}=e;const i=(0,t.useRef)(!1),{x:r,y:s}="boolean"==typeof o?{x:o,y:o}:o;ts((()=>{if(!r&&!s||!n)return void(i.current=!1);if(i.current||!a)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Hs(l(e),a);if(r||(t.x=0),s||(t.y=0),i.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=Gs(e);n&&n.scrollBy({top:t.y,left:t.x})}}),[n,r,s,a,l])}({activeNode:x?C.get(x):null,config:U.layoutShiftCompensation,initialRect:G,measure:H.draggable.measure});const q=Ac($,H.draggable.measure,G),Y=Ac($?$.parentElement:null),Z=(0,t.useRef)({activatorEvent:null,active:null,activeNode:$,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),K=N.getNodeFor(null==(n=Z.current.over)?void 0:n.id),Q=function(e){let{measure:n}=e;const[l,a]=(0,t.useState)(null),o=Tc({callback:(0,t.useCallback)((e=>{for(const{target:t}of e)if(Jr(t)){a((e=>{const l=n(t);return e?{...e,width:l.width,height:l.height}:l}));break}}),[n])}),i=(0,t.useCallback)((e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Jr(t)?t:e}(e);null==o||o.disconnect(),t&&(null==o||o.observe(t)),a(t?n(t):null)}),[n,o]),[r,s]=os(i);return(0,t.useMemo)((()=>({nodeRef:r,rect:l,setRef:s})),[l,r,s])}({measure:H.dragOverlay.measure}),X=null!=(a=Q.nodeRef.current)?a:$,J=k?null!=(o=Q.rect)?o:q:null,ee=Boolean(Q.nodeRef.current&&Q.rect),te=Hs(ne=ee?null:q,Bc(ne));var ne;const le=Mc(X?Qr(X):null),ae=function(e){const n=(0,t.useRef)(e),l=as((t=>e?t&&t!==Ic&&e&&n.current&&e.parentNode===n.current.parentNode?t:Us(e):Ic),[e]);return(0,t.useEffect)((()=>{n.current=e}),[e]),l}(k?null!=K?K:$:null),oe=function(e,n){void 0===n&&(n=$s);const[l]=e,a=Mc(l?Qr(l):null),[o,i]=(0,t.useReducer)((function(){return e.length?e.map((e=>Xs(e)?a:new oc(n(e),e))):Lc}),Lc),r=Tc({callback:i});return e.length>0&&o===Lc&&i(),ts((()=>{e.length?e.forEach((e=>null==r?void 0:r.observe(e))):(null==r||r.disconnect(),i())}),[e]),o}(ae),ie=function(e,t){let{transform:n,...l}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...l})),n):n}(p,{transform:{x:S.x-te.x,y:S.y-te.y,scaleX:1,scaleY:1},activatorEvent:R,active:T,activeNodeRect:q,containerNodeRect:Y,draggingNodeRect:J,over:Z.current.over,overlayNodeRect:Q.rect,scrollableAncestors:ae,scrollableAncestorRects:oe,windowRect:le}),re=W?us(W,S):null,se=function(e){const[n,l]=(0,t.useState)(null),a=(0,t.useRef)(e),o=(0,t.useCallback)((e=>{const t=qs(e.target);t&&l((e=>e?(e.set(t,Ks(t)),new Map(e)):null))}),[]);return(0,t.useEffect)((()=>{const t=a.current;if(e!==t){n(t);const i=e.map((e=>{const t=qs(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,Ks(t)]):null})).filter((e=>null!=e));l(i.length?new Map(i):null),a.current=e}return()=>{n(e),n(t)};function n(e){e.forEach((e=>{const t=qs(e);null==t||t.removeEventListener("scroll",o)}))}}),[o,e]),(0,t.useMemo)((()=>e.length?n?Array.from(n.values()).reduce(((e,t)=>us(e,t)),Bs):lc(e):Bs),[e,n])}(ae),ce=Rc(se),ue=Rc(se,[q]),de=us(ie,ce),me=J?Ds(J,ie):null,ge=T&&me?m({active:T,collisionRect:me,droppableRects:V,droppableContainers:O,pointerCoordinates:re}):null,pe=Rs(ge,"id"),[he,be]=(0,t.useState)(null),_e=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ee?ie:us(ie,ue),null!=(i=null==he?void 0:he.rect)?i:null,q),fe=(0,t.useCallback)(((e,t)=>{let{sensor:n,options:l}=t;if(null==P.current)return;const a=C.get(P.current);if(!a)return;const o=e.nativeEvent,i=new n({active:P.current,activeNode:a,event:o,options:l,context:Z,onStart(e){const t=P.current;if(null==t)return;const n=C.get(t);if(!n)return;const{onDragStart:l}=L.current,a={active:{id:t,data:n.data,rect:B}};(0,_t.unstable_batchedUpdates)((()=>{null==l||l(a),E(Zc.Initializing),f({type:Cs.DragStart,initialCoordinates:e,active:t}),v({type:"onDragStart",event:a})}))},onMove(e){f({type:Cs.DragMove,coordinates:e})},onEnd:r(Cs.DragEnd),onCancel:r(Cs.DragCancel)});function r(e){return async function(){const{active:t,collisions:n,over:l,scrollAdjustedTranslate:a}=Z.current;let i=null;if(t&&a){const{cancelDrop:r}=L.current;i={activatorEvent:o,active:t,collisions:n,delta:a,over:l},e===Cs.DragEnd&&"function"==typeof r&&await Promise.resolve(r(i))&&(e=Cs.DragCancel)}P.current=null,(0,_t.unstable_batchedUpdates)((()=>{f({type:e}),E(Zc.Uninitialized),be(null),I(null),M(null);const t=e===Cs.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=L.current[t];null==e||e(i),v({type:t,event:i})}}))}}(0,_t.unstable_batchedUpdates)((()=>{I(i),M(e.nativeEvent)}))}),[C]),ve=(0,t.useCallback)(((e,t)=>(n,l)=>{const a=n.nativeEvent,o=C.get(l);if(null!==P.current||!o||a.dndKit||a.defaultPrevented)return;const i={active:o};!0===e(n,t.options,i)&&(a.dndKit={capturedBy:t.sensor},P.current=l,fe(n,t))}),[C,fe]),ye=function(e,n){return(0,t.useMemo)((()=>e.reduce(((e,t)=>{const{sensor:l}=t;return[...e,...l.activators.map((e=>({eventName:e.eventName,handler:n(e.handler,t)})))]}),[])),[e,n])}(d,ve);!function(e){(0,t.useEffect)((()=>{if(!Yr)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(d),ts((()=>{q&&w===Zc.Initializing&&E(Zc.Initialized)}),[q,w]),(0,t.useEffect)((()=>{const{onDragMove:e}=L.current,{active:t,activatorEvent:n,collisions:l,over:a}=Z.current;if(!t||!n)return;const o={active:t,activatorEvent:n,collisions:l,delta:{x:de.x,y:de.y},over:a};(0,_t.unstable_batchedUpdates)((()=>{null==e||e(o),v({type:"onDragMove",event:o})}))}),[de.x,de.y]),(0,t.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:l,scrollAdjustedTranslate:a}=Z.current;if(!e||null==P.current||!t||!a)return;const{onDragOver:o}=L.current,i=l.get(pe),r=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,s={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:r};(0,_t.unstable_batchedUpdates)((()=>{be(r),null==o||o(s),v({type:"onDragOver",event:s})}))}),[pe]),ts((()=>{Z.current={activatorEvent:R,active:T,activeNode:$,collisionRect:me,collisions:ge,droppableRects:V,draggableNodes:C,draggingNode:X,draggingNodeRect:J,droppableContainers:N,over:he,scrollableAncestors:ae,scrollAdjustedTranslate:de},B.current={initial:J,translated:me}}),[T,$,ge,me,C,X,J,V,N,he,ae,de]),function(e){let{acceleration:n,activator:l=kc.Pointer,canScroll:a,draggingRect:o,enabled:i,interval:r=5,order:s=xc.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:m,threshold:g}=e;const p=function(e){let{delta:t,disabled:n}=e;const l=is(t);return as((e=>{if(n||!l||!e)return Cc;const a=Math.sign(t.x-l.x),o=Math.sign(t.y-l.y);return{x:{[Qs.Backward]:e.x[Qs.Backward]||-1===a,[Qs.Forward]:e.x[Qs.Forward]||1===a},y:{[Qs.Backward]:e.y[Qs.Backward]||-1===o,[Qs.Forward]:e.y[Qs.Forward]||1===o}}}),[n,t,l])}({delta:m,disabled:!i}),[h,b]=function(){const e=(0,t.useRef)(null);return[(0,t.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,t.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),_=(0,t.useRef)({x:0,y:0}),f=(0,t.useRef)({x:0,y:0}),v=(0,t.useMemo)((()=>{switch(l){case kc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case kc.DraggableRect:return o}}),[l,o,c]),y=(0,t.useRef)(null),w=(0,t.useCallback)((()=>{const e=y.current;if(!e)return;const t=_.current.x*f.current.x,n=_.current.y*f.current.y;e.scrollBy(t,n)}),[]),E=(0,t.useMemo)((()=>s===xc.TreeOrder?[...u].reverse():u),[s,u]);(0,t.useEffect)((()=>{if(i&&u.length&&v){for(const e of E){if(!1===(null==a?void 0:a(e)))continue;const t=u.indexOf(e),l=d[t];if(!l)continue;const{direction:o,speed:i}=tc(e,l,v,n,g);for(const e of["x","y"])p[e][o[e]]||(i[e]=0,o[e]=0);if(i.x>0||i.y>0)return b(),y.current=e,h(w,r),_.current=i,void(f.current=o)}_.current={x:0,y:0},f.current={x:0,y:0},b()}else b()}),[n,w,a,b,i,r,JSON.stringify(v),JSON.stringify(p),h,u,E,d,JSON.stringify(g)])}({...U,delta:S,draggingRect:me,pointerCoordinates:re,scrollableAncestors:ae,scrollableAncestorRects:oe});const we=(0,t.useMemo)((()=>({active:T,activeNode:$,activeNodeRect:q,activatorEvent:R,collisions:ge,containerNodeRect:Y,dragOverlay:Q,draggableNodes:C,droppableContainers:N,droppableRects:V,over:he,measureDroppableContainers:D,scrollableAncestors:ae,scrollableAncestorRects:oe,measuringConfiguration:H,measuringScheduled:j,windowRect:le})),[T,$,q,R,ge,Y,Q,C,N,V,he,D,ae,oe,H,j,le]),Ee=(0,t.useMemo)((()=>({activatorEvent:R,activators:ye,active:T,activeNodeRect:q,ariaDescribedById:{draggable:F},dispatch:f,draggableNodes:C,over:he,measureDroppableContainers:D})),[R,ye,T,q,f,F,C,he,D]);return l().createElement(ws.Provider,{value:y},l().createElement($c.Provider,{value:Ee},l().createElement(Wc.Provider,{value:we},l().createElement(Yc.Provider,{value:_e},u)),l().createElement(qc,{disabled:!1===(null==s?void 0:s.restoreFocus)})),l().createElement(xs,{...s,hiddenTextDescribedById:F}))})),Qc=(0,t.createContext)(null),Xc="button",Jc="Droppable";const eu="Droppable",tu={timeout:25};function nu(e,t,n){const l=e.slice();return l.splice(n<0?l.length+n:n,0,l.splice(t,1)[0]),l}function lu(e,t){return e.reduce(((e,n,l)=>{const a=t.get(n);return a&&(e[l]=a),e}),Array(e.length))}function au(e){return null!==e&&e>=0}const ou=e=>{let{rects:t,activeIndex:n,overIndex:l,index:a}=e;const o=nu(t,l,n),i=t[a],r=o[a];return r&&i?{x:r.left-i.left,y:r.top-i.top,scaleX:r.width/i.width,scaleY:r.height/i.height}:null},iu={scaleX:1,scaleY:1},ru=e=>{var t;let{activeIndex:n,activeNodeRect:l,index:a,rects:o,overIndex:i}=e;const r=null!=(t=o[n])?t:l;if(!r)return null;if(a===n){const e=o[i];return e?{x:0,y:n<i?e.top+e.height-(r.top+r.height):e.top-r.top,...iu}:null}const s=function(e,t,n){const l=e[t],a=e[t-1],o=e[t+1];return l?n<t?a?l.top-(a.top+a.height):o?o.top-(l.top+l.height):0:o?o.top-(l.top+l.height):a?l.top-(a.top+a.height):0:0}(o,a,n);return a>n&&a<=i?{x:0,y:-r.height-s,...iu}:a<n&&a>=i?{x:0,y:r.height+s,...iu}:{x:0,y:0,...iu}},su="Sortable",cu=l().createContext({activeIndex:-1,containerId:su,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ou,disabled:{draggable:!1,droppable:!1}});function uu(e){let{children:n,id:a,items:o,strategy:i=ou,disabled:r=!1}=e;const{active:s,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:m}=(0,t.useContext)(Wc),g=ss(su,a),p=Boolean(null!==c.rect),h=(0,t.useMemo)((()=>o.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[o]),b=null!=s,_=s?h.indexOf(s.id):-1,f=d?h.indexOf(d.id):-1,v=(0,t.useRef)(h),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,v.current),w=-1!==f&&-1===_||y,E=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(r);ts((()=>{y&&b&&m(h)}),[y,h,b,m]),(0,t.useEffect)((()=>{v.current=h}),[h]);const k=(0,t.useMemo)((()=>({activeIndex:_,containerId:g,disabled:E,disableTransforms:w,items:h,overIndex:f,useDragOverlay:p,sortedRects:lu(h,u),strategy:i})),[_,g,E.draggable,E.droppable,w,h,f,u,p,i]);return l().createElement(cu.Provider,{value:k},n)}const du=e=>{let{id:t,items:n,activeIndex:l,overIndex:a}=e;return nu(n,l,a).indexOf(t)},mu=e=>{let{containerId:t,isSorting:n,wasDragging:l,index:a,items:o,newIndex:i,previousItems:r,previousContainerId:s,transition:c}=e;return!(!c||!l||r!==o&&a===i||!n&&(i===a||t!==s))},gu={duration:200,easing:"ease"},pu="transform",hu=ps.Transition.toString({property:pu,duration:0,easing:"linear"}),bu={roleDescription:"sortable"};function _u(e){let{animateLayoutChanges:n=mu,attributes:l,disabled:a,data:o,getNewIndex:i=du,id:r,strategy:s,resizeObserverConfig:c,transition:u=gu}=e;const{items:d,containerId:m,activeIndex:g,disabled:p,disableTransforms:h,sortedRects:b,overIndex:_,useDragOverlay:f,strategy:v}=(0,t.useContext)(cu),y=function(e,t){var n,l;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(l=null==e?void 0:e.droppable)?l:t.droppable}}(a,p),w=d.indexOf(r),E=(0,t.useMemo)((()=>({sortable:{containerId:m,index:w,items:d},...o})),[m,o,w,d]),k=(0,t.useMemo)((()=>d.slice(d.indexOf(r))),[d,r]),{rect:x,node:C,isOver:S,setNodeRef:N}=function(e){let{data:n,disabled:l=!1,id:a,resizeObserverConfig:o}=e;const i=ss(eu),{active:r,dispatch:s,over:c,measureDroppableContainers:u}=(0,t.useContext)($c),d=(0,t.useRef)({disabled:l}),m=(0,t.useRef)(!1),g=(0,t.useRef)(null),p=(0,t.useRef)(null),{disabled:h,updateMeasurementsFor:b,timeout:_}={...tu,...o},f=ls(null!=b?b:a),v=Tc({callback:(0,t.useCallback)((()=>{m.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{u(Array.isArray(f.current)?f.current:[f.current]),p.current=null}),_)):m.current=!0}),[_]),disabled:h||!r}),y=(0,t.useCallback)(((e,t)=>{v&&(t&&(v.unobserve(t),m.current=!1),e&&v.observe(e))}),[v]),[w,E]=os(y),k=ls(n);return(0,t.useEffect)((()=>{v&&w.current&&(v.disconnect(),m.current=!1,v.observe(w.current))}),[w,v]),ts((()=>(s({type:Cs.RegisterDroppable,element:{id:a,key:i,disabled:l,node:w,rect:g,data:k}}),()=>s({type:Cs.UnregisterDroppable,key:i,id:a}))),[a]),(0,t.useEffect)((()=>{l!==d.current.disabled&&(s({type:Cs.SetDroppableDisabled,id:a,key:i,disabled:l}),d.current.disabled=l)}),[a,i,l,s]),{active:r,rect:g,isOver:(null==c?void 0:c.id)===a,node:w,over:c,setNodeRef:E}}({id:r,data:E,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:z,activatorEvent:B,activeNodeRect:T,attributes:P,setNodeRef:A,listeners:I,isDragging:R,over:M,setActivatorNodeRef:L,transform:F}=function(e){let{id:n,data:l,disabled:a=!1,attributes:o}=e;const i=ss(Jc),{activators:r,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:m,over:g}=(0,t.useContext)($c),{role:p=Xc,roleDescription:h="draggable",tabIndex:b=0}=null!=o?o:{},_=(null==c?void 0:c.id)===n,f=(0,t.useContext)(_?Yc:Qc),[v,y]=os(),[w,E]=os(),k=function(e,n){return(0,t.useMemo)((()=>e.reduce(((e,t)=>{let{eventName:l,handler:a}=t;return e[l]=e=>{a(e,n)},e}),{})),[e,n])}(r,n),x=ls(l);return ts((()=>(m.set(n,{id:n,key:i,node:v,activatorNode:w,data:x}),()=>{const e=m.get(n);e&&e.key===i&&m.delete(n)})),[m,n]),{active:c,activatorEvent:s,activeNodeRect:u,attributes:(0,t.useMemo)((()=>({role:p,tabIndex:b,"aria-disabled":a,"aria-pressed":!(!_||p!==Xc)||void 0,"aria-roledescription":h,"aria-describedby":d.draggable})),[a,p,b,_,h,d.draggable]),isDragging:_,listeners:a?void 0:k,node:v,over:g,setNodeRef:y,setActivatorNodeRef:E,transform:f}}({id:r,data:E,attributes:{...bu,...l},disabled:y.draggable}),O=function(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return(0,t.useMemo)((()=>e=>{n.forEach((t=>t(e)))}),n)}(N,A),H=Boolean(z),V=H&&!h&&au(g)&&au(_),D=!f&&R,j=D&&V?F:null,$=V?null!=j?j:(null!=s?s:v)({rects:b,activeNodeRect:T,activeIndex:g,overIndex:_,index:w}):null,W=au(g)&&au(_)?i({id:r,items:d,activeIndex:g,overIndex:_}):w,U=null==z?void 0:z.id,G=(0,t.useRef)({activeId:U,items:d,newIndex:W,containerId:m}),q=d!==G.current.items,Y=n({active:z,containerId:m,isDragging:R,isSorting:H,id:r,index:w,items:d,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:u,wasDragging:null!=G.current.activeId}),Z=function(e){let{disabled:n,index:l,node:a,rect:o}=e;const[i,r]=(0,t.useState)(null),s=(0,t.useRef)(l);return ts((()=>{if(!n&&l!==s.current&&a.current){const e=o.current;if(e){const t=$s(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&r(n)}}l!==s.current&&(s.current=l)}),[n,l,a,o]),(0,t.useEffect)((()=>{i&&r(null)}),[i]),i}({disabled:!Y,index:w,node:C,rect:x});return(0,t.useEffect)((()=>{H&&G.current.newIndex!==W&&(G.current.newIndex=W),m!==G.current.containerId&&(G.current.containerId=m),d!==G.current.items&&(G.current.items=d)}),[H,W,m,d]),(0,t.useEffect)((()=>{if(U===G.current.activeId)return;if(U&&!G.current.activeId)return void(G.current.activeId=U);const e=setTimeout((()=>{G.current.activeId=U}),50);return()=>clearTimeout(e)}),[U]),{active:z,activeIndex:g,attributes:P,data:E,rect:x,index:w,newIndex:W,items:d,isOver:S,isSorting:H,isDragging:R,listeners:I,node:C,overIndex:_,over:M,setNodeRef:O,setActivatorNodeRef:L,setDroppableNodeRef:N,setDraggableNodeRef:A,transform:null!=Z?Z:$,transition:Z||q&&G.current.newIndex===w?hu:D&&!ms(B)||!u?void 0:H||Y?ps.Transition.toString({...u,property:pu}):void 0}}function fu(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const vu=[cc.Down,cc.Right,cc.Up,cc.Left],yu=(e,t)=>{let{context:{active:n,collisionRect:l,droppableRects:a,droppableContainers:o,over:i,scrollableAncestors:r}}=t;if(vu.includes(e.code)){if(e.preventDefault(),!n||!l)return;const t=[];o.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const o=a.get(n.id);if(o)switch(e.code){case cc.Down:l.top<o.top&&t.push(n);break;case cc.Up:l.top>o.top&&t.push(n);break;case cc.Left:l.left>o.left&&t.push(n);break;case cc.Right:l.left<o.left&&t.push(n)}}));const u=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:l}=e;const a=Is(t),o=[];for(const e of l){const{id:t}=e,l=n.get(t);if(l){const n=Is(l),i=a.reduce(((e,t,l)=>e+Ts(n[l],t)),0),r=Number((i/4).toFixed(4));o.push({id:t,data:{droppableContainer:e,value:r}})}}return o.sort(Ps)})({active:n,collisionRect:l,droppableRects:a,droppableContainers:t,pointerCoordinates:null});let d=Rs(u,"id");if(d===(null==i?void 0:i.id)&&u.length>1&&(d=u[1].id),null!=d){const e=o.get(n.id),t=o.get(d),i=t?a.get(t.id):null,u=null==t?void 0:t.node.current;if(u&&i&&e&&t){const n=Us(u).some(((e,t)=>r[t]!==e)),a=wu(e,t),o=(c=t,!(!fu(s=e)||!fu(c))&&!!wu(s,c)&&s.data.current.sortable.index<c.data.current.sortable.index),d=n||!a?{x:0,y:0}:{x:o?l.width-i.width:0,y:o?l.height-i.height:0},m={x:i.left,y:i.top};return d.x&&d.y?m:ds(m,d)}}}var s,c};function wu(e,t){return!(!fu(e)||!fu(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var Eu=(0,e.createElement)(ba.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"}));function ku(t){const{attributes:n,listeners:l,setNodeRef:a,transform:o,transition:r}=_u({id:t.id}),{id:c,attrs:u,setAttributes:d}=t,{show_label:m,show_author:g,label_type:p,show_heading:h,show_excerpt:b,show_cta:_,cta_type:f,cta_link:v}=u,y={transform:ps.Transform.toString(o),transition:r},[w,k]=(0,e.useState)(!1),[x,C]=(0,e.useState)(!1),S=(0,e.createElement)("div",E({},l,n,{className:"ng-sortable-handle"}),(0,e.createElement)(Oa,{icon:Eu}));return(0,e.createElement)("div",{ref:a,style:y,className:"ng-sortable-area"},1==c&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:`ng-sortable-item${w?" opened":""}${m?"":" hidden"}`},S,(0,e.createElement)("div",{className:"ng-sortable-label is-underlined",onClick:()=>k(!w)},"Label"),m&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:w&&m?Gr:qr,iconSize:22,label:w&&m?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{k(!w)}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:m?vi:Ur,iconSize:20,label:m?"Hide label":"Show label",showTooltip:!0,onClick:()=>{d({show_label:!m})}})),m&&(0,e.createElement)("div",{className:"ng-sortable-control"+(w&&m?" opened":"")},(0,e.createElement)(s.RadioControl,{className:"ngl-radio-as-child",selected:p,options:[{label:"Category",value:"category"},{label:"Tag",value:"tag"},{label:"Domain name",value:"domain"}],onChange:e=>d({label_type:e})}))),2==c&&(0,e.createElement)("div",{className:"ng-sortable-item"+(g?"":" hidden")},S,(0,e.createElement)("div",{className:"ng-sortable-label"},"Author"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:g?vi:Ur,iconSize:20,label:g?"Hide excerpt":"Show excerpt",showTooltip:!0,onClick:()=>{d({show_author:!g})}})),3==c&&(0,e.createElement)("div",{className:"ng-sortable-item"+(h?"":" hidden")},S,(0,e.createElement)("div",{className:"ng-sortable-label"},"Heading"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:h?vi:Ur,iconSize:20,label:h?"Hide heading":"Show heading",showTooltip:!0,onClick:()=>{d({show_heading:!h})}})),4==c&&(0,e.createElement)("div",{className:"ng-sortable-item"+(b?"":" hidden")},S,(0,e.createElement)("div",{className:"ng-sortable-label"},"Excerpt"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:b?vi:Ur,iconSize:20,label:b?"Hide excerpt":"Show excerpt",showTooltip:!0,onClick:()=>{d({show_excerpt:!b})}})),5==c&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:`ng-sortable-item${x?" opened":""}${_?"":" hidden"}`},S,(0,e.createElement)("div",{className:"ng-sortable-label is-underlined",onClick:()=>C(!x)},"Call to action"),_&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:x&&_?Gr:qr,iconSize:22,label:x&&_?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{C(!x)}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:_?vi:Ur,iconSize:20,label:_?"Hide CTA":"Show CTA",showTooltip:!0,onClick:()=>{d({show_cta:!_})}})),_&&(0,e.createElement)("div",{className:"ng-sortable-control"+(x&&_?" opened":"")},(0,e.createElement)(s.RadioControl,{className:"ngl-radio-as-child",selected:f,options:[{label:"Link",value:"link"},{label:"Button",value:"button"}],onChange:e=>d({cta_type:e})}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("Default text","newsletter-glue"),value:v,className:"ngl-input-as-child",onChange:e=>d({cta_link:e})}))))}const xu=t=>{const{attributes:n,setAttributes:l}=t,{show_image:a,show_divider:o}=n,[r,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(n.order),m=zs(Ns(vc),Ns(pc,{coordinateGetter:yu}));return(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Display options","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},(0,e.createElement)("div",{className:"ng-sortable-area"},(0,e.createElement)("div",{className:"ng-sortable-item disabled"+(n.show_image?"":" hidden")},(0,e.createElement)("div",{className:"ng-sortable-label"},"Featured image"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:n.show_image?vi:Ur,iconSize:20,label:a?"Hide image":"Show image",showTooltip:!0,onClick:()=>{l({show_image:!n.show_image})}}))),(0,e.createElement)(Kc,{sensors:m,collisionDetection:Ls,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n.id&&d((e=>{const a=e.indexOf(t.id),o=e.indexOf(n.id);var i=nu(e,a,o);return l({order:i}),i}))}},(0,e.createElement)(uu,{items:u,strategy:ru},u.map((t=>(0,e.createElement)(ku,{key:t,id:t,attrs:n,setAttributes:l}))))),(0,e.createElement)("div",{className:"ng-sortable-area"},(0,e.createElement)("div",{className:`ng-sortable-item${r?" opened":""} disabled${n.show_divider?"":" hidden"}`},(0,e.createElement)("div",{className:"ng-sortable-label is-underlined",onClick:()=>c(!r)},"Separator"),o&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:r&&o?Gr:qr,iconSize:22,label:r&&o?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{c(!r)}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:n.show_divider?vi:Ur,iconSize:20,label:o?"Hide divider":"Show divider",showTooltip:!0,onClick:()=>{l({show_divider:!n.show_divider})}})),o&&(0,e.createElement)("div",{className:"ng-sortable-control"+(r&&o?" opened":"")},(0,e.createElement)("div",{style:{height:"10px"}}),(0,e.createElement)(s.__experimentalUnitControl,{label:"Thickness",value:n.divider_size,onChange:e=>{l({divider_size:e})},units:Oo,style:{maxWidth:"100px"}}))),(0,e.createElement)(s.__experimentalDivider,null),"multi"==n.contentstyle&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Number of columns","newsletter-glue"),value:n.columns_num,onChange:e=>l({columns_num:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"one",label:(0,i.__)("1 column")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"two",label:(0,i.__)("2 columns")})))),("one"==n.columns_num||"single"==n.contentstyle)&&(0,e.createElement)(e.Fragment,null,n.show_image&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Table width ratio","newsletter-glue"),value:n.table_ratio,onChange:e=>l({table_ratio:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"full",label:(0,i.__)("Full")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"50_50",label:(0,i.__)("50:50")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"30_70",label:(0,i.__)("30:70")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"70_30",label:(0,i.__)("70:30")}))),n.show_image&&"full"!==n.table_ratio&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Image placement","newsletter-glue"),value:n.image_position,onChange:e=>l({image_position:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"left",label:(0,i.__)("Left")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"right",label:(0,i.__)("Right")})))))},Cu=n=>{const{attributes:l,setAttributes:a}=n,r=(0,Co.useSelect)((e=>e("core").getUsers({who:"authors",per_page:-1})),[]),c=[];r&&r.forEach((e=>{c.push({label:e.name,value:e.id})}));const u=(0,Co.useSelect)((e=>e("core").getPostTypes({per_page:-1,public:!0})),[]),d=[];u&&u.forEach((e=>{d.push({label:e.name,value:e.slug})}));const m=(0,Co.useSelect)((e=>e("core").getEntityRecords("taxonomy","category",{per_page:-1})),[]),g=[];m&&m.forEach((e=>{g.push({label:e.name,value:e.id})}));const p=(0,Co.useSelect)((e=>e("core").getEntityRecords("taxonomy","post_tag",{per_page:-1})),[]),h=[];p&&p.forEach((e=>{h.push({label:e.name,value:e.id})}));const b=(0,Co.useSelect)((e=>e("core").getTaxonomies({per_page:-1,public:!0})),[]),_=[];_.push({label:"Select...",value:""}),b&&b.forEach((e=>{_.push({label:e.labels.singular_name,value:e.slug})}));const f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=[...l.taxonomies];n?o.splice(e,1):o[e]=t,a({taxonomies:o})};return(0,t.useEffect)((()=>{}),[]),(0,t.useEffect)((()=>{var e=l.taxonomies;e.length&&e.forEach((e=>{""!=e.key.trim()&&0==l[`${e.key}_terms`].length&&o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_terms?taxonomy="+e.key,method:"get",headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((t=>{a({[`${e.key}_terms`]:t})}))}))}),[l.taxonomies]),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Filter options","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},!l.insertRssPosts&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{value:l.filter,onChange:e=>a({filter:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"include",label:(0,i.__)("Include")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"exclude",label:(0,i.__)("Exclude")})))),("new_pro"===nglue_backend.license_tier||"new_basic"===nglue_backend.license_tier)&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Insert Posts from RSS","newsletter-glue"),checked:l.insertRssPosts||!1,onChange:e=>a({insertRssPosts:e})})),!l.insertRssPosts&&(0,e.createElement)("p",{className:"components-base-control__help"},"exclude"===l.filter?(0,e.createElement)(e.Fragment,null,"The queries you select below will be ",(0,e.createElement)("b",null,"excluded")," from the latest posts block."):(0,e.createElement)(e.Fragment,null,"The queries you select below will be ",(0,e.createElement)("b",null,"included")," in the latest posts block.")),l.insertRssPosts&&("new_pro"===nglue_backend.license_tier||"new_basic"===nglue_backend.license_tier)&&(0,e.createElement)("p",{className:"components-base-control__help"},"The RSS feed you insert below will be used to insert the posts in the latest posts block from an external source."),l.insertRssPosts&&("new_pro"===nglue_backend.license_tier||"new_basic"===nglue_backend.license_tier)&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("RSS Feed","newsletter-glue"),id:"ngl-select-rssfeed"},(0,e.createElement)("input",{type:"text",id:"ngl-select-rssfeed",value:l.rssfeed,onChange:e=>{a({rssfeed:e.target.value})}}))),!l.insertRssPosts&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Post types","newsletter-glue"),id:"ngl-select-cpts"},(0,e.createElement)(dl,{isMulti:!0,isClearable:!1,name:"ngl-select-cpts",inputId:"ngl-select-cpts",classNamePrefix:"ngl",value:l.filter_cpts,options:d,onChange:e=>{a({filter_cpts:e})}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Categories","newsletter-glue"),id:"ngl-select-categories"},(0,e.createElement)(dl,{isMulti:!0,isClearable:!1,name:"ngl-select-categories",inputId:"ngl-select-categories",classNamePrefix:"ngl",value:l.filter_categories,options:g,onChange:e=>{a({filter_categories:e})}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Tags","newsletter-glue"),id:"ngl-select-tags"},(0,e.createElement)(dl,{isMulti:!0,isClearable:!1,name:"ngl-select-tags",inputId:"ngl-select-tags",classNamePrefix:"ngl",value:l.filter_tags,options:h,onChange:e=>{a({filter_tags:e})}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Authors","newsletter-glue"),id:"ngl-select-authors"},(0,e.createElement)(dl,{isMulti:!0,isClearable:!1,name:"ngl-select-authors",inputId:"ngl-select-authors",classNamePrefix:"ngl",value:l.filter_authors,options:c,onChange:e=>{a({filter_authors:e})}})))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Number of posts","newsletter-glue"),id:"ngl-posts-num"},(0,e.createElement)("input",{type:"number",id:"ngl-posts-num",value:l.posts_num,min:"1",onChange:e=>{a({posts_num:parseInt(e.target.value)})}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Offset (skip posts)","newsletter-glue"),id:"ngl-posts-offset",help:(0,i.__)("Number of posts to skip. Useful for excluding the most recent posts.","newsletter-glue")},(0,e.createElement)("input",{type:"number",id:"ngl-posts-offset",value:l.offset,min:"0",onChange:e=>{a({offset:parseInt(e.target.value)})}}))),!l.insertRssPosts&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Custom taxonomies","newsletter-glue"),id:"ngl-select-taxonomies",className:"ngl-conditional-content ngl-cond"},l.taxonomies.map(((t,n)=>{let a="Set taxonomy";if(t.key&&b){let e=t.key;b.forEach((t=>{t.slug===e&&(e=t.labels.singular_name)})),a=e}return(0,e.createElement)(s.Card,{key:`ngl-condition-${n}`,className:`ngl-condition-${n}`},(0,e.createElement)(s.CardHeader,{onClick:e=>{const t=e.target;t.classList.contains("dashicon")||t.closest(".components-card").classList.toggle("is-active")}},(0,e.createElement)("span",null,a),(0,e.createElement)(s.Button,{isSmall:!0,className:"btn-remove",icon:"no",onClick:()=>{f(n,{},!0)}})),(0,e.createElement)(s.CardBody,null,(0,e.createElement)(s.SelectControl,{value:t.key,onChange:e=>{f(n,{key:e,term:""})},options:_}),t.key&&l[`${t.key}_terms`]&&(0,e.createElement)(s.SelectControl,{value:t.term,onChange:e=>{f(n,{key:t.key,term:e})},options:l[`${t.key}_terms`]})))})),(0,e.createElement)(s.__experimentalSpacer,{margin:0,marginBottom:2}),(0,e.createElement)(s.Button,{text:"Add new taxonomy",isSecondary:!0,className:"btn-add-condition",onClick:()=>{const e=l.taxonomies;a({taxonomies:[...e,{key:"",term:""}]})}}))),(0,e.createElement)("div",{className:"ngl-gb-box"},(0,e.createElement)("div",{className:"ngl-gb-box-div"},(0,e.createElement)(s.Button,{label:(0,i.__)("Update block","newsletter-glue"),variant:"primary",onClick:()=>{a({update_posts:10*Math.random()})}},(0,i.__)("Update block","newsletter-glue")))))},Su=t=>{const{attributes:n,setAttributes:l}=t,a=[{label:(0,i.__)("Sunday","newsletter-glue"),value:"Sunday"},{label:(0,i.__)("Monday","newsletter-glue"),value:"Monday"},{label:(0,i.__)("Tuesday","newsletter-glue"),value:"Tuesday"},{label:(0,i.__)("Wednesday","newsletter-glue"),value:"Wednesday"},{label:(0,i.__)("Thursday","newsletter-glue"),value:"Thursday"},{label:(0,i.__)("Friday","newsletter-glue"),value:"Friday"},{label:(0,i.__)("Saturday","newsletter-glue"),value:"Saturday"}],o=[{label:(0,i.__)("12:00 PM","newsletter-glue"),value:"12pm"},{label:(0,i.__)("01:00 PM","newsletter-glue"),value:"1pm"},{label:(0,i.__)("02:00 PM","newsletter-glue"),value:"2pm"},{label:(0,i.__)("03:00 PM","newsletter-glue"),value:"3pm"},{label:(0,i.__)("04:00 PM","newsletter-glue"),value:"4pm"},{label:(0,i.__)("05:00 PM","newsletter-glue"),value:"5pm"},{label:(0,i.__)("06:00 PM","newsletter-glue"),value:"6pm"},{label:(0,i.__)("07:00 PM","newsletter-glue"),value:"7pm"},{label:(0,i.__)("08:00 PM","newsletter-glue"),value:"8pm"},{label:(0,i.__)("09:00 PM","newsletter-glue"),value:"9pm"},{label:(0,i.__)("10:00 PM","newsletter-glue"),value:"10pm"},{label:(0,i.__)("11:00 PM","newsletter-glue"),value:"11pm"},{label:(0,i.__)("12:00 AM","newsletter-glue"),value:"12am"},{label:(0,i.__)("01:00 AM","newsletter-glue"),value:"1am"},{label:(0,i.__)("02:00 AM","newsletter-glue"),value:"2am"},{label:(0,i.__)("03:00 AM","newsletter-glue"),value:"3am"},{label:(0,i.__)("04:00 AM","newsletter-glue"),value:"4am"},{label:(0,i.__)("05:00 AM","newsletter-glue"),value:"5am"},{label:(0,i.__)("06:00 AM","newsletter-glue"),value:"6am"},{label:(0,i.__)("07:00 AM","newsletter-glue"),value:"7am"},{label:(0,i.__)("08:00 AM","newsletter-glue"),value:"8am"},{label:(0,i.__)("09:00 AM","newsletter-glue"),value:"9am"},{label:(0,i.__)("10:00 AM","newsletter-glue"),value:"10am"},{label:(0,i.__)("11:00 AM","newsletter-glue"),value:"11am"}];return(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Content options","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Content style"),value:n.contentstyle,onChange:e=>l({contentstyle:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"single",label:(0,i.__)("Single post")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"multi",label:(0,i.__)("Multiple posts")}))),!n.insertRssPosts&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Sort by","newsletter-glue"),id:"ngl-select-sortby"},(0,e.createElement)(dl,{name:"ngl-select-sortby",inputId:"ngl-select-sortby",classNamePrefix:"ngl",value:n.sortby,defaultValue:{label:(0,i.__)("Newest to oldest","newsletter-glue"),value:"newest"},options:[{label:(0,i.__)("Newest to oldest","newsletter-glue"),value:"newest"},{label:(0,i.__)("Oldest to newest","newsletter-glue"),value:"oldest"},{label:(0,i.__)("A-Z","newsletter-glue"),value:"alphabetic"}],onChange:e=>{l({sortby:e})}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Display latest posts from","newsletter-glue"),id:"ngl-select-dates"},(0,e.createElement)(dl,{name:"ngl-select-dates",inputId:"ngl-select-dates",classNamePrefix:"ngl",value:n.dates,isClearable:!0,options:[{label:(0,i.__)("Last 24 hours","newsletter-glue"),value:"last_1"},{label:(0,i.__)("Last 2 days","newsletter-glue"),value:"last_2"},{label:(0,i.__)("Last 3 days","newsletter-glue"),value:"last_3"},{label:(0,i.__)("Last 4 days","newsletter-glue"),value:"last_4"},{label:(0,i.__)("Last 5 days","newsletter-glue"),value:"last_5"},{label:(0,i.__)("Last 6 days","newsletter-glue"),value:"last_6"},{label:(0,i.__)("Last 7 days","newsletter-glue"),value:"last_7"},{label:(0,i.__)("Last 14 days","newsletter-glue"),value:"last_14"},{label:(0,i.__)("Last 30 days","newsletter-glue"),value:"last_30"},{label:(0,i.__)("Last 60 days","newsletter-glue"),value:"last_60"}],onChange:e=>{l({dates:e})}}),n.dates&&"this_month"===n.dates.value&&(0,e.createElement)("p",{className:"components-base-control__help",style:{marginTop:"6px"}},"Month starts on the first day of the month at midnight.")))),n.dates&&"this_week"==n.dates.value&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Week starts","newsletter-glue"),id:"ngl-select-week-start"},(0,e.createElement)("div",{className:"ngl-select-flex"},(0,e.createElement)(dl,{name:"ngl-select-week-start",inputId:"ngl-select-week-start",classNamePrefix:"ngl",value:n.week_starts,defaultValue:{label:(0,i.__)("Monday","newsletter-glue"),value:"Monday"},options:a,onChange:e=>{l({week_starts:e})}}),(0,e.createElement)(dl,{name:"ngl-select-start-time",inputId:"ngl-select-start-time",classNamePrefix:"ngl",value:n.starts_time,options:o,defaultValue:{label:(0,i.__)("7:00 PM","newsletter-glue"),value:"7pm"},onChange:e=>{l({starts_time:e})}})))),n.dates&&"today"==n.dates.value&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Day starts","newsletter-glue"),id:"ngl-select-week-start"},(0,e.createElement)(dl,{name:"ngl-select-start-time",inputId:"ngl-select-start-time",classNamePrefix:"ngl",value:n.starts_time,options:o,defaultValue:{label:(0,i.__)("7:00 PM","newsletter-glue"),value:"7pm"},onChange:e=>{l({starts_time:e})}}))),(0,e.createElement)(s.PanelRow,{style:{marginTop:"0px"}},(0,e.createElement)("p",{className:"components-base-control__help",style:{marginTop:"0px"}},"The current time on this site is ",(0,e.createElement)("b",null,nglue_backend.wp_time),". ",(0,e.createElement)("a",{href:nglue_backend.wp_general},"Update time"),".")),n.dates&&"two_weeks"==n.dates.value&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("2 weeks starts","newsletter-glue"),id:"ngl-select-week-start"},(0,e.createElement)("div",{className:"ngl-select-flex"},(0,e.createElement)(dl,{name:"ngl-select-month-start",inputId:"ngl-select-month-start",classNamePrefix:"ngl",value:n.two_weeks_starts,defaultValue:{label:(0,i.__)("Monday","newsletter-glue"),value:"Monday"},options:a,onChange:e=>{l({two_weeks_starts:e})}}),(0,e.createElement)(dl,{name:"ngl-select-start-time",inputId:"ngl-select-start-time",classNamePrefix:"ngl",value:n.starts_time,options:o,defaultValue:{label:(0,i.__)("7:00 PM","newsletter-glue"),value:"7pm"},onChange:e=>{l({starts_time:e})}})))),"multi"==n.contentstyle&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Number of posts to display","newsletter-glue"),value:n.posts_num,onChange:e=>l({posts_num:e}),min:0,max:20,help:(0,i.__)("When set to 0, all eligible posts will be displayed.","newsletter-glue")})),"single"==n.contentstyle&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Post length"),value:n.postlength,onChange:e=>l({postlength:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"excerpt",label:(0,i.__)("Excerpt")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"full",label:(0,i.__)("Full post")})))),!n.insertRssPosts&&("excerpt"==n.postlength||"multi"==n.contentstyle)&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Number of words to display","newsletter-glue"),value:n.words_num,onChange:e=>l({words_num:e}),min:0,max:200,help:(0,i.__)("When set to 0, the full post will be displayed.","newsletter-glue")})),(0,e.createElement)("div",{className:"ngl-gb-box"},(0,e.createElement)("div",{className:"ngl-gb-box-div"},(0,e.createElement)(s.Button,{label:(0,i.__)("Update block","newsletter-glue"),variant:"primary",onClick:()=>{l({update_posts:10*Math.random()})}},(0,i.__)("Update block","newsletter-glue")))))};var Nu=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M12 4V2.2L9 4.8l3 2.5V5.5c3.6 0 6.5 2.9 6.5 6.5 0 2.9-1.9 5.3-4.5 6.2v.2l-.1-.2c-.4.1-.7.2-1.1.2l.2 1.5c.3 0 .6-.1 1-.2 3.5-.9 6-4 6-7.7 0-4.4-3.6-8-8-8zm-7.9 7l1.5.2c.1-1.2.5-2.3 1.2-3.2l-1.1-.9C4.8 8.2 4.3 9.6 4.1 11zm1.5 1.8l-1.5.2c.1.7.3 1.4.5 2 .3.7.6 1.3 1 1.8l1.2-.8c-.3-.5-.6-1-.8-1.5s-.4-1.1-.4-1.7zm1.5 5.5c1.1.9 2.4 1.4 3.8 1.6l.2-1.5c-1.1-.1-2.2-.5-3.1-1.2l-.9 1.1z"}));function zu(e,t){let n,l,a,o,i="100%",r="100%";const{padding:s,margin:c,table_ratio:u,image_position:d,columns_num:m}=e;var g=600-(parseInt(s.left)+parseInt(s.right)+parseInt(c.left)+parseInt(c.right));"70_30"==u&&(a=u.split("_"),n=a[0],l=a[1]),"30_70"==u&&(a=u.split("_"),n=a[0],l=a[1]),"50_50"==u&&(a=u.split("_"),n=a[0],l=a[1]),"right"===d&&("70_30"==u&&(a=u.split("_"),l=a[0],n=a[1]),"30_70"==u&&(a=u.split("_"),l=a[0],n=a[1]),"50_50"==u&&(a=u.split("_"),l=a[0],n=a[1])),n&&l&&(i=Math.floor(n/100*g-10)+"px",r=Math.floor(l/100*g-10)+"px"),"two"==m&&(o=Math.floor(g/2-10)+"px"),t({div1:i,div2:r,containerWidth:g+"px",itemBase:o})}const Bu=n=>{const{attributes:l,setAttributes:a,blockProps:r}=n,[c,u]=(0,t.useState)(!0),d=(0,e.createElement)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,e.createElement)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,e.createElement)("polyline",{points:"21 15 16 10 5 21"})),[m,g]=(0,t.useState)(0),[h,b]=(0,t.useState)(0),{deviceType:_}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),f="Mobile"===_;var v=l.text_color?l.text_color:vo.color;function y(e,t){let n=l.custom_data;for(var a=0;a<n.length;a++)if(n[a][t+"_"+e]&&null!=n[a][t+"_"+e])return n[a][t+"_"+e];return!1}function w(e,t){var n=t;return l.words_num>0&&y(e.id,"excerpt")&&(n=n.split(" ").splice(0,l.words_num).join(" "),n+="..."),n}(0,t.useEffect)((()=>{const e=l;l.posts?u(!1):o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_posts",method:"post",data:e,headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{u(!1),e.posts.length?l.posts||a({posts:e.posts,hash:e.hash}):a({posts:null,hash:null})}))}),[]),(0,t.useEffect)((()=>{l.div1&&l.div2&&l.containerWidth&&l.itemBase||zu(l,a)}),[]),(0,t.useEffect)((()=>{zu(l,a)}),[l.image_position,l.table_ratio,l.columns_num,l.padding,l.margin]),(0,t.useEffect)((()=>{let e;if(c||!l.update_posts)e="";else{e=l,console.log("Latest Posts - Sending data to API:",e),console.log("Latest Posts - Offset value:",e.offset);const t={...e};t.offset&&t.offset>0&&(t.original_posts_num=t.posts_num,0===t.posts_num?console.log("Latest Posts - posts_num is 0 (fetch all posts) with offset:",t.offset):(t.posts_num=t.posts_num+parseInt(t.offset),console.log("Latest Posts - Adjusted posts_num from",e.posts_num,"to",t.posts_num))),o()({path:"newsletterglue/"+nglue_backend.api_version+"/get_posts",method:"post",data:t,headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((t=>{if(console.log("Latest Posts - API response:",t),t.posts.length){let n=t.posts;if(e.offset&&e.offset>0){const t=parseInt(e.offset);n.length>t?(console.log("Latest Posts - Removing first",t,"posts from",n.length,"posts"),0===e.posts_num?(n=n.slice(t),console.log("Latest Posts - After offset with posts_num=0, keeping",n.length,"posts")):(n=n.slice(t,t+e.posts_num),console.log("Latest Posts - After offset, keeping",n.length,"posts"))):console.log("Latest Posts - Not enough posts to apply offset")}a({posts:n,hash:t.hash,update_posts:null})}else a({posts:null})})).catch((e=>{console.error("Latest Posts - API error:",e)}))}}),[l.update_posts]);const k={};k.fontFamily=nglue_backend.font_names[l.font.key],l.background_color&&(k.backgroundColor=l.background_color),k.color=v,l.padding&&(k.paddingLeft=f?l.mobile_padding.left:l.padding.left,k.paddingRight=f?l.mobile_padding.right:l.padding.right,k.paddingTop=f?l.mobile_padding.top:l.padding.top,k.paddingBottom=f?l.mobile_padding.bottom:l.padding.bottom),l.margin&&(k.marginLeft=f?l.mobile_margin.left:l.margin.left,k.marginRight=f?l.mobile_margin.right:l.margin.right,k.marginTop=f?l.mobile_margin.top:l.margin.top,k.marginBottom=f?l.mobile_margin.bottom:l.margin.bottom),l.border_radius&&(k.borderRadius=l.border_radius+"px"),l.border_size&&(k.borderWidth=l.border_size+"px",k.borderStyle=l.border_style?l.border_style.value:"solid",k.borderColor=l.border_color?l.border_color:"transparent");const x={};x.fontFamily=nglue_backend.font_names[l.font_title.key],x.fontSize=f?l.mobile_fontsize_title:l.fontsize_title,l.title_color?x.color=l.title_color:x.color=vo.colors.h3;const C={};C.fontFamily=nglue_backend.font_names[l.font_label.key],C.fontSize=f?l.mobile_fontsize_label:l.fontsize_label,l.label_color&&(C.color=l.label_color);const S={};S.fontFamily=nglue_backend.font_names[l.font_author.key],S.fontSize=f?l.mobile_fontsize_author:l.fontsize_author,l.author_color&&(S.color=l.author_color);const N={};N.fontFamily=nglue_backend.font_names[l.font_button.key],N.fontSize=f?l.mobile_fontsize_text:l.fontsize_text,l.link&&("link"==l.cta_type&&(N.color=l.link),"button"==l.cta_type&&(N.backgroundColor=l.button,N.color=l.button_text));let z={};l.margin&&(l.margin.top||l.margin.bottom)&&(z.padding="1px 0");const B=l.divider_bg?l.divider_bg:"#eeeeee";return(0,e.createElement)("div",E({},r,{style:z}),(0,e.createElement)("div",{className:"ngl-lp-items ngl-lp-items-blockeditor",style:k},c&&(0,e.createElement)("div",{className:"ngl-lp-loading"},"Loading posts..."),!c&&!l.posts&&(0,e.createElement)("div",{className:"ngl-lp-noresults"},"No posts were found."),!c&&l.posts&&l.posts.map((function(t,n){var o="";"domain"==l.label_type?o=t.domain:"category"==l.label_type?o=t.categories:"tag"==l.label_type?o=t.tags:"author"==l.label_type&&(o=t.author);var r=l.hidden_posts&&l.hidden_posts.includes(t.id),c=y(t.id,"excerpt")?y(t.id,"excerpt"):t.post_content;return(0,e.createElement)("div",{className:"ngl-lp-item-wrap "+("Desktop"!==_?"on-mobile":""),key:n,style:{flexBasis:l.itemBase}},(y(t.id,"author")||y(t.id,"image")||y(t.id,"label")||y(t.id,"title")||y(t.id,"excerpt")||y(t.id,"ctalink"))&&(0,e.createElement)("div",{className:"ng-reset-item"},(0,e.createElement)(s.Button,{variant:"secondary",icon:Nu,iconSize:20,onClick:()=>{let e=l.custom_data;e.forEach(((n,l)=>{n["author_"+t.id]&&(e[l]["author_"+t.id]=null),n["image_"+t.id]&&(e[l]["image_"+t.id]=null),n["label_"+t.id]&&(e[l]["label_"+t.id]=null),n["title_"+t.id]&&(e[l]["title_"+t.id]=null),n["excerpt_"+t.id]&&(e[l]["excerpt_"+t.id]=null),n["ctalink_"+t.id]&&(e[l]["ctalink_"+t.id]=null)})),a({custom_data:e,date:new Date})}},(0,i.__)("Reset"))),(0,e.createElement)("div",{className:`ngl-lp-item ${"Desktop"!=_&&l.stacked_on_mobile?"is-stacked":"is-not-stacked"} ${r?"ngl-lp-item-hidden":"ngl-lp-item-visible"}`},l.show_image&&(0,e.createElement)(p.MediaUpload,{multiple:!1,render:n=>{let{open:a}=n;return(0,e.createElement)("div",{className:"ngl-lp-image-edit"+(y(t.id,"image")?" ngl-lp-image-edit-hasImage":""),style:{flexBasis:l.div1,padding:"2px 0"}},r&&(0,e.createElement)("div",{className:"ngl-lp-data-hidden"}),(0,e.createElement)("div",{className:"ngl-lp-image"},(0,e.createElement)("img",{src:y(t.id,"image")?y(t.id,"image"):t.featured_image,alt:t.post_title,style:{borderRadius:l.image_radius+"px"},onClick:a}),(0,e.createElement)(s.Button,{variant:"link",className:"ngl-reset-mods ngl-reset-mods-edit",icon:d,iconSize:20,onClick:a})))},onSelect:e=>{let n=l.custom_data;n.forEach(((e,l)=>{e["image_"+t.id]&&(n[l]["image_"+t.id]=null)})),a({custom_data:[...n,{["image_"+t.id]:e.url}],date:new Date})}}),(0,e.createElement)("div",{className:"ngl-lp-data",style:{flexBasis:l.div2}},r&&(0,e.createElement)("div",{className:"ngl-lp-data-hidden"}),l.order.map((n=>1==n&&l.show_label?(0,e.createElement)("div",{key:n,className:"ngl-lp-labels-edit",style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{tagName:"div",className:"ngl-lp-labels",style:C,value:y(t.id,"label")?y(t.id,"label"):o,placeholder:(0,i.__)("Add label...","newsletter-glue"),allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>{let n=l.custom_data;n.forEach(((e,l)=>{e["label_"+t.id]&&(n[l]["label_"+t.id]=null)})),a({custom_data:[...n,{["label_"+t.id]:e}],date:new Date})}})):2==n&&l.show_author?(0,e.createElement)("div",{key:n,className:"ngl-lp-labels-edit",style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{tagName:"div",className:"ngl-lp-labels",style:S,value:y(t.id,"author")?y(t.id,"author"):t.author,placeholder:(0,i.__)("Add author...","newsletter-glue"),allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>{let n=l.custom_data;n.forEach(((e,l)=>{e["author_"+t.id]&&(n[l]["author_"+t.id]=null)})),a({custom_data:[...n,{["author_"+t.id]:e}],date:new Date})}})):3==n&&l.show_heading?(0,e.createElement)("div",{key:n,className:"ngl-lp-title",style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{tagName:"h3",value:y(t.id,"title")?y(t.id,"title"):t.post_title,placeholder:(0,i.__)("Add a heading","newsletter-glue"),style:x,allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>{let n=l.custom_data;n.forEach(((e,l)=>{e["title_"+t.id]&&(n[l]["title_"+t.id]=null)})),a({custom_data:[...n,{["title_"+t.id]:e}],date:new Date})}})):4==n&&l.show_excerpt?(0,e.createElement)("div",{key:n,className:"ngl-lp-content-edit",style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{tagName:"div",className:"ngl-lp-content",style:{fontFamily:nglue_backend.font_names[l.font_text.key],fontSize:f?l.mobile_fontsize_text:l.fontsize_text,color:v},value:m===t.id?c:w(t,c),onMouseEnter:()=>{b(t.id)},onMouseLeave:()=>{},onFocus:()=>{t.id==h&&g(t.id)},onBlur:()=>!1,placeholder:(0,i.__)("Add text...","newsletter-glue"),allowedFormats:["core/bold","core/link","core/italic","core/image"],onChange:e=>{let n=l.custom_data;n.forEach(((e,l)=>{e["excerpt_"+t.id]&&(n[l]["excerpt_"+t.id]=null)})),a({custom_data:[...n,{["excerpt_"+t.id]:e}],date:new Date})}})):5==n&&l.show_cta?(0,e.createElement)("div",{key:n,className:`ngl-lp-cta ngl-lp-cta-${l.cta_type}`,style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{className:"ngl-lp-cta-link"+("button"==l.cta_type?" wp-block-button__link":""),multiline:!1,tagName:"a",style:N,value:y(t.id,"ctalink")?y(t.id,"ctalink"):l.cta_link,placeholder:(0,i.__)("Add link text...","newsletter-glue"),allowedFormats:["core/bold","core/italic"],onChange:e=>{let n=l.custom_data;n.forEach(((e,l)=>{e["ctalink_"+t.id]&&(n[l]["ctalink_"+t.id]=null)})),a({custom_data:[...n,{["ctalink_"+t.id]:e}],date:new Date})}})):void 0))),r&&(0,e.createElement)("span",{className:"ngl-lp-item-hide-wrap"},(0,e.createElement)("a",{href:"#",className:"ngl-lp-item-hide","data-post-id":t.id,onClick:()=>{let e=l.hidden_posts;const n=e.indexOf(t.id);n>-1&&(e.splice(n,1),a({hidden_posts:e,date:new Date}))}},(0,e.createElement)("span",{className:"ngl-lp-hide-icon"},(0,e.createElement)(Oa,{icon:vi})),"Show this post")),!r&&(0,e.createElement)("span",{className:"ngl-lp-item-hide-wrap"},(0,e.createElement)("a",{href:"#",className:"ngl-lp-item-hide","data-post-id":t.id,onClick:()=>{let e=l.hidden_posts.slice();e.push(t.id),a({hidden_posts:e,date:new Date})}},(0,e.createElement)("span",{className:"ngl-lp-hide-icon"},(0,e.createElement)(Oa,{icon:Ur})),"Hide this post"))),l.show_divider&&(0,e.createElement)("div",{style:{backgroundColor:B,height:parseInt(l.divider_size)+"px",margin:"10px 0"}}))}))))},Tu=t=>{const{attributes:n,setAttributes:l}=t;let a=[{value:"text_color",label:"Excerpt"},{value:"background_color",label:"Background"},{value:"title_color",label:"Title"},{value:"label_color",label:"Label"},{value:"author_color",label:"Author"}];"link"===n.cta_type&&n.show_cta&&a.push({value:"link",label:"Link",default:vo.colors.primary,required:!0}),"button"===n.cta_type&&n.show_cta&&(a.push({value:"button",label:"Button",default:vo.colors.btn_bg,required:!0}),a.push({value:"button_text",label:"Button text",default:vo.colors.btn_colour,required:!0})),n.border_size&&a.push({value:"border_color",label:"Border"}),n.divider_size&&n.show_divider&&a.push({value:"divider_bg",label:"Separator"});const o=[{type:"section",label:"Title"},{value:"font_title",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_title",label:"Font size",default:vo.posts.fontsize_title,type:"unit",is_single:!0},{type:"section",label:"Excerpt"},{value:"font_text",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_text",label:"Font size",default:vo.posts.fontsize_text,type:"unit",is_single:!0},{type:"section",label:"Label"},{value:"font_label",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_label",label:"Label font size",default:vo.posts.fontsize_label,type:"unit",is_single:!0},{type:"section",label:"Author"},{value:"font_author",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_author",label:"Font size",default:vo.posts.fontsize_author,type:"unit",is_single:!0},{type:"section",label:"Button/link"},{value:"font_button",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_button",label:"Font size",default:vo.posts.fontsize_button,type:"unit",is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.posts.padding,type:"boxcontrol"},{value:"margin",label:"Margin",default:vo.posts.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background_color:void 0,text_color:void 0,title_color:void 0,label_color:void 0,author_color:void 0,link:vo.colors.primary,button:vo.colors.btn_bg,button_text:vo.colors.btn_colour,border_color:void 0,divider_bg:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({font_title:vo.font,fontsize_title:vo.posts.fontsize_title,font_text:vo.font,fontsize_text:vo.posts.fontsize_text,font_label:vo.font,fontsize_label:vo.posts.fontsize_label,font_author:vo.font,fontsize_author:vo.posts.fontsize_author,font_button:vo.font,fontsize_button:vo.posts.fontsize_button})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.posts.padding,margin:vo.posts.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},Pu=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_fontsize_title",label:"Heading font size",default:vo.mobile.posts.fontsize_title,type:"unit"},{value:"mobile_fontsize_text",label:"Text font size",default:vo.mobile.posts.fontsize_text,type:"unit"},{value:"mobile_fontsize_label",label:"Label font size",default:vo.mobile.posts.fontsize_label,type:"unit"},{value:"mobile_fontsize_author",label:"Author font size",default:vo.mobile.posts.fontsize_author,type:"unit"},{value:"mobile_fontsize_button",label:"Button/link font size",default:vo.mobile.posts.fontsize_button,type:"unit"}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.posts.padding,type:"boxcontrol"},{value:"mobile_margin",label:"Margin",default:vo.mobile.posts.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Collapse into 1 column","newsletter-glue"),checked:n.stacked_on_mobile,onChange:e=>{l({stacked_on_mobile:e})}}))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_fontsize_title:vo.mobile.posts.fontsize_title,mobile_fontsize_text:vo.mobile.posts.fontsize_text,mobile_fontsize_label:vo.mobile.posts.fontsize_label,mobile_fontsize_author:vo.mobile.posts.fontsize_author,mobile_fontsize_button:vo.mobile.posts.fontsize_button})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.posts.padding,mobile_margin:vo.mobile.posts.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},Au=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"})),Iu=()=>null;let Ru=!0;nglue_backend.is_allowed_post_type||(Ru=!1),Ru&&(0,bo.registerBlockType)("newsletterglue/latest-posts",{apiVersion:2,title:(0,i.__)("Latest posts","newsletter-glue"),category:"newsletterglue-blocks",icon:Au,example:{attributes:{}},description:(0,i.__)("Add your latest posts to your newsletters.","newsletter-glue"),keywords:["posts","email","newsletter"],attributes:$r,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}=t;const{deviceType:r}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]);var s=n.show_image?"images":"no-images",c={className:`is-${n.contentstyle} has-${s} columns-${n.columns_num} images-${n.image_position} table-ratio-${n.table_ratio}`};const u=(0,p.useBlockProps)(c);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.InspectorControls,null,"Mobile"!==r&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ngl-gb-outlined"},(0,e.createElement)(Su,{attributes:n,setAttributes:l,className:a,isSelected:o}),(0,e.createElement)(Cu,{attributes:n,setAttributes:l,className:a,isSelected:o})),(0,e.createElement)(xu,{attributes:n,setAttributes:l,className:a,isSelected:o}),(0,e.createElement)(Wr,{attributes:n,setAttributes:l,className:a,isSelected:o})),"Mobile"!==r&&(0,e.createElement)(Tu,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}),"Mobile"===r&&(0,e.createElement)(Pu,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i})),(0,e.createElement)(Bu,{attributes:n,setAttributes:l,className:a,isSelected:o,blockProps:u}))},save:function(t){let{attributes:n}=t;var l={className:`is-${n.contentstyle} columns-${n.columns_num} images-${n.image_position} table-ratio-${n.table_ratio}`};const a=p.useBlockProps.save(l);return(0,e.createElement)(Iu,{attributes:n,blockProps:a})}});const Mu={placeholder:{type:"string"},content:{type:"string",source:"html",selector:"li",default:"",role:"content"},spacing:{type:"string",default:vo.list.spacing},mobile_list_spacing:{type:"string",default:vo.mobile.list.spacing}};var Lu=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M20 5.5H4V4H20V5.5ZM12 12.5H4V11H12V12.5ZM20 20V18.5H4V20H20ZM15.4697 14.9697L18.4393 12L15.4697 9.03033L16.5303 7.96967L20.0303 11.4697L20.5607 12L20.0303 12.5303L16.5303 16.0303L15.4697 14.9697Z"})),Fu=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M4 7.2v1.5h16V7.2H4zm8 8.6h8v-1.5h-8v1.5zm-4-4.6l-4 4 4 4 1-1-3-3 3-3-1-1z"})),Ou=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M20 5.5H4V4H20V5.5ZM12 12.5H4V11H12V12.5ZM20 20V18.5H4V20H20ZM20.0303 9.03033L17.0607 12L20.0303 14.9697L18.9697 16.0303L15.4697 12.5303L14.9393 12L15.4697 11.4697L18.9697 7.96967L20.0303 9.03033Z"})),Hu=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M4 7.2v1.5h16V7.2H4zm8 8.6h8v-1.5h-8v1.5zm-8-3.5l3 3-3 3 1 1 4-4-4-4-1 1z"}));function Vu(e){const{getBlockRootClientId:t,getBlockName:n,getBlockAttributes:l}=(0,Co.useSelect)(p.store);return(0,xo.useRefEffect)((a=>{function o(a){if(a.clipboardData.getData("__unstableWrapperBlockName"))return;const o=t(e);a.clipboardData.setData("__unstableWrapperBlockName",n(o)),a.clipboardData.setData("__unstableWrapperBlockAttributes",JSON.stringify(l(o)))}return a.addEventListener("copy",o),a.addEventListener("cut",o),()=>{a.removeEventListener("copy",o),a.removeEventListener("cut",o)}}),[])}let Du="core/list-item";function ju(t){const n=(0,Co.useRegistry)(),{canOutdent:l}=(0,Co.useSelect)((e=>{const{getBlockRootClientId:n,getBlockName:l}=e(p.store);return{canOutdent:l(n(n(t)))===Du}}),[t]),{moveBlocksToPosition:a,removeBlock:o,insertBlock:i,updateBlockListSettings:r}=(0,Co.useDispatch)(p.store),{getBlockRootClientId:s,getBlockName:c,getBlockOrder:u,getBlockIndex:d,getSelectedBlockClientIds:m,getBlock:g,getBlockListSettings:h}=(0,Co.useSelect)(p.store);return[l,(0,e.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();if(Array.isArray(e)||(e=[e]),!e.length)return;const t=e[0];if(c(t)!==Du)return;const l=function(e){const t=s(e),n=s(t);if(n&&c(n)===Du)return n}(t);if(!l)return;const p=s(t),b=e[e.length-1],_=u(p).slice(d(b)+1);n.batch((()=>{if(_.length){let e=u(t)[0];if(!e){const n=(0,bo.cloneBlock)(g(p),{},[]);e=n.clientId,i(n,0,t,!1),r(e,h(p))}a(_,p,e)}a(e,p,s(l),d(l)+1),u(p).length||o(p,!1)}))}),[])]}nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(Du="newsletterglue/list-item");let $u="core/paragraph";nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&($u="newsletterglue/text");let Wu="core/list";function Uu(t){const n=(0,Co.useSelect)((e=>e(p.store).getBlockIndex(t)>0),[t]),{replaceBlocks:l,selectionChange:a,multiSelect:o}=(0,Co.useDispatch)(p.store),{getBlock:i,getPreviousBlockClientId:r,getSelectionStart:s,getSelectionEnd:c,hasMultiSelection:u,getMultiSelectedBlockClientIds:d}=(0,Co.useSelect)(p.store);return[n,(0,e.useCallback)((()=>{const e=u(),n=e?d():[t],m=n.map((e=>(0,bo.cloneBlock)(i(e)))),g=r(t),p=(0,bo.cloneBlock)(i(g));p.innerBlocks?.length||(p.innerBlocks=[(0,bo.createBlock)(Wu)]),p.innerBlocks[p.innerBlocks.length-1].innerBlocks.push(...m);const h=s(),b=c();l([g,...n],[p]),e?o(m[0].clientId,m[m.length-1].clientId):a(m[0].clientId,b.attributeKey,b.clientId===h.clientId?h.offset:b.offset,b.offset)}),[t])]}nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(Wu="newsletterglue/list");let Gu="core/list-item";function qu(e,t){const n=(0,Co.useRegistry)(),{getPreviousBlockClientId:l,getNextBlockClientId:a,getBlockOrder:o,getBlockRootClientId:i,getBlockName:r}=(0,Co.useSelect)(p.store),{mergeBlocks:s,moveBlocksToPosition:c}=(0,Co.useDispatch)(p.store),[,u]=ju(e);function d(e){const t=o(e);return t.length?d(t[t.length-1]):e}function m(e){const t=i(e),n=i(t);if(n&&r(n)===Gu)return n}function g(e){const t=a(e);if(t)return t;const n=m(e);return n?g(n):void 0}function h(e){const t=o(e);return t.length?o(t[0])[0]:g(e)}return a=>{if(a){const i=h(e);if(!i)return void t(a);m(i)?u(i):n.batch((()=>{c(o(i),i,l(i)),s(e,i)}))}else{const i=l(e);if(m(e))u(e);else if(i){const t=d(i);n.batch((()=>{c(o(e),e,i),s(t,e)}))}else t(a)}}}nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(Gu="newsletterglue/list-item");let Yu="core/list",Zu="core/list-item",Ku="core/paragraph";function Qu(e){const t=(0,bo.switchToBlockType)(e,Yu);if(t)return t;const n=(0,bo.switchToBlockType)(e,Ku);return n?(0,bo.switchToBlockType)(n,Yu):null}function Xu(t){let{clientId:n}=t;const[l,a]=Uu(n),[o,r]=ju(n);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.ToolbarButton,{icon:(0,i.isRTL)()?Lu:Fu,title:(0,i.__)("Outdent"),describedBy:(0,i.__)("Outdent list item"),disabled:!o,onClick:()=>r()}),(0,e.createElement)(s.ToolbarButton,{icon:(0,i.isRTL)()?Ou:Hu,title:(0,i.__)("Indent"),describedBy:(0,i.__)("Indent list item"),isDisabled:!l,onClick:()=>a()}))}nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(Yu="newsletterglue/list",Zu="newsletterglue/list-item",Ku="newsletterglue/text");const Ju=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M12 11v1.5h8V11h-8zm-6-1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}));let ed="core/paragraph";nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(ed="newsletterglue/text");const td={to:[{type:"block",blocks:[ed],transform:e=>(0,bo.createBlock)(ed,e)}]};var nd=td;let ld=!0;nglue_backend.is_allowed_post_type||(ld=!1),ld&&(0,bo.registerBlockType)("newsletterglue/list-item",{apiVersion:2,title:(0,i.__)("List item","newsletter-glue"),category:"newsletterglue-blocks",icon:Ju,description:(0,i.__)("Add a list item to your email.","newsletter-glue"),keywords:["newsletter","email","list"],attributes:Mu,edit:function(t){let n,{attributes:l,setAttributes:a,onReplace:o,clientId:r,mergeBlocks:s}=t;n=(0,Co.select)("core/editor")?"Mobile"===(0,Co.select)("core/editor").getDeviceType():!!(0,Co.select)("core/edit-site")&&"Mobile"===(0,Co.select)("core/edit-site").getDeviceType();const{placeholder:c,content:u,spacing:d,mobile_list_spacing:m}=l,g=(0,p.useBlockProps)({className:"ng-block",ref:Vu(r)}),h=(0,p.useInnerBlocksProps)(g,{allowedBlocks:["newsletterglue/list"],renderAppender:!1,__unstableDisableDropZone:!0}),b=function(t){const{replaceBlocks:n,selectionChange:l}=(0,Co.useDispatch)(p.store),{getBlock:a,getBlockRootClientId:o,getBlockIndex:i}=(0,Co.useSelect)(p.store),r=(0,e.useRef)(t);r.current=t;const[s,c]=ju(r.current.clientId);return(0,xo.useRefEffect)((e=>{function t(e){if(e.defaultPrevented||e.keyCode!==zo.ENTER)return;const{content:t,clientId:u}=r.current;if(t.length)return;if(e.preventDefault(),s)return void c();const d=a(o(u)),m=i(u),g=(0,bo.cloneBlock)({...d,innerBlocks:d.innerBlocks.slice(0,m)}),p=(0,bo.createBlock)($u),h=[...d.innerBlocks[m].innerBlocks[0]?.innerBlocks||[],...d.innerBlocks.slice(m+1)],b=h.length?[(0,bo.cloneBlock)({...d,innerBlocks:h})]:[];n(d.clientId,[g,p,...b],1),l(p.clientId)}return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}),[s])}({content:u,clientId:r}),_=function(e){const{getSelectionStart:t,getSelectionEnd:n}=(0,Co.useSelect)(p.store),[l,a]=Uu(e);return(0,xo.useRefEffect)((e=>{function o(e){const{keyCode:o,shiftKey:i,altKey:r,metaKey:s,ctrlKey:c}=e;if(e.defaultPrevented||!l||o!==zo.SPACE||i||r||s||c)return;const u=t(),d=n();0===u.offset&&0===d.offset&&(e.preventDefault(),a())}return e.addEventListener("keydown",o),()=>{e.removeEventListener("keydown",o)}}),[l,a])}(r),f=function(t){const n=(0,e.useRef)(!1),{getBlock:l}=(0,Co.useSelect)(p.store);return(0,e.useCallback)((e=>{const a=l(t);return n.current?(0,bo.cloneBlock)(a,{content:e}):(n.current=!0,(0,bo.createBlock)(a.name,{...a.attributes,content:e}))}),[t,l])}(r),v=qu(r,s),y={paddingBottom:n?m:d};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",E({},h,{style:y}),(0,e.createElement)(p.RichText,{ref:(0,xo.useMergeRefs)([b,_]),identifier:"content",tagName:"div",onChange:e=>a({content:e}),value:u,"aria-label":(0,i.__)("List text"),placeholder:c||(0,i.__)("List"),onSplit:f,onMerge:v,onReplace:o?function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];o(function(e){const t=[];for(let n of e)if(n.name===Zu)t.push(n);else if(n.name===Yu)t.push(...n.innerBlocks);else if(n=Qu(n))for(const{innerBlocks:e}of n)t.push(...e);return t}(e),...n)}:void 0}),h.children),(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(Xu,{clientId:r})))},save:function(t){let{attributes:n}=t;const{spacing:l}=n,a={paddingBottom:l};return(0,e.createElement)("li",E({},p.useBlockProps.save({className:"ng-block"}),{style:a}),(0,e.createElement)(p.RichText.Content,{value:n.content}),(0,e.createElement)(p.InnerBlocks.Content,null))},merge(e,t){return{...e,content:e.content+t.content}},supports:{className:!1,__experimentalSelector:"li"},parent:["newsletterglue/list"],transforms:nd});let ad={values:{type:"string",source:"html",selector:"ol,ul",multiline:"li",default:"",__unstableMultilineWrapperTags:["ol","ul"],role:"content"},ordered:{type:"boolean",default:!1,role:"content"},type:{type:"string"},start:{type:"number"},reversed:{type:"boolean"},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},padding:{type:"object"},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.block.fontsize},lineheight:{type:"number",default:vo.lineheight},spacing:{type:"string",default:vo.list.spacing},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},placeholder:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},isParent:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.list&&(ad.mobile_list_size={type:"string",default:vo.mobile.list.fontsize},ad.mobile_list_lineheight={type:"number",default:vo.mobile.list.lineheight},ad.mobile_list_padding={type:"object"},ad.mobile_list_spacing={type:"string",default:vo.mobile.list.spacing});const od=ad;var id=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),rd=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),sd=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M3.8 15.8h8.9v-1.5H3.8v1.5zm0-7h8.9V7.2H3.8v1.6zm14.7-2.1V10h1V5.3l-2.2.7.3 1 .9-.3zm1.2 6.1c-.5-.6-1.2-.5-1.7-.4-.3.1-.5.2-.7.3l.1 1.1c.2-.2.5-.4.8-.5.3-.1.6 0 .7.1.2.3 0 .8-.2 1.1-.5.8-.9 1.6-1.4 2.5H20v-1h-.9c.3-.6.8-1.4.9-2.1 0-.3 0-.8-.3-1.1z"})),cd=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM5 6.7V10h1V5.3L3.8 6l.4 1 .8-.3zm-.4 5.7c-.3.1-.5.2-.7.3l.1 1.1c.2-.2.5-.4.8-.5.3-.1.6 0 .7.1.2.3 0 .8-.2 1.1-.5.8-.9 1.6-1.4 2.5h2.7v-1h-1c.3-.6.8-1.4.9-2.1.1-.3 0-.8-.2-1.1-.5-.6-1.3-.5-1.7-.4z"}));const ud=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0}],o=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.block.fontsize,type:"unit"},{value:"fontweight",label:"Font weight",default:vo.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:"Line height",default:vo.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"padding",label:"Padding",default:n.isParent?vo.list.main_padding:vo.list.padding,type:"boxcontrol"},{value:"spacing",label:"List item spacing",default:vo.list.spacing,type:"unit",is_single:!0}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,link:vo.colors.primary})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({fontweight:vo.fontweight,lineheight:vo.lineheight,font:vo.font,fontsize:vo.block.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:n.isParent?vo.list.main_padding:vo.list.padding,spacing:vo.list.spacing})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},dd=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_list_size",label:"Font size",default:vo.mobile.list.fontsize,type:"unit"},{value:"mobile_list_lineheight",label:"Line height",default:vo.mobile.list.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_list_padding",label:"Padding",default:n.isParent?vo.mobile.list.main_padding:vo.mobile.list.padding,type:"boxcontrol"},{value:"mobile_list_spacing",label:"List item spacing",default:vo.mobile.list.spacing,type:"unit",is_single:!0}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_list_lineheight:vo.mobile.list.lineheight,mobile_list_size:vo.mobile.list.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_list_padding:n.isParent?vo.mobile.list.main_padding:vo.mobile.list.padding,mobile_list_spacing:vo.mobile.list.spacing})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))};var md=t=>{let{setAttributes:n,reversed:l,start:a}=t;return(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Ordered list settings")},(0,e.createElement)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Start value"),type:"number",onChange:e=>{const t=parseInt(e,10);n({start:isNaN(t)?void 0:t})},value:Number.isInteger(a)?a.toString(10):"",step:"1"}),(0,e.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Reverse list numbering"),checked:l||!1,onChange:e=>{n({reversed:e||void 0})}})))},gd=(0,e.forwardRef)((function(t,n){const{ordered:l,...a}=t,o=l?"ol":"ul";return(0,e.createElement)(o,E({ref:n},a))}));const pd=[["newsletterglue/list-item"]];function hd(t){let{clientId:n}=t;const[l,a]=function(t){const{canOutdent:n}=(0,Co.useSelect)((e=>{const{getBlockRootClientId:n,getBlock:l}=e(p.store),a=n(t);return{canOutdent:!!a&&"newsletterglue/list-item"===l(a).name}}),[t]),{replaceBlocks:l,selectionChange:a}=(0,Co.useDispatch)(p.store),{getBlockRootClientId:o,getBlockAttributes:i,getBlock:r}=(0,Co.useSelect)(p.store);return[n,(0,e.useCallback)((()=>{const e=o(t),n=i(e),s=(0,bo.createBlock)("newsletterglue/list-item",n),{innerBlocks:c}=r(t);l([e],[s,...c]),a(c[c.length-1].clientId)}),[t])]}(n);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.ToolbarButton,{icon:(0,i.isRTL)()?Lu:Fu,title:(0,i.__)("Outdent"),describedBy:(0,i.__)("Outdent list item"),disabled:!l,onClick:a}))}const bd=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z"}));let _d="core/list",fd="core/list-item";nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(_d="newsletterglue/list",fd="newsletterglue/list-item");let vd="newsletterglue/list",yd="newsletterglue/list-item",wd="newsletterglue/text",Ed="newsletterglue/heading";function kd(e){let{phrasingContentSchema:t}=e;const n={...t,ul:{},ol:{attributes:["type","start","reversed"]}};return["ul","ol"].forEach((e=>{n[e].children={li:{children:n}}})),n}function xd(e){return e.flatMap((e=>{let{name:t,attributes:n,innerBlocks:l=[]}=e;return t===yd?[n.content,...xd(l)]:xd(l)}))}const Cd={from:[{type:"block",isMultiBlock:!0,blocks:[wd,Ed],transform:e=>{let t=[];if(e.length>1)t=e.map((e=>{let{content:t}=e;return(0,bo.createBlock)(yd,{content:t})}));else if(1===e.length){const n=(0,di.create)({html:e[0].content});t=(0,di.split)(n,"\n").map((e=>(0,bo.createBlock)(yd,{content:(0,di.toHTMLString)({value:e})})))}return(0,bo.createBlock)(vd,{},t)}},{type:"raw",selector:"ol,ul",schema:e=>({ol:kd(e).ol,ul:kd(e).ul}),transform:function e(t){var n;const l={ordered:"OL"===t.tagName,anchor:""===t.id?void 0:t.id,start:t.getAttribute("start")?parseInt(t.getAttribute("start"),10):void 0,reversed:!!t.hasAttribute("reversed")||void 0,type:null!==(n=t.getAttribute("type"))&&void 0!==n?n:void 0},a=Array.from(t.children).map((t=>{const n=Array.from(t.childNodes).filter((e=>e.nodeType!==e.TEXT_NODE||0!==e.textContent.trim().length));n.reverse();const[l,...a]=n;if("UL"!==l?.tagName&&"OL"!==l?.tagName)return(0,bo.createBlock)(fd,{content:t.innerHTML});const o=a.map((e=>e.nodeType===e.TEXT_NODE?e.textContent:e.outerHTML));o.reverse();const i={content:o.join("").trim()},r=[e(l)];return(0,bo.createBlock)(fd,i,r)}));return(0,bo.createBlock)(_d,l,a)}},...["*","-"].map((e=>({type:"prefix",prefix:e,transform(e){return(0,bo.createBlock)(vd,{},[(0,bo.createBlock)(yd,{content:e})])}}))),...["1.","1)"].map((e=>({type:"prefix",prefix:e,transform(e){return(0,bo.createBlock)(vd,{ordered:!0},[(0,bo.createBlock)(yd,{content:e})])}})))],to:[...[wd,Ed].map((e=>({type:"block",blocks:[e],transform:(t,n)=>xd(n).map((t=>(0,bo.createBlock)(e,{content:t})))})))]};var Sd=Cd;let Nd=!0;nglue_backend.is_allowed_post_type||(Nd=!1),Nd&&(0,bo.registerBlockType)("newsletterglue/list",{apiVersion:2,title:(0,i.__)("List","newsletter-glue"),category:"newsletterglue-blocks",icon:bd,example:{innerBlocks:[{name:"newsletterglue/list-item",attributes:{content:(0,i.__)("Alice.")}},{name:"newsletterglue/list-item",attributes:{content:(0,i.__)("The White Rabbit.")}},{name:"newsletterglue/list-item",attributes:{content:(0,i.__)("The Cheshire Cat.")}},{name:"newsletterglue/list-item",attributes:{content:(0,i.__)("The Mad Hatter.")}},{name:"newsletterglue/list-item",attributes:{content:(0,i.__)("The Queen of Hearts.")}}]},description:(0,i.__)("Add a list to your email.","newsletter-glue"),keywords:["newsletter","email","list"],attributes:od,edit:function(t){let{attributes:n,setAttributes:l,clientId:a,style:o,className:r,isSelected:c}=t;const{deviceType:u}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),d="Mobile"===u,m=n.color?n.color:vo.color,g=(0,p.useBlockProps)({width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:m,backgroundColor:n.background},...e.Platform.isNative&&{style:o}}),h=(0,p.useInnerBlocksProps)(g,{allowedBlocks:["newsletterglue/list-item"],template:pd,templateLock:!1,templateInsertUpdatesSelection:!0,...e.Platform.isNative&&{marginVertical:8,marginHorizontal:8,useCompactList:!0}}),{ordered:b,type:_,reversed:f,start:v}=n;(0,e.useLayoutEffect)((()=>{n.padding&&n.isParent||(function(e,t){const n=(0,Co.select)("core/block-editor").getBlockParents(e),l=(0,Co.select)("core/block-editor").getBlocksByClientId(n);var a,o=!1;for(a=0;a<l.length;a++)"newsletterglue/list"==l[a].name&&(o=!0);return!o}(a)?l({isParent:!0,padding:vo.list.main_padding,mobile_list_padding:vo.mobile.list.main_padding}):l({isParent:!1,padding:vo.list.padding,mobile_list_padding:vo.mobile.list.padding}))}),[]),(0,e.useEffect)((()=>{(0,Co.select)("core/block-editor").getBlocksByClientId(a)[0]&&(0,Co.select)("core/block-editor").getBlocksByClientId(a)[0].innerBlocks.forEach((function(e){(0,Co.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{spacing:n.spacing,mobile_list_spacing:n.mobile_list_spacing})}))}),[n.spacing,n.mobile_list_spacing]);const y=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(s.ToolbarButton,{icon:(0,i.isRTL)()?id:rd,title:(0,i.__)("Unordered"),describedBy:(0,i.__)("Convert to unordered list"),isActive:!1===b,onClick:()=>{l({ordered:!1})}}),(0,e.createElement)(s.ToolbarButton,{icon:(0,i.isRTL)()?sd:cd,title:(0,i.__)("Ordered"),describedBy:(0,i.__)("Convert to ordered list"),isActive:!0===b,onClick:()=>{l({ordered:!0})}}),(0,e.createElement)(hd,{clientId:a})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==u&&(0,e.createElement)(ud,{attributes:n,setAttributes:l,className:r,isSelected:c,clientId:a}),"Mobile"===u&&(0,e.createElement)(dd,{attributes:n,setAttributes:l,className:r,isSelected:c,clientId:a})));let w;return w=n.padding?{fontSize:d?n.mobile_list_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:d?n.mobile_list_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:d?n.mobile_list_padding.top:n.padding.top,paddingBottom:d?n.mobile_list_padding.bottom:n.padding.bottom,paddingLeft:d?n.mobile_list_padding.left:n.padding.left,paddingRight:d?n.mobile_list_padding.right:n.padding.right,color:m}:{fontSize:d?n.mobile_list_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:d?n.mobile_list_lineheight:n.lineheight,fontWeight:n.fontweight.key,color:m},(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",g,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",style:w},(0,e.createElement)(gd,E({ordered:b,reversed:f,start:v,type:_},h)))))),y,b&&(0,e.createElement)(md,{setAttributes:l,ordered:b,reversed:f,start:v}))},save:function(t){let{attributes:n}=t;const{ordered:l,type:a,reversed:o,start:i}=n,r=l?"ol":"ul",s=n.color?n.color:vo.color;var c={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:s,backgroundColor:n.background}};const u=p.useBlockProps.save(c),d={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,color:s};return(0,e.createElement)("table",u,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",style:d},(0,e.createElement)(r,p.useBlockProps.save({type:a,reversed:o,start:i}),(0,e.createElement)(p.InnerBlocks.Content,null))))))},transforms:Sd,supports:{__unstablePasteTextInline:!0,__experimentalSelector:"ol,ul",__experimentalSlashInserter:!0,splitting:!0}});let zd={content:{type:"string",source:"html",selector:"p",default:"",role:"content"},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},padding:{type:"object",default:vo.meta.padding},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.meta.fontsize},lineheight:{type:"number",default:vo.lineheight},post_id:{type:"number"},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},placeholder:{type:"string"},order:{type:"array",default:[1,2,3,4,5,6,7,8]},divider_style:{type:"string",default:"line"},read_online_link:{type:"string",default:"blog"},show_author:{type:"boolean",default:!0},show_issue:{type:"boolean",default:!0},show_date:{type:"boolean",default:!0},show_title:{type:"boolean",default:!1},show_location:{type:"boolean",default:!1},show_readtime:{type:"boolean",default:!0},show_url:{type:"boolean",default:!0},show_meta:{type:"boolean",default:!1},title:{type:"string"},issue:{type:"string"},meta:{type:"string"},location:{type:"string"},url:{type:"string"},readingtime:{type:"string"},readtime:{type:"string"},date_format:{type:"string",default:"F j, Y"},author_name:{type:"string"},profile_pic:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"},inherited:{type:"boolean",default:!1}};vo.mobile.meta&&(zd.mobile_size={type:"string",default:vo.mobile.meta.fontsize},zd.mobile_lineheight={type:"number",default:vo.mobile.meta.lineheight},zd.mobile_padding={type:"object",default:vo.mobile.meta.padding});const Bd=zd;var Td=window.wp.date;const Pd={1:{name:"author",title:"Author details",hasSettings:!0,control:function(t){const{attrs:n,setAttributes:l}=t;let a=n;var o=function(){l({profile_pic:newsletterglue_meta.profile_pic})};return(0,e.createElement)(s.BaseControl,{className:"ngl-base--flex"},(0,e.createElement)(p.MediaUpload,{onSelect:function(e){return l({profile_pic:e.url})},type:"image",render:function(t){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.Button,{onClick:t.open,icon:pr,variant:"link"},"Change profile picture"),a.profile_pic&&a.profile_pic!=newsletterglue_meta.profile_pic&&(0,e.createElement)(s.Button,{onClick:o,variant:"link",isDestructive:!0},"Reset"))}}))}},2:{name:"issue",title:"Issue number"},3:{name:"date",title:"Date",hasSettings:!0,control:function(t){const{attrs:n,setAttributes:l}=t;let a=n;const o=wp.data.select("core/editor").getCurrentPost();var r=[{value:"l, j M Y",label:Td.format("l, j M Y",o.date)},{value:"F j, Y",label:Td.format("F j, Y",o.date)},{value:"j M Y",label:Td.format("j M Y",o.date)},{value:"Y-m-d",label:Td.format("Y-m-d",o.date)},{value:"m/d/Y",label:Td.format("m/d/Y",o.date)},{value:"d/m/Y",label:Td.format("d/m/Y",o.date)}];return(0,e.createElement)(s.SelectControl,{label:(0,i.__)("Date format"),value:a.date_format,onChange:e=>l({date_format:e}),options:r})}},4:{name:"title",title:"Title"},5:{name:"location",title:"Location"},6:{name:"readtime",title:"Reading time"},7:{name:"url",title:"Read online",hasSettings:!0,control:function(t){const{attrs:n,setAttributes:l}=t;let a=n;return(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Read online links to","newsletter-glue"),value:a.read_online_link,onChange:e=>l({read_online_link:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"email",label:(0,i.__)("Email HTML")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"blog",label:(0,i.__)("Website")}))}},8:{name:"meta",title:"Custom meta"}};function Ad(t){const{attributes:n,listeners:l,setNodeRef:a,transform:o,transition:i}=_u({id:t.id}),{id:r,attrs:c,setAttributes:u}=t,d={transform:ps.Transform.toString(o),transition:i},m=(0,e.createElement)("div",E({},l,n,{className:"ng-sortable-handle"}),(0,e.createElement)(Oa,{icon:Eu}));var g={};Object.keys(Pd).forEach((e=>{Pd[e].hasSettings&&(g[Pd[e].name]=!1)}));const[p,h]=(0,e.useState)(g);var b=Pd[r].control?Pd[r].control:null;return(0,e.createElement)("div",{ref:a,style:d,className:"ng-sortable-area"},(0,e.createElement)("div",{className:`ng-sortable-item${p[Pd[r].name]?" opened":""}${c[`show_${Pd[r].name}`]?"":" hidden"}`},m,(0,e.createElement)("div",{className:"ng-sortable-label"+(Pd[r].hasSettings?" is-underlined":""),onClick:()=>{Pd[r].hasSettings&&h({...p,[Pd[r].name]:!p[Pd[r].name]})}},Pd[r].title),Pd[r].hasSettings&&c[`show_${Pd[r].name}`]&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:p[Pd[r].name]&&c[`show_${Pd[r].name}`]?Gr:qr,iconSize:22,label:p[Pd[r].name]&&c[`show_${Pd[r].name}`]?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{h({...p,[Pd[r].name]:!p[Pd[r].name]})}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:c[`show_${Pd[r].name}`]?vi:Ur,iconSize:20,label:c[`show_${Pd[r].name}`]?`Hide ${Pd[r].title}`:`Show ${Pd[r].title}`,showTooltip:!0,onClick:()=>{u({[`show_${Pd[r].name}`]:!c[`show_${Pd[r].name}`]})}})),Pd[r].control&&c[`show_${Pd[r].name}`]&&(0,e.createElement)("div",{className:"ng-sortable-control"+(p[Pd[r].name]&&c[`show_${Pd[r].name}`]?" opened":"")},(0,e.createElement)(b,t)))}const Id=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0}],o=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.meta.fontsize,type:"unit"},{value:"fontweight",label:"Font weight",default:vo.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:"Line height",default:vo.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.meta.padding,type:"boxcontrol"}],[c,u]=(0,e.useState)(n.order),d=zs(Ns(vc),Ns(pc,{coordinateGetter:yu}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Manage metadata")},(0,e.createElement)(Kc,{sensors:d,collisionDetection:Ls,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n.id&&u((e=>{const a=e.indexOf(t.id),o=e.indexOf(n.id);var i=nu(e,a,o);return l({order:i}),i}))}},(0,e.createElement)(uu,{items:c,strategy:ru},c.map((t=>(0,e.createElement)(Ad,{key:t,id:t,attrs:n,setAttributes:l})))))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Divider style","newsletter-glue"),value:n.divider_style,onChange:e=>l({divider_style:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"line",label:(0,i.__)("Line")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"dot",label:(0,i.__)("Dot")}))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,link:vo.colors.primary})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({fontweight:vo.fontweight,lineheight:vo.lineheight,font:vo.font,fontsize:vo.meta.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.meta.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},Rd=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_size",label:"Font size",default:vo.mobile.meta.fontsize,type:"unit"},{value:"mobile_lineheight",label:"Line height",default:vo.mobile.meta.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.meta.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_lineheight:vo.mobile.meta.lineheight,mobile_size:vo.mobile.meta.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.meta.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},Md=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M6 3H8V5H16V3H18V5C19.1046 5 20 5.89543 20 7V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V7C4 5.89543 4.89543 5 6 5V3ZM18 6.5H6C5.72386 6.5 5.5 6.72386 5.5 7V8H18.5V7C18.5 6.72386 18.2761 6.5 18 6.5ZM18.5 9.5H5.5V19C5.5 19.2761 5.72386 19.5 6 19.5H18C18.2761 19.5 18.5 19.2761 18.5 19V9.5ZM11 11H13V13H11V11ZM7 11V13H9V11H7ZM15 13V11H17V13H15Z"}));let Ld=!0;nglue_backend.is_allowed_post_type||(Ld=!1),Ld&&(0,bo.registerBlockType)("newsletterglue/meta-data",{apiVersion:2,title:(0,i.__)("Metadata","newsletter-glue"),category:"newsletterglue-blocks",icon:Md,example:{},description:(0,i.__)("Add meta data to your email.","newsletter-glue"),keywords:["newsletter","email","meta"],attributes:Bd,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}=t;const s=wp.data.select("core/editor").getCurrentPost(),c=Td.format(n.date_format,s.date);(0,e.useEffect)((()=>{n.author_name||l({author_name:newsletterglue_meta.author_name}),n.profile_pic||l({profile_pic:newsletterglue_meta.profile_pic}),!n.title&&s&&l({title:s.title}),n.url||l({url:(0,i.__)("Read online")}),n.readtime||l({readtime:(0,i.__)("Reading time:")}),l({readingtime:newsletterglue_meta.readtime}),l({post_id:s.id})}),[]);const{deviceType:u}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),d="Mobile"===u;var m=n.color?n.color:vo.color,g={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:m,backgroundColor:n.background}};const h=(0,p.useBlockProps)(g),b={fontSize:d?n.mobile_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:d?n.mobile_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:d?n.mobile_padding.top:n.padding.top,paddingBottom:d?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:d?n.mobile_padding.left:n.padding.left,paddingRight:d?n.mobile_padding.right:n.padding.right,textAlign:n.align,color:m};var _=n.order,f=n.divider_style&&"dot"==n.divider_style?"•":"|",v="blog"===n.read_online_link?"{{ blog_post }}":"{{ webversion }}",y=0;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:n.align,onChange:e=>{l({align:void 0===e?"none":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==u&&(0,e.createElement)(Id,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}),"Mobile"===u&&(0,e.createElement)(Rd,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r})),(0,e.createElement)("table",E({},h,{"data-date-format":n.date_format}),(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:b},_.map((function(t,a){var o=Pd[t];if(n["show_"+o.name])return y++,(0,e.createElement)("span",{key:a,className:`ng-block-${o.name}`,style:{display:"inline-block"}},y>1&&(0,e.createElement)("span",{className:"ng-sep"},"   ",f,"   "),"author"===o.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:n.profile_pic,width:"32",height:"32",className:"ng-image",style:{width:"32px",height:"32px",display:"inline-block",margin:"0 6px 0 0",verticalAlign:"middle",borderRadius:"32px"}}),(0,e.createElement)(p.RichText,{tagName:"span",placeholder:newsletterglue_meta.author_name,value:n.author_name,onChange:e=>l({author_name:e}),withoutInteractiveFormatting:!0,multiline:!1})),"title"===o.name&&(0,e.createElement)(p.RichText,{tagName:"span","aria-label":(0,i.__)("Enter title..."),placeholder:(0,i.__)("Enter title..."),value:n.title,onChange:e=>l({title:e}),withoutInteractiveFormatting:!0,multiline:!1}),"issue"===o.name&&(0,e.createElement)(p.RichText,{tagName:"span","aria-label":(0,i.__)("Issue #"),placeholder:(0,i.__)("Issue #"),value:n.issue,onChange:e=>l({issue:e}),withoutInteractiveFormatting:!0,multiline:!1}),"date"===o.name&&(0,e.createElement)("span",{className:"ngl-metadata-date-ajax"},c),"location"===o.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.RichText,{tagName:"span","aria-label":(0,i.__)("Location"),placeholder:(0,i.__)("Location"),value:n.location,onChange:e=>l({location:e}),withoutInteractiveFormatting:!0,multiline:!1})),"url"===o.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.RichText,{tagName:"a",href:v,placeholder:(0,i.__)("Read online"),value:n.url,onChange:e=>l({url:e}),withoutInteractiveFormatting:!0,multiline:!1})),"readtime"===o.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.RichText,{tagName:"span",placeholder:(0,i.__)("Reading time:"),value:n.readtime,onChange:e=>l({readtime:e}),withoutInteractiveFormatting:!0,multiline:!1})," ",(0,e.createElement)("span",{className:"ngl-metadata-readtime-ajax"},n.readingtime)),"meta"===o.name&&(0,e.createElement)(p.RichText,{tagName:"span","aria-label":(0,i.__)("Enter data"),placeholder:(0,i.__)("Enter data..."),value:n.meta,onChange:e=>l({meta:e}),withoutInteractiveFormatting:!0,multiline:!1}))})))))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;var a={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:l,backgroundColor:n.background}};const o=p.useBlockProps.save(a),i={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.align,color:l};var r=n.order,s=n.divider_style&&"dot"==n.divider_style?"•":"|",c="blog"===n.read_online_link?"{{ blog_post }}":"{{ webversion }}";const u=wp.data.select("core/editor").getCurrentPost(),d=Td.format(n.date_format,u.date);var m=0;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",E({},o,{"data-date-format":n.date_format}),(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:i},r.map((function(t,l){var a=Pd[t];if(n["show_"+a.name])return m++,(0,e.createElement)("span",{key:l,className:`ng-block-${a.name}`,style:{display:"inline-block"}},m>1&&(0,e.createElement)("span",{className:"ng-sep"},"   ",s,"   "),"author"===a.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:n.profile_pic,width:"32",height:"32",className:"ng-image",style:{width:"32px",height:"32px",display:"inline-block",margin:"0 6px 0 0",verticalAlign:"middle",borderRadius:"32px"}}),(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.author_name})),"title"===a.name&&(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.title}),"issue"===a.name&&(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.issue}),"date"===a.name&&(0,e.createElement)("span",{className:"ngl-metadata-date-ajax"},d),"location"===a.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.location})),"url"===a.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.RichText.Content,{tagName:"a",href:c,value:n.url})),"readtime"===a.name&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.readtime})," ",(0,e.createElement)("span",{className:"ngl-metadata-readtime-ajax"},n.readingtime)),"meta"===a.name&&(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.meta}))})))))))}});let Fd={list_id:{type:"string"},extra_list_id:{type:"string"},checkbox_text:{type:"string"},double_optin:{type:"boolean",default:!1},button_text:{type:"string",default:"Subscribe"},add_heading:{type:"boolean",default:!1},add_description:{type:"boolean",default:!1},add_name:{type:"boolean",default:!1},add_text:{type:"boolean",default:!1},add_checkbox:{type:"boolean",default:!1},name_required:{type:"boolean",default:!1},cb_required:{type:"boolean",default:!1},form_style:{type:"string",default:"portrait"},form_radius:{type:"number",default:12},spacing_size:{type:"number",default:20},name_placeholder:{type:"string"},email_placeholder:{type:"string"},message_text:{type:"string",default:"Thanks for subscribing."},order:{type:"array",default:[1,2,3,4,5]},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},padding:{type:"object",default:vo.optin.padding},margin:{type:"object",default:vo.optin.margin},form_header:{type:"string"},form_description:{type:"string"},button_fill:{type:"string"},button_outline:{type:"string"},button_text_color:{type:"string"},heading_color:{type:"string"},description_color:{type:"string"},label_color:{type:"string"},input_color:{type:"string"},text_color:{type:"string"},checkbox_color:{type:"string"},success_color:{type:"string"},name_label:{type:"string",default:"Name"},email_label:{type:"string",default:"Email"},form_text:{type:"string"},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.block.fontsize},lineheight:{type:"number",default:vo.lineheight},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},placeholder:{type:"string"},font_heading:{type:"object",default:vo.font},font_desc:{type:"object",default:vo.font},font_input:{type:"object",default:vo.font},font_label:{type:"object",default:vo.font},font_text:{type:"object",default:vo.font},font_checkbox:{type:"object",default:vo.font},font_button:{type:"object",default:vo.font},font_success:{type:"object",default:vo.font},fontsize_heading:{type:"string",default:vo.optin.fontsize_heading},fontsize_desc:{type:"string",default:vo.optin.fontsize_desc},fontsize_label:{type:"string",default:vo.optin.fontsize_label},fontsize_input:{type:"string",default:vo.optin.fontsize_input},fontsize_text:{type:"string",default:vo.optin.fontsize_text},fontsize_checkbox:{type:"string",default:vo.optin.fontsize_checkbox},fontsize_button:{type:"string",default:vo.optin.fontsize_button},fontsize_success:{type:"string",default:vo.optin.fontsize_success},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!1},viewport:{type:"string",default:"Desktop"}};vo.mobile.optin&&(Fd.mobile_fontsize_heading={type:"string",default:vo.mobile.optin.fontsize_heading},Fd.mobile_fontsize_desc={type:"string",default:vo.mobile.optin.fontsize_desc},Fd.mobile_fontsize_input={type:"string",default:vo.mobile.optin.fontsize_input},Fd.mobile_fontsize_label={type:"string",default:vo.mobile.optin.fontsize_label},Fd.mobile_fontsize_text={type:"string",default:vo.mobile.optin.fontsize_text},Fd.mobile_fontsize_checkbox={type:"string",default:vo.mobile.optin.fontsize_checkbox},Fd.mobile_fontsize_button={type:"string",default:vo.mobile.optin.fontsize_button},Fd.mobile_fontsize_success={type:"string",default:vo.mobile.optin.fontsize_success},Fd.mobile_padding={type:"object",default:vo.mobile.optin.padding},Fd.mobile_margin={type:"object",default:vo.mobile.optin.margin});const Od=Fd,Hd={1:{name:"heading",title:"Form heading"},2:{name:"description",title:"Form description"},3:{name:"name",title:"Name",hasSettings:!0,control:function(t){const{attrs:n,setAttributes:l}=t;let a=n;return(0,e.createElement)("div",{style:{padding:"10px 0 0"}},(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Make it required","newsletter-glue"),checked:a.name_required,onChange:e=>{l({name_required:e})}}))}},4:{name:"checkbox",title:"Checkbox",hasSettings:!0,control:function(t){const{attrs:n,setAttributes:l}=t;let a=n;return(0,e.createElement)("div",{style:{padding:"10px 0 0"}},(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Make it required","newsletter-glue"),checked:a.cb_required,onChange:e=>{l({cb_required:e})}}))}}};function Vd(t){const{setNodeRef:n,transform:l,transition:a}=_u({id:t.id}),{id:o,attrs:i,setAttributes:r}=t;if(5==o)return null;const c={transform:ps.Transform.toString(l),transition:a};var u={};Object.keys(Hd).forEach((e=>{Hd[e].hasSettings&&(u[Hd[e].name]=!1)}));const[d,m]=(0,e.useState)(u);var g=Hd[o]&&Hd[o].control?Hd[o].control:null;return(0,e.createElement)("div",{ref:n,style:c,className:"ng-sortable-area"},(0,e.createElement)("div",{className:`ng-sortable-item disabled${d[Hd[o].name]?" opened":""}${i[`add_${Hd[o].name}`]?"":" hidden"}`},(0,e.createElement)("div",{className:"ng-sortable-label"+(Hd[o].hasSettings?" is-underlined":""),onClick:()=>{Hd[o].hasSettings&&m({...d,[Hd[o].name]:!d[Hd[o].name]})}},Hd[o].title),Hd[o].hasSettings&&i[`add_${Hd[o].name}`]&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:d[Hd[o].name]&&i[`add_${Hd[o].name}`]?Gr:qr,iconSize:22,label:d[Hd[o].name]&&i[`add_${Hd[o].name}`]?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{m({...d,[Hd[o].name]:!d[Hd[o].name]})}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:i[`add_${Hd[o].name}`]?vi:Ur,iconSize:20,label:i[`add_${Hd[o].name}`]?`Hide ${Hd[o].title}`:`Show ${Hd[o].title}`,showTooltip:!0,onClick:()=>{r({[`add_${Hd[o].name}`]:!i[`add_${Hd[o].name}`]})}})),Hd[o].control&&i[`add_${Hd[o].name}`]&&(0,e.createElement)("div",{className:"ng-sortable-control"+(d[Hd[o].name]&&i[`add_${Hd[o].name}`]?" opened":"")},(0,e.createElement)(g,t)))}const Dd=n=>{const{attributes:l,setAttributes:a,showMsg:o,setShowMsg:r}=n,c=[{type:"section",label:"Heading"},{value:"font_heading",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_heading",label:"Font size",default:vo.optin.fontsize_heading,type:"unit",is_single:!0},{type:"section",label:"Description"},{value:"font_desc",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_desc",label:"Font size",default:vo.optin.fontsize_desc,type:"unit",is_single:!0},{type:"section",label:"Name and email titles"},{value:"font_label",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_label",label:"Font size",default:vo.optin.fontsize_label,type:"unit",is_single:!0},{type:"section",label:"Name and email input fields"},{value:"font_input",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_input",label:"Font size",default:vo.optin.fontsize_input,type:"unit",is_single:!0},{type:"section",label:"Text beneath button"},{value:"font_text",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_text",label:"Font size",default:vo.optin.fontsize_text,type:"unit",is_single:!0},{type:"section",label:"Checkbox text"},{value:"font_checkbox",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_checkbox",label:"Font size",default:vo.optin.fontsize_checkbox,type:"unit",is_single:!0},{type:"section",label:"Button text"},{value:"font_button",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_button",label:"Font size",default:vo.optin.fontsize_button,type:"unit",is_single:!0},{type:"section",label:"Success message"},{value:"font_success",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_success",label:"Font size",default:vo.optin.fontsize_success,type:"unit",is_single:!0}],u=[{value:"padding",label:"Padding",default:vo.optin.padding,type:"boxcontrol"},{value:"margin",label:"Margin",default:vo.optin.margin,type:"boxcontrol"}];var d=newsletterglue_meta.app,m="",g="",p="";["campaignmonitor","mailerlite","mailerlite_v2","activecampaign","getresponse","convertkit","sailthru","sendgrid","mailjet","moosend","klaviyo","brevo","aweber","mailchimp","constantcontact"].includes(d)&&(m=(0,e.createElement)(s.SelectControl,{key:`${d}_select`,label:(0,i.__)("Select a list/group"),value:l.list_id,onChange:e=>{a({list_id:e})},options:newsletterglue_meta.the_lists})),"sendy"==d&&(m=(0,e.createElement)(s.TextControl,{key:`${d}_textinput`,label:(0,i.__)("Enter list ID"),value:l.list_id,onChange:e=>{a({list_id:e})},help:"The list id you want to subscribe a user to. This encrypted & hashed id can be found under View all lists section named ID."})),"salesforce"==d&&(m=(0,e.createElement)(s.SelectControl,{key:`${d}_select`,label:(0,i.__)("Select a list/group"),value:l.list_id,onChange:e=>{a({list_id:e})},options:newsletterglue_meta.the_lists.filter((e=>"All Subscribers"!==e.label&&!e.value.toString().includes("_dex")))})),"mailchimp"==d&&(p=(0,e.createElement)(s.BaseControl,{className:"ngl-gutenberg-help",key:"double-optin-key"},(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Double opt-in"),onChange:e=>{a({double_optin:e})},checked:l.double_optin,help:(0,i.__)("Automatically email new subscribers to confirm they want to receive emails from you. This creates less spam addresses and higher quality subscribers.")}))),d&&newsletterglue_meta.the_lists&&!l.list_id&&newsletterglue_meta.the_lists[0].value&&a({list_id:newsletterglue_meta.the_lists[0].value}),d&&newsletterglue_meta.extra_lists&&l.add_checkbox?g=(0,e.createElement)(s.BaseControl,{key:"extra-list-key"},(0,e.createElement)(s.SelectControl,{label:(0,i.__)("Select list for checkbox (optional)"),value:l.extra_list_id,onChange:e=>{a({extra_list_id:e})},options:newsletterglue_meta.extra_lists})):d&&"sendy"===d&&l.add_checkbox&&(g=(0,e.createElement)(s.BaseControl,{key:"extra-list-key"},(0,e.createElement)(s.TextControl,{label:(0,i.__)("Enter extra list ID for checkbox (optional)"),value:l.extra_list_id,onChange:e=>{a({extra_list_id:e})}})));var h;h=d?[(0,e.createElement)(s.BaseControl,{key:"select-esp-list"},m),g,p]:(0,e.createElement)(s.BaseControl,null,(0,e.createElement)("p",null,(0,i.__)("You do not have an active email connection yet.")),(0,e.createElement)("a",{href:newsletterglue_params.connect_url},newsletterglue_params.connect_esp));const[b,_]=(0,t.useState)(l.order),f=zs(Ns(vc),Ns(pc,{coordinateGetter:yu}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:newsletterglue_meta.app_name,initialOpen:!0},h),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Form options"),className:"ngl-panel-body"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Form style","newsletter-glue"),value:l.form_style,onChange:e=>a({form_style:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"portrait",label:(0,i.__)("Portrait")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"landscape",label:(0,i.__)("Landscape")}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Border radius (pixels)","newsletter-glue"),value:l.form_radius,onChange:e=>a({form_radius:e}),min:0,max:100,allowReset:!0,resetFallbackValue:12})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Spacing (pixels)","newsletter-glue"),value:l.spacing_size,onChange:e=>a({spacing_size:e}),min:0,max:100,allowReset:!0,resetFallbackValue:20}))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Display options"),className:"ngl-panel-body"},(0,e.createElement)(Kc,{sensors:f,collisionDetection:Ls,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n.id&&_((e=>{const l=e.indexOf(t.id),o=e.indexOf(n.id);var i=nu(e,l,o);return a({order:i}),i}))}},(0,e.createElement)(uu,{items:b,strategy:ru},b.map((t=>(0,e.createElement)(Vd,{key:t,id:t,attrs:l,setAttributes:a}))))),(0,e.createElement)("div",{className:"ng-sortable-area"},(0,e.createElement)("div",{className:"ng-sortable-item disabled"+(l.add_text?"":" hidden")},(0,e.createElement)("div",{className:"ng-sortable-label"},"Text beneath button"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:l.add_text?vi:Ur,iconSize:20,label:l.add_text?"Hide text":"Show text",showTooltip:!0,onClick:()=>{a({add_text:!l.add_text})}})))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Success message"),className:"ngl-panel-body"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Toggle success message","newsletter-glue"),checked:o,onChange:e=>{r(e)}})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.TextControl,{label:(0,i.__)("Write success message","newsletter-glue"),value:l.message_text,onChange:e=>{a({message_text:e})}}))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{a({background:void 0,heading_color:void 0,description_color:void 0,button_text_color:void 0,button_fill:void 0,button_outline:void 0,label_color:void 0,input_color:void 0,text_color:void 0,checkbox_color:void 0,success_color:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:l,setAttributes:a,colors:[{value:"background",label:"Background"},{value:"heading_color",label:"Form heading"},{value:"description_color",label:"Form description"},{value:"label_color",label:"Name and email title"},{value:"input_color",label:"Name and email input fields"},{value:"text_color",label:"Text beneath button"},{value:"checkbox_color",label:"Checkbox text"},{value:"button_fill",label:"Button fill"},{value:"button_outline",label:"Button outline"},{value:"button_text_color",label:"Button text"},{value:"success_color",label:"Success message"}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{a({font_heading:vo.font,font_desc:vo.font,font_input:vo.font,font_label:vo.font,font_text:vo.font,font_checkbox:vo.font,font_button:vo.font,font_success:vo.font,fontsize_heading:vo.optin.fontsize_heading,fontsize_desc:vo.optin.fontsize_desc,fontsize_label:vo.optin.fontsize_label,fontsize_input:vo.optin.fontsize_input,fontsize_text:vo.optin.fontsize_text,fontsize_checkbox:vo.optin.fontsize_checkbox,fontsize_button:vo.optin.fontsize_button,fontsize_success:vo.optin.fontsize_success})}},(0,e.createElement)(jo,{attributes:l,setAttributes:a,settings:c})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{a({padding:vo.optin.padding,margin:vo.optin.margin})}},(0,e.createElement)(jo,{attributes:l,setAttributes:a,settings:u})))},jd=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_fontsize_heading",label:"Heading font size",default:vo.mobile.optin.fontsize_heading,type:"unit"},{value:"mobile_fontsize_desc",label:"Description font size",default:vo.mobile.optin.fontsize_desc,type:"unit"},{value:"mobile_fontsize_label",label:"Name and email title font size",default:vo.mobile.optin.fontsize_label,type:"unit"},{value:"mobile_fontsize_input",label:"Name and email input font size",default:vo.mobile.optin.fontsize_input,type:"unit"},{value:"mobile_fontsize_text",label:"Text beneath button font size",default:vo.mobile.optin.fontsize_text,type:"unit"},{value:"mobile_fontsize_checkbox",label:"Checkbox font size",default:vo.mobile.optin.fontsize_checkbox,type:"unit"},{value:"mobile_fontsize_button",label:"Button font size",default:vo.mobile.optin.fontsize_button,type:"unit"},{value:"mobile_fontsize_success",label:"Success message font size",default:vo.mobile.optin.fontsize_success,type:"unit"}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.optin.padding,type:"boxcontrol"},{value:"mobile_margin",label:"Margin",default:vo.mobile.optin.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_fontsize_heading:vo.mobile.optin.fontsize_heading,mobile_fontsize_desc:vo.mobile.optin.fontsize_desc,mobile_fontsize_label:vo.mobile.optin.fontsize_label,mobile_fontsize_input:vo.mobile.optin.fontsize_input,mobile_fontsize_text:vo.mobile.optin.fontsize_text,mobile_fontsize_checkbox:vo.mobile.optin.fontsize_checkbox,mobile_fontsize_button:vo.mobile.optin.fontsize_button,mobile_fontsize_success:vo.mobile.optin.fontsize_success})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.optin.padding,mobile_margin:vo.mobile.optin.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},$d=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{fillRule:"evenodd",d:"M6 5.5h12a.5.5 0 01.5.5v7H14a2 2 0 11-4 0H5.5V6a.5.5 0 01.5-.5zm-.5 9V18a.5.5 0 00.5.5h12a.5.5 0 00.5-.5v-3.5h-3.337a3.5 3.5 0 01-6.326 0H5.5zM4 13V6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2v-5z",clipRule:"evenodd"}));let Wd=!0;nglue_backend.is_allowed_post_type||(Wd=!1),Wd&&(0,bo.registerBlockType)("newsletterglue/optin",{apiVersion:2,title:(0,i.__)("Subscriber form","newsletter-glue"),category:"newsletterglue-blocks",icon:$d,example:{attributes:{}},description:(0,i.__)("New subscribers can sign up to your mailing list with this form.","newsletter-glue"),keywords:["newsletter","email","subscribe","form"],attributes:Od,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}=t;const[s,c]=(0,e.useState)(!1),{deviceType:u}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),d="Mobile"===u;var m=n.color?n.color:vo.color,g={width:"100%",cellPadding:0,cellSpacing:0,className:ko()(a,{"ng-block":!0,"is-landscape":"landscape"===n.form_style,"is-portrait":"portrait"===n.form_style}),style:{color:m}};const h=(0,p.useBlockProps)(g);let b=d?n.mobile_p_size:n.fontsize;"string"!=typeof b||b.includes("px")||(b+="px");const _={fontSize:b,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:d?n.mobile_p_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:d?n.mobile_padding.top:n.padding.top,paddingBottom:d?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:d?n.mobile_padding.left:n.padding.left,paddingRight:d?n.mobile_padding.right:n.padding.right,textAlign:n.align,color:m,backgroundColor:n.background},f=d?n.mobile_margin:n.margin,v=n.form_style;var y=n.button_fill?n.button_fill:vo.colors.btn_bg;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:n.align,onChange:e=>{l({align:void 0===e?"none":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==u&&(0,e.createElement)(Dd,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r,showMsg:s,setShowMsg:c}),"Mobile"===u&&(0,e.createElement)(jd,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r})),(0,e.createElement)("table",h,(0,e.createElement)("tbody",null,f.top&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{height:parseInt(f.top)})),(0,e.createElement)("tr",null,f.left&&(0,e.createElement)("td",{className:"ng-block-spacer",style:{width:f.left},width:parseInt(f.left)}),(0,e.createElement)("td",{className:"ng-block-td",style:_},(0,e.createElement)("div",{className:"ng-block-form ngl-form",style:{display:"flex",gap:n.spacing_size,flexDirection:"column",position:"relative",margin:0}},(0,e.createElement)("div",{className:"ngl-form-errors",style:{display:"none",background:"#ffcece",color:"#672d2d",padding:"11px 20px",textAlign:"left",border:"1px solid #ec9d9d",lineHeight:"22px",borderRadius:n.form_radius?n.form_radius:0,fontFamily:nglue_backend.font_names[n.font_input.key],fontSize:d?n.mobile_fontsize_input:n.fontsize_input}}," "),s&&(0,e.createElement)("div",{className:"ng-form-overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#ffffff",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},(0,e.createElement)("div",{className:"ng-form-overlay-icon",style:{color:"#169620"}},(0,e.createElement)("svg",{style:{width:"32px",height:"32px"},stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"32",width:"32",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}))),(0,e.createElement)("div",{className:"ng-form-overlay-text",style:{fontFamily:nglue_backend.font_names[n.font_success.key],fontSize:d?n.mobile_fontsize_success:n.fontsize_success,color:n.success_color?n.success_color:m}},n.message_text)),n.add_heading&&(0,e.createElement)(p.RichText,{tagName:"div",value:n.form_header,className:"ng-form-header",placeholder:(0,i.__)("Enter heading...","newsletter-glue"),style:{fontFamily:nglue_backend.font_names[n.font_heading.key],fontSize:d?n.mobile_fontsize_heading:n.fontsize_heading,color:n.heading_color?n.heading_color:vo.headings.h3.color,lineHeight:1.1},allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>l({form_header:e})}),n.add_description&&(0,e.createElement)(p.RichText,{tagName:"div",value:n.form_description,className:"ng-form-description",placeholder:(0,i.__)("Enter description...","newsletter-glue"),style:{fontFamily:nglue_backend.font_names[n.font_desc.key],fontSize:d?n.mobile_fontsize_desc:n.fontsize_desc,color:n.description_color?n.description_color:m,lineHeight:1.5},allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>l({form_description:e})}),(0,e.createElement)("div",{className:"ngl-form-wrap",style:{display:"flex",gap:n.spacing_size,flexDirection:"landscape"===v?"row":"column",alignItems:"landscape"===v?"flex-end":"initial"}},n.add_name&&(0,e.createElement)("div",{className:"ngl-form-field"},(0,e.createElement)(p.RichText,{tagName:"div",value:n.name_label,className:"ngl-form-label"+(n.name_required?" ngl-form-label-req":""),format:"string",placeholder:(0,i.__)("Name","newsletter-glue"),style:{fontFamily:nglue_backend.font_names[n.font_label.key],fontSize:d?n.mobile_fontsize_label:n.fontsize_label,color:n.label_color?n.label_color:m,lineHeight:1.6,marginBottom:"4px",display:"block"},onChange:e=>l({name_label:e})}),(0,e.createElement)(p.RichText,{tagName:"div",value:n.name_placeholder,className:"ngl-form-input",format:"string",fieldid:"name",style:{fontFamily:nglue_backend.font_names[n.font_input.key],fontSize:d?n.mobile_fontsize_input:n.fontsize_input,color:n.input_color?n.input_color:m,borderRadius:n.form_radius?n.form_radius:0,border:"1px solid #aaa",padding:"8px 15px",width:"100%",boxSizing:"border-box",lineHeight:1.6},onChange:e=>l({name_placeholder:e})})),(0,e.createElement)("div",{className:"ngl-form-field"},(0,e.createElement)(p.RichText,{tagName:"div",value:n.email_label,className:"ngl-form-label",format:"string",placeholder:(0,i.__)("Email","newsletter-glue"),style:{fontFamily:nglue_backend.font_names[n.font_label.key],fontSize:d?n.mobile_fontsize_label:n.fontsize_label,color:n.label_color?n.label_color:m,lineHeight:1.6,marginBottom:"4px",display:"block"},onChange:e=>l({email_label:e})}),(0,e.createElement)(p.RichText,{tagName:"div",value:n.email_placeholder,className:"ngl-form-input",format:"string",fieldid:"email",style:{fontFamily:nglue_backend.font_names[n.font_input.key],fontSize:d?n.mobile_fontsize_input:n.fontsize_input,color:n.input_color?n.input_color:m,borderRadius:n.form_radius?n.form_radius:0,border:"1px solid #aaa",padding:"8px 15px",width:"100%",boxSizing:"border-box",lineHeight:1.6},onChange:e=>l({email_placeholder:e})})),n.add_checkbox&&"landscape"!=v&&(0,e.createElement)("div",{className:"ngl-form-checkbox",style:{display:"flex",alignItems:"flex-start",gap:"8px"}},(0,e.createElement)("input",{type:"checkbox",name:"ngl_extra_list",id:"ngl_extra_list",className:"ng-form-extra-list",style:{top:"0px",position:"relative",margin:"0px"}}),(0,e.createElement)(p.RichText,{tagName:"div",className:"ng-form-checkbox-text",value:n.checkbox_text,placeholder:"Enter text for checkbox...",format:"string",style:{fontFamily:nglue_backend.font_names[n.font_checkbox.key],fontSize:d?n.mobile_fontsize_checkbox:n.fontsize_checkbox,color:n.checkbox_color?n.checkbox_color:m,lineHeight:1.1},onChange:e=>l({checkbox_text:e})})),(0,e.createElement)("div",{className:"ng-form-div"},(0,e.createElement)(p.RichText,{tagName:"div",className:"ng-form-button",value:n.button_text,placeholder:"Subscribe",format:"string",style:{fontFamily:nglue_backend.font_names[n.font_button.key],fontSize:d?n.mobile_fontsize_button:n.fontsize_button,cursor:"pointer",borderRadius:n.form_radius?n.form_radius:0,color:n.button_text_color?n.button_text_color:vo.colors.btn_colour,backgroundColor:y,borderWidth:"1px",borderStyle:"solid",borderColor:n.button_outline?n.button_outline:y,textAlign:"center",padding:"8px 20px",lineHeight:1.6,width:"100%",boxSizing:"border-box"},onChange:e=>l({button_text:e})}))),"landscape"===v&&n.add_checkbox&&(0,e.createElement)("div",{className:"ngl-form-checkbox",style:{display:"flex",alignItems:"flex-start",gap:"8px"}},(0,e.createElement)("input",{type:"checkbox",name:"ngl_extra_list",id:"ngl_extra_list",className:"ng-form-extra-list",style:{top:"0px",position:"relative",margin:"0px"}}),(0,e.createElement)(p.RichText,{tagName:"div",className:"ng-form-checkbox-text",value:n.checkbox_text,placeholder:"Enter text for checkbox...",format:"string",style:{fontFamily:nglue_backend.font_names[n.font_checkbox.key],fontSize:d?n.mobile_fontsize_checkbox:n.fontsize_checkbox,color:n.checkbox_color?n.checkbox_color:m,lineHeight:1.1},onChange:e=>l({checkbox_text:e})})),n.add_text&&(0,e.createElement)(p.RichText,{tagName:"div",className:"ng-form-text",value:n.form_text,placeholder:"Enter text...",format:"string",style:{fontFamily:nglue_backend.font_names[n.font_text.key],fontSize:d?n.mobile_fontsize_text:n.fontsize_text,color:n.text_color?n.text_color:m,textAlign:"landscape"===v?"left":"center",lineHeight:1.6},onChange:e=>l({form_text:e})}))),f.right&&(0,e.createElement)("td",{className:"ng-block-spacer",style:{width:f.right},width:parseInt(f.right)})),f.bottom&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{height:parseInt(f.bottom)})))))},save:function(t){let{attributes:n,className:l}=t;const a=n.color?n.color:vo.color;var o={width:"100%",cellPadding:0,cellSpacing:0,className:ko()(l,{"ng-block":!0,"is-landscape":"landscape"===n.form_style,"is-portrait":"portrait"===n.form_style}),style:{color:a}};const i=p.useBlockProps.save(o);let r=n.fontsize;"string"!=typeof r||r.includes("px")||(r+="px");const s={fontSize:r,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.align,color:a,backgroundColor:n.background},c=n.margin,u=n.form_style;var d=n.button_fill?n.button_fill:vo.colors.btn_bg;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",i,(0,e.createElement)("tbody",null,c.top&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{height:parseInt(c.top)})),(0,e.createElement)("tr",null,c.left&&(0,e.createElement)("td",{className:"ng-block-spacer",style:{width:c.left},width:parseInt(c.left)}),(0,e.createElement)("td",{className:"ng-block-td",style:s},(0,e.createElement)("form",{className:"ng-block-form ngl-form",style:{display:"flex",gap:n.spacing_size,flexDirection:"column",position:"relative",margin:0},action:"",method:"post",autoComplete:"on","data-app":newsletterglue_meta.app},(0,e.createElement)("div",{className:"ngl-form-errors",style:{display:"none",background:"#ffcece",color:"#672d2d",padding:"11px 20px",textAlign:"left",border:"1px solid #ec9d9d",lineHeight:"22px",borderRadius:n.form_radius?n.form_radius:0,fontFamily:nglue_backend.font_names[n.font_input.key],fontSize:n.fontsize_input}}," "),(0,e.createElement)("div",{className:"ng-form-overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#ffffff",zIndex:9999,display:"none",alignItems:"center",justifyContent:"center",flexDirection:"column"}},(0,e.createElement)("div",{className:"ng-form-overlay-icon",style:{color:"#169620"}},(0,e.createElement)("svg",{style:{width:"32px",height:"32px"},stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"32",width:"32",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}))),(0,e.createElement)("div",{className:"ng-form-overlay-text",style:{fontFamily:nglue_backend.font_names[n.font_success.key],fontSize:n.fontsize_success,color:n.success_color?n.success_color:a}},n.message_text)),n.add_heading&&(0,e.createElement)(p.RichText.Content,{tagName:"div",value:n.form_header,className:"ng-form-header",style:{fontFamily:nglue_backend.font_names[n.font_heading.key],fontSize:n.fontsize_heading,color:n.heading_color?n.heading_color:vo.headings.h3.color,lineHeight:1.1}}),n.add_description&&(0,e.createElement)(p.RichText.Content,{tagName:"div",value:n.form_description,className:"ng-form-description",style:{fontFamily:nglue_backend.font_names[n.font_desc.key],fontSize:n.fontsize_desc,color:n.description_color?n.description_color:a,lineHeight:1.5}}),(0,e.createElement)("div",{className:"ngl-form-wrap",style:{display:"flex",gap:n.spacing_size,flexDirection:"landscape"===u?"row":"column",alignItems:"landscape"===u?"flex-end":"initial"}},n.add_name&&(0,e.createElement)("div",{className:"ngl-form-field"},(0,e.createElement)(p.RichText.Content,{tagName:"label",value:n.name_label,className:"ngl-form-label"+(n.name_required?" ngl-form-label-req":""),for:"ngl_name",style:{fontFamily:nglue_backend.font_names[n.font_label.key],fontSize:n.fontsize_label,color:n.label_color?n.label_color:a,lineHeight:1.6,marginBottom:"4px",display:"block"}}),(0,e.createElement)(p.RichText.Content,{tagName:"input",type:"text",placeholder:n.name_placeholder,className:"ngl-form-input",fieldid:"name",name:"ngl_name",id:"ngl_name",style:{fontFamily:nglue_backend.font_names[n.font_input.key],fontSize:n.fontsize_input,color:n.input_color?n.input_color:a,borderRadius:n.form_radius?n.form_radius:0,border:"1px solid #aaa",padding:"8px 15px",width:"100%",boxSizing:"border-box",lineHeight:1.6}})),(0,e.createElement)("div",{className:"ngl-form-field"},(0,e.createElement)(p.RichText.Content,{tagName:"label",value:n.email_label,className:"ngl-form-label",for:"ngl_email",style:{fontFamily:nglue_backend.font_names[n.font_label.key],fontSize:n.fontsize_label,color:n.label_color?n.label_color:a,lineHeight:1.6,marginBottom:"4px",display:"block"}}),(0,e.createElement)(p.RichText.Content,{tagName:"input",type:"email",placeholder:n.email_placeholder,className:"ngl-form-input",fieldid:"email",name:"ngl_email",id:"ngl_email",autocomplete:"email",style:{fontFamily:nglue_backend.font_names[n.font_input.key],fontSize:n.fontsize_input,color:n.input_color?n.input_color:a,borderRadius:n.form_radius?n.form_radius:0,border:"1px solid #aaa",padding:"8px 15px",width:"100%",boxSizing:"border-box",lineHeight:1.6}})),n.add_checkbox&&"landscape"!=u&&(0,e.createElement)("div",{className:"ngl-form-checkbox",style:{display:"flex",alignItems:"flex-start",gap:"8px"}},(0,e.createElement)("input",{type:"checkbox",name:"ngl_extra_list",id:"ngl_extra_list",className:"ng-form-extra-list",style:{top:"0px",position:"relative",margin:"0px"}}),(0,e.createElement)(p.RichText.Content,{tagName:"div",className:"ng-form-checkbox-text",value:n.checkbox_text,style:{fontFamily:nglue_backend.font_names[n.font_checkbox.key],fontSize:n.fontsize_checkbox,color:n.checkbox_color?n.checkbox_color:a,lineHeight:1.1}})),(0,e.createElement)("div",{className:"ng-form-div"},(0,e.createElement)(p.RichText.Content,{tagName:"button",className:"ng-form-button",value:n.button_text?n.button_text:"Subscribe",style:{fontFamily:nglue_backend.font_names[n.font_button.key],fontSize:n.fontsize_button,cursor:"pointer",borderRadius:n.form_radius?n.form_radius:0,color:n.button_text_color?n.button_text_color:vo.colors.btn_colour,backgroundColor:d,borderWidth:"1px",borderStyle:"solid",borderColor:n.button_outline?n.button_outline:d,textAlign:"center",padding:"8px 20px",lineHeight:1.6,width:"100%",boxSizing:"border-box"}}))),"landscape"===u&&n.add_checkbox&&(0,e.createElement)("div",{className:"ngl-form-checkbox",style:{display:"flex",alignItems:"flex-start",gap:"8px"}},(0,e.createElement)("input",{type:"checkbox",name:"ngl_extra_list",id:"ngl_extra_list",className:"ng-form-extra-list",style:{top:"0px",position:"relative",margin:"0px"}}),(0,e.createElement)(p.RichText.Content,{tagName:"div",className:"ng-form-checkbox-text",value:n.checkbox_text,style:{fontFamily:nglue_backend.font_names[n.font_checkbox.key],fontSize:n.fontsize_checkbox,color:n.checkbox_color?n.checkbox_color:a,lineHeight:1.1}})),n.add_text&&(0,e.createElement)(p.RichText.Content,{tagName:"div",className:"ng-form-text",value:n.form_text,style:{fontFamily:nglue_backend.font_names[n.font_text.key],fontSize:n.fontsize_text,color:n.text_color?n.text_color:a,textAlign:"landscape"===u?"left":"center",lineHeight:1.6}}),(0,e.createElement)("div",{className:"ng-form-inputs"},n.list_id&&(0,e.createElement)("input",{type:"hidden",name:"ngl_list_id",id:"ngl_list_id",value:n.list_id}),n.extra_list_id&&(0,e.createElement)("input",{type:"hidden",name:"ngl_extra_list_id",id:"ngl_extra_list_id",value:n.extra_list_id}),(0,e.createElement)("input",{type:"hidden",name:"ngl_double_optin",id:"ngl_double_optin",value:n.double_optin?"yes":"no"}),n.name_required&&(0,e.createElement)("input",{type:"hidden",name:"ngl_name_req",id:"ngl_name_req",value:"1"}),n.cb_required&&(0,e.createElement)("input",{type:"hidden",name:"ngl_cb_req",id:"ngl_cb_req",value:"1"})))),c.right&&(0,e.createElement)("td",{className:"ng-block-spacer",style:{width:c.right},width:parseInt(c.right)})),c.bottom&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{height:parseInt(c.bottom)})))))}});let Ud={content:{type:"string",source:"html",selector:"p",default:"",role:"content"},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},button:{type:"string",default:vo.colors.primary},padding:{type:"object",default:vo.author.padding},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.author.fontsize},lineheight:{type:"number",default:vo.lineheight},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},placeholder:{type:"string"},divider_style:{type:"string",default:"line"},date_format:{type:"string",default:"F j, Y"},author_name:{type:"string"},author_bio:{type:"string"},social:{type:"string",default:"twitter"},social_user:{type:"string"},show_button:{type:"boolean",default:!0},button_text:{type:"string"},border_radius:{type:"number",default:5},button_style:{type:"string",default:"solid"},icon_style:{type:"string",default:"default"},profile_pic:{type:"string"},button_icon:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"},inherited:{type:"boolean",default:!1}};vo.mobile.meta&&(Ud.mobile_size={type:"string",default:vo.mobile.author.fontsize},Ud.mobile_lineheight={type:"number",default:vo.mobile.author.lineheight},Ud.mobile_padding={type:"object",default:vo.mobile.author.padding});const Gd=Ud,qd=t=>{const{attributes:n,setAttributes:l}=t;var a=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0}];n.show_button&&"custom"===n.social&&a.push({value:"button",label:"Custom URL button",default:vo.colors.primary,required:!0});const o=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.author.fontsize,type:"unit"},{value:"fontweight",label:"Font weight",default:vo.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:"Line height",default:vo.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.author.padding,type:"boxcontrol"}];var c=function(){l({profile_pic:newsletterglue_meta.profile_pic})},u=function(){l({button_icon:""})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},(0,e.createElement)(s.BaseControl,{className:"ngl-base--flex"},(0,e.createElement)(p.MediaUpload,{onSelect:function(e){return l({profile_pic:e.url})},type:"image",render:function(t){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.Button,{onClick:t.open,icon:ao,variant:"link"},"Change profile picture"),n.profile_pic&&n.profile_pic!=newsletterglue_meta.profile_pic&&(0,e.createElement)(s.Button,{onClick:c,variant:"link",isDestructive:!0},"Reset"))}}))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Button")},(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Show button"),checked:n.show_button,onChange:e=>{l({show_button:e})}}),n.show_button&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,i.__)("Social media platform"),value:n.social,onChange:e=>l({social:e}),options:[{value:"instagram",label:"Instagram"},{value:"twitter",label:"Twitter"},{value:"facebook",label:"Facebook"},{value:"twitch",label:"Twitch"},{value:"tiktok",label:"Tiktok"},{value:"youtube",label:"YouTube"},{value:"linkedin",label:"LinkedIn"},{value:"custom",label:"Custom URL"}]}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("URL"),value:n.social_user,onChange:e=>l({social_user:e})}),(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Button style","newsletter-glue"),value:n.button_style,onChange:e=>l({button_style:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"solid",label:(0,i.__)("Solid")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"outline",label:(0,i.__)("Outline")})),(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Border radius (pixels)"),value:n.border_radius,initialPosition:5,min:0,max:50,allowReset:!0,resetFallbackValue:5,onChange:e=>t.setAttributes({border_radius:e}),style:{margin:0}}),(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Icon","newsletter-glue"),value:n.icon_style,onChange:e=>l({icon_style:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"default",label:(0,i.__)("Default")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"custom",label:(0,i.__)("Custom")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"no_icon",label:(0,i.__)("No icon")})),"custom"===n.icon_style&&(0,e.createElement)(s.BaseControl,{className:"ngl-base--flex"},(0,e.createElement)(p.MediaUpload,{onSelect:function(e){return l({button_icon:e.url})},type:"image",render:function(t){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.Button,{onClick:t.open,icon:pr,variant:"link"},"Change button icon"),n.button_icon&&n.button_icon!=newsletterglue_meta.button_icon&&(0,e.createElement)(s.Button,{onClick:u,variant:"link",isDestructive:!0},"Reset"))}})))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,link:vo.colors.primary,button:vo.colors.primary})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({fontweight:vo.fontweight,lineheight:vo.lineheight,font:vo.font,fontsize:vo.author.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.author.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},Yd=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_size",label:"Font size",default:vo.mobile.author.fontsize,type:"unit"},{value:"mobile_lineheight",label:"Line height",default:vo.mobile.author.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.author.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_lineheight:vo.mobile.author.lineheight,mobile_size:vo.mobile.author.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.author.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))};function Zd(e,t){return"twitter"===e?"#1DA1F2":"instagram"===e?"#ed4956":"facebook"===e?"#1877F2":"youtube"===e?"#FF0000":"linkedin"===e?"#0e76a8":"twitch"===e?"#9047FF":"tiktok"===e?"#fe2c55":t}const Kd=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{fillRule:"evenodd",d:"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"}));let Qd=!0;nglue_backend.is_allowed_post_type||(Qd=!1),Qd&&(0,bo.registerBlockType)("newsletterglue/post-author",{apiVersion:2,title:(0,i.__)("Author byline","newsletter-glue"),category:"newsletterglue-blocks",icon:Kd,example:{},description:(0,i.__)("Add author byline to your email.","newsletter-glue"),keywords:["newsletter","email","author"],attributes:Gd,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}=t;(0,e.useEffect)((()=>{n.author_name||l({author_name:newsletterglue_meta.author_name}),n.profile_pic||l({profile_pic:newsletterglue_meta.profile_pic}),n.button_text||l({button_text:(0,i.__)("Follow")})}),[]);const{deviceType:s}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),c="Mobile"===s;var u=n.color?n.color:vo.color,d={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:u,backgroundColor:n.background}};const m=(0,p.useBlockProps)(d),g={fontSize:c?n.mobile_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:c?n.mobile_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:c?n.mobile_padding.top:n.padding.top,paddingBottom:c?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:c?n.mobile_padding.left:n.padding.left,paddingRight:c?n.mobile_padding.right:n.padding.right,color:u};var h=n.social?n.social:"twitter",b="solid"===n.button_style?"":"-fill",_="solid"===n.button_style?"#fff":n.button,f="solid"===n.button_style?Zd(n.social,n.button):"transparent",v="2px solid "+Zd(n.social,n.button);let y=`${nglue_backend.images_uri}/social/${h}${b}.png`;return"custom"===n.icon_style&&n.button_icon&&(y=n.button_icon),"custom"!==n.icon_style||n.button_icon||(y=""),"default"===n.icon_style&&"custom"===n.social&&(y=""),"no_icon"===n.icon_style&&(y=""),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.InspectorControls,null,"Mobile"!==s&&(0,e.createElement)(qd,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}),"Mobile"===s&&(0,e.createElement)(Yd,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r})),(0,e.createElement)("table",m,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",style:g},(0,e.createElement)("table",{width:"auto",cellPadding:0,cellSpacing:0},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{style:{width:"50px",padding:"0 12px 0 0",verticalAlign:"top"}},(0,e.createElement)("img",{src:n.profile_pic,width:50,height:50,className:"ng-image",style:{width:"50px",height:"50px",display:"inline-block",margin:0,verticalAlign:"top",borderRadius:"50px"}})),(0,e.createElement)("td",{style:{verticalAlign:"top"}},(0,e.createElement)(p.RichText,{tagName:"div",className:"ng-div",placeholder:newsletterglue_meta.author_name,value:n.author_name,onChange:e=>l({author_name:e}),withoutInteractiveFormatting:!0,multiline:!1,style:{fontWeight:"bold",marginBottom:"2px"}}),(0,e.createElement)(p.RichText,{tagName:"div",className:"ng-div",placeholder:newsletterglue_meta.author_bio?newsletterglue_meta.author_bio:(0,i.__)("Enter biography or something else...","newsletter-glue"),value:n.author_bio,onChange:e=>l({author_bio:e}),allowedFormats:["core/bold","core/link","core/italic","core/strikethrough","core/text-color"],multiline:!1,style:{marginBottom:"8px"}}),n.show_button&&(0,e.createElement)("div",{className:"ng-div ng-block-button"},(0,e.createElement)("a",{href:n.social_user,rel:"nofollow",onClick:e=>e.preventDefault(),style:{padding:"2px 12px",display:"inline-block",borderRadius:n.border_radius,color:_,border:v,backgroundColor:f}},y&&(0,e.createElement)("img",{src:y,width:16,height:16,className:"ng-image",style:{width:"16px",height:"16px",display:"inline-block",margin:"0 2px 0 0",borderRadius:"16px",verticalAlign:"sub"}}),(0,e.createElement)(p.RichText,{tagName:"span",placeholder:(0,i.__)("Enter button text..."),value:n.button_text,onChange:e=>l({button_text:e}),withoutInteractiveFormatting:!0,multiline:!1}))))))))))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;var a={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:l,backgroundColor:n.background}};const o=p.useBlockProps.save(a),i={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,color:l};var r=n.social?n.social:"twitter",s="solid"===n.button_style?"":"-fill",c="solid"===n.button_style?"#fff":n.button,u="solid"===n.button_style?Zd(n.social,n.button):"transparent",d="2px solid "+Zd(n.social,n.button);let m=`${nglue_backend.images_uri}/social/${r}${s}.png`;return"custom"===n.icon_style&&n.button_icon&&(m=n.button_icon),"custom"!==n.icon_style||n.button_icon||(m=""),"default"===n.icon_style&&"custom"===n.social&&(m=""),"no_icon"===n.icon_style&&(m=""),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",o,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",style:i},(0,e.createElement)("table",{width:"auto",cellPadding:0,cellSpacing:0},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{style:{width:"50px",padding:"0 12px 0 0",verticalAlign:"top"}},(0,e.createElement)("img",{src:n.profile_pic,width:50,height:50,className:"ng-image",style:{width:"50px",height:"50px",display:"inline-block",margin:0,verticalAlign:"top",borderRadius:"50px"}})),(0,e.createElement)("td",{style:{verticalAlign:"top"}},(0,e.createElement)(p.RichText.Content,{tagName:"div",className:"ng-div",value:n.author_name,style:{fontWeight:"bold",marginBottom:"2px"}}),(0,e.createElement)(p.RichText.Content,{tagName:"div",className:"ng-div",value:n.author_bio,style:{marginBottom:"8px"}}),n.show_button&&(0,e.createElement)("div",{className:"ng-div ng-block-button"},(0,e.createElement)("a",{href:n.social_user,rel:"nofollow",style:{padding:"2px 12px",display:"inline-block",borderRadius:n.border_radius,color:c,border:d,backgroundColor:u}},m&&(0,e.createElement)("img",{src:m,width:16,height:16,className:"ng-image",style:{width:"16px",height:"16px",display:"inline-block",margin:"0 2px 0 0",borderRadius:"16px",verticalAlign:"sub"}}),(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.button_text}))))))))))))}});let Xd={stacked_on_mobile:{type:"boolean",default:!0},font:{type:"object",default:vo.font},font_title:{type:"object",default:vo.font},font_text:{type:"object",default:vo.font},font_label:{type:"object",default:vo.font},font_author:{type:"object",default:vo.font},font_button:{type:"object",default:vo.font},containerWidth:{type:"string"},show_divider:{type:"boolean",default:!1},divider_size:{type:"string",default:"1"},divider_bg:{type:"string"},itemBase:{type:"string"},div1:{type:"string"},div2:{type:"string"},contentstyle:{type:"string",default:"multi"},filter:{type:"string",default:"include"},image_position:{type:"string",default:"left"},table_ratio:{type:"string",default:"30_70"},filter_authors:{type:"array"},filter_cpts:{type:"array"},filter_categories:{type:"array"},filter_tags:{type:"array"},hidden_posts:{type:"array",default:[]},sortby:{type:"object"},dates:{type:"object"},week_starts:{type:"object"},month_starts:{type:"object"},two_weeks_starts:{type:"object"},starts_time:{type:"object"},border_style:{type:"object"},posts_num:{type:"number",default:4},columns_num:{type:"string",default:"one"},postlength:{type:"string",default:"excerpt"},words_num:{type:"number",default:30},image_radius:{type:"number",default:0},border_radius:{type:"number",default:0},border_size:{type:"number",default:0},update_posts:{type:"string"},show_label:{type:"boolean",default:!0},show_author:{type:"boolean",default:!1},show_heading:{type:"boolean",default:!0},show_image:{type:"boolean",default:!0},show_excerpt:{type:"boolean",default:!0},show_cta:{type:"boolean",default:!0},label_type:{type:"string",default:"domain"},cta_type:{type:"string",default:"link"},cta_link:{type:"string",default:"Read more"},posts:{type:"array"},hash:{type:"string"},custom_data:{type:"array",default:[]},embeds:{type:"object",default:[]},embeds_order:{type:"array",default:[]},fontsize_title:{type:"string",default:vo.posts.fontsize_title},fontsize_text:{type:"string",default:vo.posts.fontsize_text},fontsize_label:{type:"string",default:vo.posts.fontsize_label},fontsize_author:{type:"string",default:vo.posts.fontsize_author},fontsize_button:{type:"string",default:vo.posts.fontsize_button},background_color:{type:"string"},border_color:{type:"string"},text_color:{type:"string"},title_color:{type:"string"},label_color:{type:"string"},author_color:{type:"string"},link:{type:"string",default:vo.colors.primary},button:{type:"string",default:vo.colors.btn_bg},button_text:{type:"string",default:vo.colors.btn_colour},padding:{type:"object",default:vo.posts.padding},margin:{type:"object",default:vo.posts.margin},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},taxonomies:{type:"array",default:[]},order:{type:"array",default:[1,2,3,4,5]},viewport:{type:"string",default:"Desktop"}};nglue_backend.tax_types.forEach((e=>{Xd[`${e}_terms`]={type:"array",default:[]}})),vo.mobile.posts&&(Xd.mobile_padding={type:"object",default:vo.mobile.posts.padding},Xd.mobile_margin={type:"object",default:vo.mobile.posts.margin},Xd.mobile_fontsize_title={type:"string",default:vo.mobile.posts.fontsize_title},Xd.mobile_fontsize_text={type:"string",default:vo.mobile.posts.fontsize_text},Xd.mobile_fontsize_label={type:"string",default:vo.mobile.posts.fontsize_label},Xd.mobile_fontsize_author={type:"string",default:vo.mobile.posts.fontsize_author},Xd.mobile_fontsize_button={type:"string",default:vo.mobile.posts.fontsize_button});const Jd=Xd,em=t=>{const{attributes:n,setAttributes:l}=t;return(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Border options","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Border radius (pixels)","newsletter-glue"),value:n.border_radius,onChange:e=>l({border_radius:e}),min:0,max:50,allowReset:!0,resetFallbackValue:0})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Border thickness (pixels)","newsletter-glue"),value:n.border_size,onChange:e=>l({border_size:e}),min:0,max:20,allowReset:!0,resetFallbackValue:0})),n.border_size>0&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{label:(0,i.__)("Border style","newsletter-glue"),id:"ngl-select-border"},(0,e.createElement)(dl,{name:"ngl-select-border",inputId:"ngl-select-border",classNamePrefix:"ngl",value:n.border_style,defaultValue:{label:(0,i.__)("Solid","newsletter-glue"),value:"solid"},options:[{label:(0,i.__)("Solid","newsletter-glue"),value:"solid"},{label:(0,i.__)("Dashed","newsletter-glue"),value:"dashed"},{label:(0,i.__)("Dotted","newsletter-glue"),value:"dotted"}],onChange:e=>{l({border_style:e})}}))),n.show_image&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RangeControl,{label:(0,i.__)("Image border radius (pixels)","newsletter-glue"),value:n.image_radius,onChange:e=>l({image_radius:e}),min:0,max:50,allowReset:!0,resetFallbackValue:0})))};function tm(t){const{attributes:n,listeners:l,setNodeRef:a,transform:o,transition:r}=_u({id:t.id}),{id:c,attrs:u,setAttributes:d}=t,{show_label:m,show_author:g,label_type:p,show_heading:h,show_excerpt:b,show_cta:_,cta_type:f,cta_link:v}=u,y={transform:ps.Transform.toString(o),transition:r},[w,k]=(0,e.useState)(!1),[x,C]=(0,e.useState)(!1),S=(0,e.createElement)("div",E({},l,n,{className:"ng-sortable-handle"}),(0,e.createElement)(Oa,{icon:Eu}));return(0,e.createElement)("div",{ref:a,style:y,className:"ng-sortable-area"},1==c&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:`ng-sortable-item${w?" opened":""}${m?"":" hidden"}`},S,(0,e.createElement)("div",{className:"ng-sortable-label is-underlined",onClick:()=>k(!w)},"Label"),m&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:w&&m?Gr:qr,iconSize:22,label:w&&m?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{k(!w)}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:m?vi:Ur,iconSize:20,label:m?"Hide label":"Show label",showTooltip:!0,onClick:()=>{d({show_label:!m})}})),m&&(0,e.createElement)("div",{className:"ng-sortable-control"+(w&&m?" opened":"")},(0,e.createElement)(s.RadioControl,{className:"ngl-radio-as-child",selected:p,options:[{label:"Category",value:"category"},{label:"Tag",value:"tag"},{label:"Domain name",value:"domain"}],onChange:e=>d({label_type:e})}))),2==c&&(0,e.createElement)("div",{className:"ng-sortable-item"+(g?"":" hidden")},S,(0,e.createElement)("div",{className:"ng-sortable-label"},"Author"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:g?vi:Ur,iconSize:20,label:g?"Hide excerpt":"Show excerpt",showTooltip:!0,onClick:()=>{d({show_author:!g})}})),3==c&&(0,e.createElement)("div",{className:"ng-sortable-item"+(h?"":" hidden")},S,(0,e.createElement)("div",{className:"ng-sortable-label"},"Heading"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:h?vi:Ur,iconSize:20,label:h?"Hide heading":"Show heading",showTooltip:!0,onClick:()=>{d({show_heading:!h})}})),4==c&&(0,e.createElement)("div",{className:"ng-sortable-item"+(b?"":" hidden")},S,(0,e.createElement)("div",{className:"ng-sortable-label"},"Excerpt"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:b?vi:Ur,iconSize:20,label:b?"Hide excerpt":"Show excerpt",showTooltip:!0,onClick:()=>{d({show_excerpt:!b})}})),5==c&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:`ng-sortable-item${x?" opened":""}${_?"":" hidden"}`},S,(0,e.createElement)("div",{className:"ng-sortable-label is-underlined",onClick:()=>C(!x)},"Call to action"),_&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:x&&_?Gr:qr,iconSize:22,label:x&&_?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{C(!x)}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:_?vi:Ur,iconSize:20,label:_?"Hide CTA":"Show CTA",showTooltip:!0,onClick:()=>{d({show_cta:!_})}})),_&&(0,e.createElement)("div",{className:"ng-sortable-control"+(x&&_?" opened":"")},(0,e.createElement)(s.RadioControl,{className:"ngl-radio-as-child",selected:f,options:[{label:"Link",value:"link"},{label:"Button",value:"button"}],onChange:e=>d({cta_type:e})}),(0,e.createElement)(s.TextControl,{label:(0,i.__)("Default text","newsletter-glue"),value:v,className:"ngl-input-as-child",onChange:e=>d({cta_link:e})}))))}const nm=t=>{const{attributes:n,setAttributes:l}=t,{show_image:a,show_divider:o}=n,[r,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(n.order),m=zs(Ns(vc),Ns(pc,{coordinateGetter:yu}));return(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Display options","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},(0,e.createElement)("div",{className:"ng-sortable-area"},(0,e.createElement)("div",{className:"ng-sortable-item disabled"+(n.show_image?"":" hidden")},(0,e.createElement)("div",{className:"ng-sortable-label"},"Featured image"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:n.show_image?vi:Ur,iconSize:20,label:a?"Hide image":"Show image",showTooltip:!0,onClick:()=>{l({show_image:!n.show_image})}}))),(0,e.createElement)(Kc,{sensors:m,collisionDetection:Ls,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n.id&&d((e=>{const a=e.indexOf(t.id),o=e.indexOf(n.id);var i=nu(e,a,o);return l({order:i}),i}))}},(0,e.createElement)(uu,{items:u,strategy:ru},u.map((t=>(0,e.createElement)(tm,{key:t,id:t,attrs:n,setAttributes:l}))))),(0,e.createElement)("div",{className:"ng-sortable-area"},(0,e.createElement)("div",{className:`ng-sortable-item${r?" opened":""} disabled${n.show_divider?"":" hidden"}`},(0,e.createElement)("div",{className:"ng-sortable-label is-underlined",onClick:()=>c(!r)},"Separator"),o&&(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:r&&o?Gr:qr,iconSize:22,label:r&&o?"Close settings":"Open settings",showTooltip:!0,onClick:()=>{c(!r)}}),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:n.show_divider?vi:Ur,iconSize:20,label:o?"Hide divider":"Show divider",showTooltip:!0,onClick:()=>{l({show_divider:!n.show_divider})}})),o&&(0,e.createElement)("div",{className:"ng-sortable-control"+(r&&o?" opened":"")},(0,e.createElement)("div",{style:{height:"10px"}}),(0,e.createElement)(s.__experimentalUnitControl,{label:"Thickness",value:n.divider_size,onChange:e=>{l({divider_size:e})},units:Oo,style:{maxWidth:"100px"}}))),(0,e.createElement)(s.__experimentalDivider,null),"multi"==n.contentstyle&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Number of columns","newsletter-glue"),value:n.columns_num,onChange:e=>l({columns_num:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"one",label:(0,i.__)("1 column")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"two",label:(0,i.__)("2 columns")})))),("one"==n.columns_num||"single"==n.contentstyle)&&(0,e.createElement)(e.Fragment,null,n.show_image&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Table width ratio","newsletter-glue"),value:n.table_ratio,onChange:e=>l({table_ratio:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"full",label:(0,i.__)("Full")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"50_50",label:(0,i.__)("50:50")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"30_70",label:(0,i.__)("30:70")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"70_30",label:(0,i.__)("70:30")}))),n.show_image&&"full"!==n.table_ratio&&(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Image placement","newsletter-glue"),value:n.image_position,onChange:e=>l({image_position:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"left",label:(0,i.__)("Left")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"right",label:(0,i.__)("Right")})))))};var lm=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),am=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));function om(t){const{attributes:n,listeners:l,setNodeRef:a,transform:r,transition:c}=_u({id:t.id}),{id:u,attrs:d,setAttributes:m}=t,g={transform:ps.Transform.toString(r),transition:c},[p,h]=(0,e.useState)(!1),b=(0,e.createElement)("div",E({},l,n,{className:"ng-sortable-handle"}),(0,e.createElement)(Oa,{icon:Eu})),_=d.embeds;var f=_[u]?_[u]:0;const[v,y]=(0,e.useState)(!1),[w,k]=(0,e.useState)(f.id),[x,C]=(0,e.useState)(""),[S,N]=(0,e.useState)(),[z,B]=(0,e.useState)(!1),T=()=>{h(!1),B((e=>!e))};if(f.enabled)return(0,e.createElement)("div",{ref:a,style:g,className:"ng-sortable-area"},u&&f.enabled&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ng-sortable-item"+(p?" opened":""),ref:N},b,(0,e.createElement)("div",{className:"ng-sortable-label ng-sortable-label-limit is-underlined",onClick:()=>h(!p)},function(e){var t=d.embeds,n=e.key,l=e.title;return t[n].custom&&t[n].custom.title?t[n].custom.title:l}(f)),(0,e.createElement)(s.Button,{className:"ng-sortable-button",icon:am,iconSize:20,label:(0,i.__)("Delete post"),showTooltip:!0,onClick:T}),z&&(0,e.createElement)(s.Popover,{anchor:S,placement:"overlay"},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",height:"100%",alignItems:"center",padding:"0 10px"}},(0,e.createElement)("span",{style:{color:"#999"}},"Confirm delete?"),(0,e.createElement)("div",{style:{display:"flex",columnGap:"6px"}},(0,e.createElement)(s.Button,{className:"ng-sortable-button",label:(0,i.__)("Yes"),variant:"secondary",isSmall:!0,isDestructive:!0,onClick:()=>{return e=u,void m({embeds:{...d.embeds,[e]:{...d.embeds[e],enabled:0}}});var e}},"Yes"),(0,e.createElement)(s.Button,{className:"ng-sortable-button",label:(0,i.__)("No"),variant:"tertiary",isSmall:!0,onClick:T},"No"))))),(0,e.createElement)("div",{className:"ng-sortable-control"+(p?" opened":"")},(0,e.createElement)(s.TextControl,{value:w,onChange:e=>k(e),placeholder:(0,i.__)("Search or type URL"),disabled:v}),(0,e.createElement)(s.Button,{variant:"secondary",disabled:!w||v,isBusy:v,isSmall:!0,onClick:()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!w||!e)return!1;C(""),y(!0);const t={url:w};o()({path:"newsletterglue/"+nglue_backend.api_version+"/fetch_url",method:"post",data:t,headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((t=>{if(y(!1),t.error)C(t.error);else{const l=e;var n={key:l,id:t.item.ID,post_id:t.item.post_id?t.item.post_id:0,title:t.item.title,content:t.item.post_content,image:t.item.image_url,author:t.item.author?t.item.author:"",categories:t.item.categories?t.item.categories:"",tags:t.item.tags?t.item.tags:"",favicon:t.item.favicon?t.item.favicon:"",remote:t.item.is_remote?"yes":"no",domain:t.item.domain?t.item.domain:"",enabled:1,hidden:0};m({embeds:{...d.embeds,[l]:n}})}}))}(u)}},"Update"),x&&(0,e.createElement)("div",{className:"ngl-error",style:{paddingBottom:"10px"}},x))))}const im=t=>{const{attributes:n,setAttributes:a}=t,[r,c]=(0,e.useState)(n.embeds_order),u=zs(Ns(vc),Ns(pc,{coordinateGetter:yu}));function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!p&&!e)return!1;let t=p;e&&(t=e),_(""),g(!0),v(!1);const l={url:t};o()({path:"newsletterglue/"+nglue_backend.api_version+"/fetch_url",method:"post",data:l,headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{if(g(!1),e.error)_(e.error);else{h(""),w([]);const l=Object.keys(n.embeds).length>0?Math.max.apply(null,Object.keys(n.embeds))+1:1;var t={key:l,id:e.item.ID,post_id:e.item.post_id?e.item.post_id:0,title:e.item.title,content:e.item.post_content,image:e.item.image_url,author:e.item.author?e.item.author:"",categories:e.item.categories?e.item.categories:"",tags:e.item.tags?e.item.tags:"",favicon:e.item.favicon?e.item.favicon:"",remote:e.item.is_remote?"yes":"no",domain:e.item.domain?e.item.domain:"",enabled:1,hidden:0};a({embeds:{...n.embeds,[l]:t},embeds_order:[...n.embeds_order,l]}),c([...n.embeds_order,l])}}))}const[m,g]=(0,e.useState)(!1),[p,h]=(0,e.useState)(""),[b,_]=(0,e.useState)(""),[f,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)([]),E=l().useRef(null);return(0,e.useEffect)((()=>{}),[]),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Add & manage posts","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},(0,e.createElement)(s.BaseControl,{className:"ngl-combobox"},(0,e.createElement)(s.TextControl,{value:p,onChange:e=>{h(e),e&&e.length>=3?(v(!0),function(e){if(!e)return!1;_("");const t={query:e};o()({path:"newsletterglue/"+nglue_backend.api_version+"/search_post",method:"post",data:t,headers:{"NEWSLETTERGLUE-API-KEY":nglue_backend.api_key}}).then((e=>{v(!1),e.items&&w(e.items)}))}(e)):v(!1)},placeholder:(0,i.__)("Search or type URL"),disabled:m}),(0,e.createElement)(s.Button,{variant:"primary",disabled:!p||m,isBusy:m,onClick:()=>d(),ref:E},"Add")),b&&(0,e.createElement)("div",{className:"ngl-error",style:{paddingBottom:"10px"}},b),y.length>0&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ngl-search-dd"+(m?" is-disabled":"")},y.map(((t,n)=>(0,e.createElement)(s.Button,{key:n,disabled:m||f,onClick:()=>{h(t.url),d(t.url)}},(0,e.createElement)("div",null,t.title),(0,e.createElement)("span",null,(0,e.createElement)(Oa,{icon:lm})))))),(0,e.createElement)(s.__experimentalDivider,null)),(0,e.createElement)(Kc,{sensors:u,collisionDetection:Ls,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n.id&&c((e=>{const l=e.indexOf(t.id),o=e.indexOf(n.id);var i=nu(e,l,o);return a({embeds_order:i}),i}))}},(0,e.createElement)(uu,{items:r,strategy:ru},r.map((t=>(0,e.createElement)(om,{key:t,id:t,attrs:n,setAttributes:a,setItems:c}))))))};function rm(e,t){let n,l,a,o,i="100%",r="100%";const{padding:s,margin:c,table_ratio:u,image_position:d,columns_num:m}=e;var g=600-(parseInt(s.left)+parseInt(s.right)+parseInt(c.left)+parseInt(c.right));"70_30"==u&&(a=u.split("_"),n=a[0],l=a[1]),"30_70"==u&&(a=u.split("_"),n=a[0],l=a[1]),"50_50"==u&&(a=u.split("_"),n=a[0],l=a[1]),"right"===d&&("70_30"==u&&(a=u.split("_"),l=a[0],n=a[1]),"30_70"==u&&(a=u.split("_"),l=a[0],n=a[1]),"50_50"==u&&(a=u.split("_"),l=a[0],n=a[1])),n&&l&&(i=Math.floor(n/100*g-10)+"px",r=Math.floor(l/100*g-10)+"px"),"two"==m&&(o=Math.floor(g/2-10)+"px"),t({div1:i,div2:r,containerWidth:g+"px",itemBase:o})}const sm=n=>{const{attributes:l,setAttributes:a,blockProps:o}=n,r=(0,e.createElement)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,e.createElement)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,e.createElement)("polyline",{points:"21 15 16 10 5 21"})),[c,u]=(0,t.useState)(0),[d,m]=(0,t.useState)(0),{deviceType:g}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),h="Mobile"===g;var b=l.text_color?l.text_color:vo.color;function _(e,t){let n=l.custom_data;for(var a=0;a<n.length;a++)if(n[a][t+"_"+e]&&null!=n[a][t+"_"+e])return n[a][t+"_"+e];return!1}function f(e,t){var n=t;return l.words_num>0&&_(e.id,"excerpt")&&(n=n.split(" ").splice(0,l.words_num).join(" "),n+="..."),n}(0,t.useEffect)((()=>{}),[]),(0,t.useEffect)((()=>{l.div1&&l.div2&&l.containerWidth&&l.itemBase||rm(l,a)}),[]),(0,t.useEffect)((()=>{rm(l,a)}),[l.image_position,l.table_ratio,l.columns_num,l.padding,l.margin]),(0,t.useEffect)((()=>{}),[l.update_posts]);const v={};v.fontFamily=nglue_backend.font_names[l.font.key],l.background_color&&(v.backgroundColor=l.background_color),v.color=b,l.padding&&(v.paddingLeft=h?l.mobile_padding.left:l.padding.left,v.paddingRight=h?l.mobile_padding.right:l.padding.right,v.paddingTop=h?l.mobile_padding.top:l.padding.top,v.paddingBottom=h?l.mobile_padding.bottom:l.padding.bottom),l.margin&&(v.marginLeft=h?l.mobile_margin.left:l.margin.left,v.marginRight=h?l.mobile_margin.right:l.margin.right,v.marginTop=h?l.mobile_margin.top:l.margin.top,v.marginBottom=h?l.mobile_margin.bottom:l.margin.bottom),l.border_radius&&(v.borderRadius=l.border_radius+"px"),l.border_size&&(v.borderWidth=l.border_size+"px",v.borderStyle=l.border_style?l.border_style.value:"solid",v.borderColor=l.border_color?l.border_color:"transparent");const y={};y.fontFamily=nglue_backend.font_names[l.font_title.key],y.fontSize=h?l.mobile_fontsize_title:l.fontsize_title,l.title_color?y.color=l.title_color:y.color=vo.colors.h3;const w={};w.fontFamily=nglue_backend.font_names[l.font_label.key],w.fontSize=h?l.mobile_fontsize_label:l.fontsize_label,l.label_color&&(w.color=l.label_color);const k={};k.fontFamily=nglue_backend.font_names[l.font_author.key],k.fontSize=h?l.mobile_fontsize_author:l.fontsize_author,l.author_color&&(k.color=l.author_color);const x={};x.fontFamily=nglue_backend.font_names[l.font_button.key],x.fontSize=h?l.mobile_fontsize_button:l.fontsize_button,l.link&&("link"==l.cta_type&&(x.color=l.link),"button"==l.cta_type&&(x.backgroundColor=l.button,x.color=l.button_text));let C={};l.margin&&(l.margin.top||l.margin.bottom)&&(C.padding="1px 0");const{embeds:S}=l,N=Object.keys(S).length>0;function z(e){var t=l.embeds,n=e.key,a=e.title;return t[n].custom&&t[n].custom.title?t[n].custom.title:a}function B(e){var t=l.embeds,n=e.key,a="";return"domain"==l.label_type?a=e.domain:"category"==l.label_type?a=e.categories:"tag"==l.label_type?a=e.tags:"author"==l.label_type&&(a=e.author),t[n].custom&&t[n].custom.label?t[n].custom.label:a}function T(e){var t=l.embeds,n=e.key,a=e.author?e.author:"";return t[n].custom&&t[n].custom.author?t[n].custom.author:a}function P(e){var t=l.embeds,n=e.key,a=e.image;return t[n].custom&&t[n].custom.image?t[n].custom.image:a}function A(e){var t=l.embeds,n=l.cta_link,a=e.key;return t[a].custom&&t[a].custom.more?t[a].custom.more:n}function I(e,t,n){a({embeds:{...S,[e]:{...S[e],custom:{...S[e].custom,[t]:n}}}})}const R=l.divider_bg?l.divider_bg:"#eeeeee";return(0,e.createElement)("div",E({},o,{style:C}),(0,e.createElement)("div",{className:"ngl-lp-items ngl-lp-items-blockeditor",style:v},!N&&(0,e.createElement)("div",{className:"ngl-lp-noresults"},"You did not add any posts yet to this embed."),N&&l.embeds_order.map((function(t){var n=S[t];if(!n.enabled)return null;var o=l.hidden_posts&&l.hidden_posts.includes(n.id),v=function(e){var t=e.content?"<p>"+e.content+"</p>":"",n=l.embeds,a=e.key;return n[a].custom&&n[a].custom.content?n[a].custom.content:t}(n);return(0,e.createElement)("div",{className:"ngl-lp-item-wrap "+("Desktop"!==g?"on-mobile":""),key:t,style:{flexBasis:l.itemBase}},function(e){return!!l.embeds[e].custom}(t)&&(0,e.createElement)("div",{className:"ng-reset-item"},(0,e.createElement)(s.Button,{variant:"secondary",icon:Nu,iconSize:20,onClick:()=>{!function(e){a({embeds:{...S,[e]:{...S[e],custom:null}}})}(t)}},(0,i.__)("Reset"))),(0,e.createElement)("div",{className:`ngl-lp-item ${"Desktop"!=g&&l.stacked_on_mobile?"is-stacked":"is-not-stacked"} ${o?"ngl-lp-item-hidden":"ngl-lp-item-visible"}`},l.show_image&&(0,e.createElement)(p.MediaUpload,{multiple:!1,render:t=>{let{open:a}=t;return(0,e.createElement)("div",{className:"ngl-lp-image-edit"+(_(n.id,"image")?" ngl-lp-image-edit-hasImage":""),style:{flexBasis:l.div1,padding:"2px 0"}},o&&(0,e.createElement)("div",{className:"ngl-lp-data-hidden"}),(0,e.createElement)("div",{className:"ngl-lp-image"},(0,e.createElement)("img",{src:P(n),alt:z(n),style:{borderRadius:l.image_radius+"px"},onClick:a}),(0,e.createElement)(s.Button,{variant:"link",className:"ngl-reset-mods ngl-reset-mods-edit",icon:r,iconSize:20,onClick:a})))},onSelect:e=>{I(t,"image",e.url)}}),(0,e.createElement)("div",{className:"ngl-lp-data",style:{flexBasis:l.div2}},o&&(0,e.createElement)("div",{className:"ngl-lp-data-hidden"}),l.order.map((a=>1==a&&l.show_label?(0,e.createElement)("div",{key:a,className:"ngl-lp-labels-edit",style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{tagName:"div",className:"ngl-lp-labels",style:w,value:B(n),placeholder:(0,i.__)("Add label...","newsletter-glue"),allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>{I(t,"label",e)}})):2==a&&l.show_author?(0,e.createElement)("div",{key:a,className:"ngl-lp-labels-edit",style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{tagName:"div",className:"ngl-lp-labels",style:k,value:T(n),placeholder:(0,i.__)("Add author...","newsletter-glue"),allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>{I(t,"author",e)}})):3==a&&l.show_heading?(0,e.createElement)("div",{key:a,className:"ngl-lp-title",style:{padding:"2px 0",lineHeight:1.2}},(0,e.createElement)(p.RichText,{tagName:"h3",value:z(n),placeholder:(0,i.__)("Add a heading","newsletter-glue"),style:y,allowedFormats:["core/bold","core/link","core/italic"],onChange:e=>I(t,"title",e)})):4==a&&l.show_excerpt?(0,e.createElement)("div",{key:a,className:"ngl-lp-content-edit",style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{tagName:"div",className:"ngl-lp-content",style:{fontFamily:nglue_backend.font_names[l.font_text.key],fontSize:h?l.mobile_fontsize_text:l.fontsize_text,color:b},value:c===n.key?v:f(n,v),onMouseEnter:()=>{m(n.key)},onMouseLeave:()=>{},onFocus:()=>{n.key==d&&u(n.key)},onBlur:()=>!1,placeholder:(0,i.__)("Add text...","newsletter-glue"),allowedFormats:["core/bold","core/link","core/italic","core/image"],onChange:e=>{I(t,"content",e)}})):5==a&&l.show_cta?(0,e.createElement)("div",{key:a,className:`ngl-lp-cta ngl-lp-cta-${l.cta_type}`,style:{padding:"2px 0"}},(0,e.createElement)(p.RichText,{className:"ngl-lp-cta-link"+("button"==l.cta_type?" wp-block-button__link":""),multiline:!1,tagName:"a",style:x,value:A(n),placeholder:(0,i.__)("Add link text...","newsletter-glue"),allowedFormats:["core/bold","core/italic"],onChange:e=>{I(t,"more",e)}})):void 0)))),l.show_divider&&(0,e.createElement)("div",{style:{backgroundColor:R,height:parseInt(l.divider_size)+"px",margin:"10px 0"}}))}))))},cm=t=>{const{attributes:n,setAttributes:l}=t;let a=[{value:"text_color",label:"Excerpt"},{value:"background_color",label:"Background"},{value:"title_color",label:"Title"},{value:"label_color",label:"Label"},{value:"author_color",label:"Author"}];"link"===n.cta_type&&n.show_cta&&a.push({value:"link",label:"Link",default:vo.colors.primary,required:!0}),"button"===n.cta_type&&n.show_cta&&(a.push({value:"button",label:"Button",default:vo.colors.btn_bg,required:!0}),a.push({value:"button_text",label:"Button text",default:vo.colors.btn_colour,required:!0})),n.border_size&&a.push({value:"border_color",label:"Border"}),n.divider_size&&n.show_divider&&a.push({value:"divider_bg",label:"Separator"});const o=[{type:"section",label:"Title"},{value:"font_title",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_title",label:"Font size",default:vo.posts.fontsize_title,type:"unit",is_single:!0},{type:"section",label:"Excerpt"},{value:"font_text",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_text",label:"Font size",default:vo.posts.fontsize_text,type:"unit",is_single:!0},{type:"section",label:"Label"},{value:"font_label",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_label",label:"Label font size",default:vo.posts.fontsize_label,type:"unit",is_single:!0},{type:"section",label:"Author"},{value:"font_author",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_author",label:"Font size",default:vo.posts.fontsize_author,type:"unit",is_single:!0},{type:"section",label:"Button/link"},{value:"font_button",label:"Font family",default:vo.font,type:"customselect",options:Wo,is_single:!0},{value:"fontsize_button",label:"Font size",default:vo.posts.fontsize_button,type:"unit",is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.posts.padding,type:"boxcontrol"},{value:"margin",label:"Margin",default:vo.posts.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background_color:void 0,text_color:void 0,title_color:void 0,label_color:void 0,author_color:void 0,link:vo.colors.primary,button:vo.colors.btn_bg,button_text:vo.colors.btn_colour,border_color:void 0,divider_bg:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({font:vo.font,font_title:vo.font,fontsize_title:vo.posts.fontsize_title,font_text:vo.font,fontsize_text:vo.posts.fontsize_text,font_label:vo.font,fontsize_label:vo.posts.fontsize_label,font_author:vo.font,fontsize_author:vo.posts.fontsize_author,font_button:vo.font,fontsize_button:vo.posts.fontsize_button})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.posts.padding,margin:vo.posts.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},um=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_fontsize_title",label:"Heading font size",default:vo.mobile.posts.fontsize_title,type:"unit"},{value:"mobile_fontsize_text",label:"Text font size",default:vo.mobile.posts.fontsize_text,type:"unit"},{value:"mobile_fontsize_label",label:"Label font size",default:vo.mobile.posts.fontsize_label,type:"unit"},{value:"mobile_fontsize_author",label:"Author font size",default:vo.mobile.posts.fontsize_author,type:"unit"},{value:"mobile_fontsize_button",label:"Button/link font size",default:vo.mobile.posts.fontsize_button,type:"unit"}],o=[{value:"mobile_padding",label:"Padding",default:vo.mobile.posts.padding,type:"boxcontrol"},{value:"mobile_margin",label:"Margin",default:vo.mobile.posts.margin,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Collapse into 1 column","newsletter-glue"),checked:n.stacked_on_mobile,onChange:e=>{l({stacked_on_mobile:e})}}))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_fontsize_title:vo.mobile.posts.fontsize_title,mobile_fontsize_text:vo.mobile.posts.fontsize_text,mobile_fontsize_label:vo.mobile.posts.fontsize_label,mobile_fontsize_author:vo.mobile.posts.fontsize_author,mobile_fontsize_button:vo.mobile.posts.fontsize_button})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.posts.padding,mobile_margin:vo.mobile.posts.margin})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},dm=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"})),mm=()=>null;let gm=!0;nglue_backend.is_allowed_post_type||(gm=!1),gm&&(0,bo.registerBlockType)("newsletterglue/post-embeds",{apiVersion:2,title:(0,i.__)("Post embeds","newsletter-glue"),category:"newsletterglue-blocks",icon:dm,example:{attributes:{}},description:(0,i.__)("Add embedded posts and URLs to your newsletters.","newsletter-glue"),keywords:["embed","email","newsletter"],attributes:Jd,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}=t;const{deviceType:r}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]);var s=n.show_image?"images":"no-images",c={className:`is-${n.contentstyle} has-${s} columns-${n.columns_num} images-${n.image_position} table-ratio-${n.table_ratio}`};const u=(0,p.useBlockProps)(c);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.InspectorControls,null,"Mobile"!==r&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ngl-gb-outlined"}),(0,e.createElement)(im,{attributes:n,setAttributes:l,className:a,isSelected:o}),(0,e.createElement)(nm,{attributes:n,setAttributes:l,className:a,isSelected:o}),(0,e.createElement)(em,{attributes:n,setAttributes:l,className:a,isSelected:o})),"Mobile"!==r&&(0,e.createElement)(cm,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}),"Mobile"===r&&(0,e.createElement)(um,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i})),(0,e.createElement)(sm,{attributes:n,setAttributes:l,className:a,isSelected:o,blockProps:u}))},save:function(t){let{attributes:n}=t;var l={className:`is-${n.contentstyle} columns-${n.columns_num} images-${n.image_position} table-ratio-${n.table_ratio}`};const a=p.useBlockProps.save(l);return(0,e.createElement)(mm,{attributes:n,blockProps:a})}});let pm={content:{type:"string",source:"html",selector:"p",default:"",role:"content"},citation:{type:"string",source:"html",selector:"span",default:"",role:"content"},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},cite_color:{type:"string"},border:{type:"string",default:vo.quote.border},padding:{type:"object",default:vo.quote.padding},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.quote.fontsize},fontsizeCite:{type:"string",default:vo.block.fontsize},lineheight:{type:"number",default:vo.quote.lineheight},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},placeholder:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.quote&&(pm.mobile_quote_size={type:"string",default:vo.mobile.quote.fontsize},pm.mobile_quote_citesize={type:"string",default:vo.mobile.quote.citesize},pm.mobile_quote_lineheight={type:"number",default:vo.mobile.quote.lineheight},pm.mobile_quote_padding={type:"object",default:vo.mobile.quote.padding});const hm=pm,bm=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"cite_color",label:"Citation"},{value:"border",label:"Border",default:vo.quote.border,required:!0},{value:"link",label:"Link",default:vo.colors.primary,required:!0}],o=[{value:"font",label:(0,i.__)("Font family","newsletter-glue"),default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:(0,i.__)("Font size","newsletter-glue"),default:vo.quote.fontsize,type:"unit"},{value:"fontsizeCite",label:(0,i.__)("Citation font size","newsletter-glue"),default:vo.block.fontsize,type:"unit"},{value:"fontweight",label:(0,i.__)("Font weight","newsletter-glue"),default:vo.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:(0,i.__)("Line height","newsletter-glue"),default:vo.quote.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.quote.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,cite_color:void 0,border:vo.quote.border,link:vo.colors.primary})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({fontweight:vo.fontweight,lineheight:vo.quote.lineheight,font:vo.font,fontsize:vo.quote.fontsize,fontsizeCite:vo.block.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.quote.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},_m=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_quote_size",label:(0,i.__)("Font size","newsletter-glue"),default:vo.mobile.quote.fontsize,type:"unit"},{value:"mobile_quote_citesize",label:(0,i.__)("Citation font size","newsletter-glue"),default:vo.mobile.quote.citesize,type:"unit"},{value:"mobile_quote_lineheight",label:(0,i.__)("Line height","newsletter-glue"),default:vo.mobile.quote.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_quote_padding",label:"Padding",default:vo.mobile.quote.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_quote_lineheight:vo.mobile.quote.lineheight,mobile_quote_size:vo.mobile.quote.fontsize,mobile_quote_citesize:vo.mobile.quote.citesize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_quote_padding:vo.mobile.quote.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},fm=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M13 6v6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H13zm-9 6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H4v6z"})),vm={from:[{type:"block",isMultiBlock:!0,blocks:["newsletterglue/text"],transform:e=>{var t=e[0];return(0,bo.createBlock)("newsletterglue/quote",{content:t.content})}},{type:"block",isMultiBlock:!0,blocks:["newsletterglue/heading"],transform:e=>{var t=e[0];return(0,bo.createBlock)("newsletterglue/quote",{content:t.content.replace(/<[^>]+>/g,"")})}}],to:[{type:"block",isMultiBlock:!0,blocks:["newsletterglue/text"],transform:e=>{var t=e[0];return(0,bo.createBlock)("newsletterglue/text",{content:t.content})}},{type:"block",isMultiBlock:!0,blocks:["newsletterglue/heading"],transform:e=>{var t=e[0];return(0,bo.createBlock)("newsletterglue/heading",{content:t.content})}}]};var ym=vm;let wm=!0;nglue_backend.is_allowed_post_type||(wm=!1),wm&&(0,bo.registerBlockType)("newsletterglue/quote",{apiVersion:2,title:(0,i.__)("Quote","newsletter-glue"),category:"newsletterglue-blocks",icon:fm,example:{attributes:{content:"In quoting others, we cite ourselves.",citation:"Julio Cortázar"}},description:(0,i.__)("Add quote to your email.","newsletter-glue"),keywords:["newsletter","email","quote"],attributes:hm,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,onReplace:r,onRemove:s,clientId:c}=t;const u=n.color?n.color:vo.color,{deviceType:d}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),m="Mobile"===d;var g={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:u,backgroundColor:n.background}};const h=(0,p.useBlockProps)(g),b={fontSize:m?n.mobile_quote_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:m?n.mobile_quote_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:m?n.mobile_quote_padding.top:n.padding.top,paddingBottom:m?n.mobile_quote_padding.bottom:n.padding.bottom,paddingLeft:m?n.mobile_quote_padding.left:n.padding.left,paddingRight:m?n.mobile_quote_padding.right:n.padding.right,textAlign:n.align,color:u},_={width:"20px",borderLeftWidth:"3px",borderLeftStyle:"solid",borderLeftColor:n.border},f={fontSize:m?n.mobile_quote_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:m?n.mobile_quote_lineheight:n.lineheight,fontWeight:n.fontweight.key,color:u},v={fontSize:m?n.mobile_quote_citesize:n.fontsizeCite,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:m?n.mobile_quote_lineheight:n.lineheight,fontWeight:n.fontweight.key,color:n.cite_color?n.cite_color:u},y=(0,Co.useSelect)((e=>{const{isBlockSelected:t}=e(p.store);return t(c)}),[]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:n.align,onChange:e=>{l({align:void 0===e?"none":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==d&&(0,e.createElement)(bm,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:c}),"Mobile"===d&&(0,e.createElement)(_m,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:c})),(0,e.createElement)("table",h,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:b},(0,e.createElement)("table",{width:"100%",cellPadding:0,cellSpacing:0},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,n.border&&(0,e.createElement)("td",{width:"20",style:_}),(0,e.createElement)("td",null,(0,e.createElement)("table",{width:"100%",cellPadding:0,cellSpacing:0},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",style:f},(0,e.createElement)(p.RichText,{tagName:"p",value:n.content,onChange:e=>l({content:e}),placeholder:n.placeholder||(0,i.__)("Type / to choose a block","newsletter-glue"),"data-custom-placeholder":!!n.placeholder||void 0,onReplace:r,onRemove:s,"data-empty":!n.content||"<p></p>"==n.content}))),(!p.RichText.isEmpty(n.citation)||y)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{height:"10",style:{height:"10px"}})),(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td ng-block-cite",style:v},(0,e.createElement)(p.RichText,{tagName:"span",multiline:!1,value:n.citation,onChange:e=>l({citation:e}),placeholder:(0,i.__)("Add citation","newsletter-glue")})))))))))))))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;var a={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:l,backgroundColor:n.background}};const o=p.useBlockProps.save(a),i={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.align,color:l},r={width:"20px",borderLeftWidth:"3px",borderLeftStyle:"solid",borderLeftColor:n.border},s={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,color:l},c={fontSize:n.fontsizeCite,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,color:n.cite_color?n.cite_color:l};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",o,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:i},(0,e.createElement)("table",{width:"100%",cellPadding:0,cellSpacing:0},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,n.border&&(0,e.createElement)("td",{width:"20",style:r}),(0,e.createElement)("td",null,(0,e.createElement)("table",{width:"100%",cellPadding:0,cellSpacing:0},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",style:s},(0,e.createElement)(p.RichText.Content,{tagName:"p",value:n.content}))),n.citation&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{height:"10",style:{height:"10px"}})),(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td ng-block-cite",style:c},(0,e.createElement)(p.RichText.Content,{tagName:"span",value:n.citation})))))))))))))))},transforms:ym,supports:{__experimentalOnEnter:!0,__experimentalSlashInserter:!0}});let Em={background:{type:"string"},width:{type:"number"},originalWidth:{type:"number"},verticalAlign:{type:"string",default:"top"},padding:{type:"object",default:vo.column.padding},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.column&&(Em.mobile_padding={type:"object",default:vo.mobile.column.padding});const km=Em,xm=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"padding",label:"Padding",default:vo.column.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:[{value:"background",label:"Background"}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.column.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},Cm=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_padding",label:"Padding",default:vo.mobile.column.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.mobile.column.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},Sm=["newsletterglue/text","newsletterglue/buttons","newsletterglue/button","newsletterglue/embed","newsletterglue/heading","newsletterglue/html","newsletterglue/image","newsletterglue/latest-posts","newsletterglue/list","newsletterglue/meta-data","newsletterglue/optin","newsletterglue/post-author","newsletterglue/post-embeds","newsletterglue/quote","newsletterglue/separator","newsletterglue/showhide","newsletterglue/social-icons","newsletterglue/table","newsletterglue/ad-inserter"],Nm=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6 17.5c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h3v10H6zm13.5-.5c0 .3-.2.5-.5.5h-3v-10h3c.3 0 .5.2.5.5v9z"}));let zm=!0;nglue_backend.is_allowed_post_type||(zm=!1),zm&&(0,bo.registerBlockType)("newsletterglue/section",{apiVersion:2,title:(0,i.__)("Column","newsletter-glue"),category:"newsletterglue-blocks",icon:Nm,description:(0,i.__)("Add column to your email.","newsletter-glue"),keywords:["newsletter","email","column"],attributes:km,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}=t;const{deviceType:r}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),s=ko()({"ng-block":!0,"ng-should-remove":!n.width});var c={width:n.width?n.width:"auto",className:s,valign:n.verticalAlign,style:{width:n.width?n.width+"px":"auto",paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,display:n.width?"table-cell":"none",verticalAlign:n.verticalAlign,backgroundColor:n.background}};const u=(0,p.useBlockProps)(c),d=(0,p.useInnerBlocksProps)(u,{allowedBlocks:Sm,template:[["newsletterglue/text",{}]],templateLock:!1});return(0,e.useEffect)((()=>{let e=n.originalWidth;n.padding.left&&(e-=parseInt(n.padding.left)),n.padding.right&&(e-=parseInt(n.padding.right)),l({width:e})}),[n.padding]),(0,e.useEffect)((()=>{var e=(0,Co.select)("core/block-editor").getBlocksByClientId(i)[0];e&&e.innerBlocks&&(0,Co.select)("core/block-editor").getBlocksByClientId(i)[0].innerBlocks.forEach((function(e){(0,Co.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{threshold:n.width})}))}),[n.width]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.BlockVerticalAlignmentToolbar,{value:n.verticalAlign,onChange:e=>{"center"==e&&(e="middle"),l({verticalAlign:void 0===e?"top":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==r&&(0,e.createElement)(xm,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}),"Mobile"===r&&(0,e.createElement)(Cm,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i})),(0,e.createElement)("td",d))},save:function(t){let{attributes:n}=t;const l=ko()({"ng-block":!0,"ng-should-remove":!n.width});var a={width:n.width?n.width:"auto",className:l,valign:n.verticalAlign,style:{width:n.width?n.width+"px":"auto",paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,display:n.width?"table-cell":"none",verticalAlign:n.verticalAlign,backgroundColor:n.background}};let o=p.useBlockProps.save(a);const i=p.useInnerBlocksProps.save(o);return(0,e.createElement)("td",i)},parent:["newsletterglue/sections"]});let Bm={layout:{type:"string"},background:{type:"string"},stacked_on_mobile:{type:"boolean",default:!0},padding:{type:"object",default:vo.columns.padding},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.columns&&(Bm.mobile_padding={type:"object",default:vo.mobile.columns.padding});const Tm=Bm,Pm=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"padding",label:"Padding",default:vo.columns.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:[{value:"background",label:"Background"}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.columns.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},Am=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_padding",label:"Padding",default:vo.mobile.columns.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.mobile.columns.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},Im=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-4.1 1.5v10H10v-10h4.9zM5.5 17V8c0-.3.2-.5.5-.5h2.5v10H6c-.3 0-.5-.2-.5-.5zm14 0c0 .3-.2.5-.5.5h-2.6v-10H19c.3 0 .5.2.5.5v9z"})),Rm=[{group:"2-column layout",options:[{layout:"50_50",first:50,second:50},{layout:"60_40",first:60,second:40},{layout:"70_30",first:70,second:30},{layout:"80_20",first:80,second:20},{layout:"90_10",first:90,second:10},{layout:"40_60",first:40,second:60},{layout:"30_70",first:30,second:70},{layout:"20_80",first:20,second:80},{layout:"10_90",first:10,second:90}]},{group:"3-column layout",options:[{layout:"33_33_33",first:33,second:33,third:33},{layout:"50_25_25",first:50,second:25,third:25},{layout:"25_25_50",first:25,second:25,third:50},{layout:"25_50_25",first:25,second:50,third:25},{layout:"60_20_20",first:60,second:20,third:20},{layout:"20_20_60",first:20,second:20,third:60},{layout:"20_60_20",first:20,second:60,third:20}]},{group:"1-column",options:[{layout:"100",first:100}]}];let Mm=!0;nglue_backend.is_allowed_post_type||(Mm=!1),Mm&&(0,bo.registerBlockType)("newsletterglue/sections",{apiVersion:2,title:(0,i.__)("Columns","newsletter-glue"),category:"newsletterglue-blocks",icon:Im,description:(0,i.__)("Add columns to your email.","newsletter-glue"),keywords:["newsletter","email","columns"],attributes:Tm,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}=t;const{deviceType:c}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),u="Mobile"===c;var d={width:"100%",cellPadding:0,cellSpacing:0,className:ko()({"ng-block":!0,"is-stacked-on-mobile":u&&n.stacked_on_mobile}),bgcolor:n.background,style:{backgroundColor:n.background}};const m=(0,p.useBlockProps)(d),g={paddingTop:u?n.mobile_padding.top:n.padding.top,paddingBottom:u?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:u?n.mobile_padding.left:n.padding.left,paddingRight:u?n.mobile_padding.right:n.padding.right};(0,e.useEffect)((()=>{if(n.layout){let t=600;n.padding.left&&(t-=parseInt(n.padding.left)),n.padding.right&&(t-=parseInt(n.padding.right));var e=n.layout.split("_");let l=[];(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0]&&(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0].innerBlocks&&(l=(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0].innerBlocks),l.length&&l.forEach((function(n,l){if(e[l]){let a=e[l]/100*t;(0,Co.dispatch)("core/block-editor").updateBlockAttributes(n.clientId,{width:parseInt(a),originalWidth:parseInt(a)})}else(0,Co.dispatch)("core/block-editor").updateBlockAttributes(n.clientId,{width:void 0,originalWidth:void 0})}))}}),[n.padding]);const h=Rm.map(((t,a)=>(0,e.createElement)("div",{key:`ng-option-group-${a}`},(0,e.createElement)("div",{className:"ng-block-group-title"},t.group),(0,e.createElement)("div",{className:"ng-block-grouped"},t.options.map(((t,a)=>{let o;return t.first&&(o=t.first),t.second&&(o=o+" : "+t.second),t.third&&(o=o+" : "+t.third),(0,e.createElement)("div",{className:"ng__column_option"+(n.layout===t.layout?" ng__column_option_active":""),key:`ng-option-key-${a}`,"data-layout":o,onClick:()=>function(e){let t=600;n.padding.left&&(t-=parseInt(n.padding.left)),n.padding.right&&(t-=parseInt(n.padding.right));var a=e.split("_");let o=[];(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0]&&(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0].innerBlocks&&(o=(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0].innerBlocks),o.length?o.forEach((function(e,n){if(a[n]){let l=a[n]/100*t;(0,Co.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{width:parseInt(l),originalWidth:parseInt(l)})}else(0,Co.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{width:void 0,originalWidth:void 0})})):setTimeout((function(){(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0]&&(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0].innerBlocks&&(0,Co.select)("core/block-editor").getBlocksByClientId(r)[0].innerBlocks.forEach((function(e,n){if(a[n]){let l=a[n]/100*t;(0,Co.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{width:parseInt(l),originalWidth:parseInt(l)})}else(0,Co.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{width:void 0,originalWidth:void 0})}))}),500),l({layout:e})}(t.layout)},t.first&&(0,e.createElement)("span",{style:{width:t.first+"%"}}),t.second&&(0,e.createElement)("span",{style:{width:t.second+"%"}}),t.third&&(0,e.createElement)("span",{style:{width:t.third+"%"}}))})))))),{children:b}=(0,p.useInnerBlocksProps)([],{allowedBlocks:["newsletterglue/section"],template:[["newsletterglue/section",{}],["newsletterglue/section",{}],["newsletterglue/section",{}]],templateLock:!1,orientation:"horizontal"});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.InspectorControls,null,n.layout&&"Mobile"!==c&&(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Layout")},h),n.layout&&"Mobile"===c&&(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Layout")},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Stack columns on mobile","newsletter-glue"),checked:n.stacked_on_mobile,onChange:e=>{l({stacked_on_mobile:e})}}))),n.layout&&"Mobile"!==c&&(0,e.createElement)(Pm,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}),n.layout&&"Mobile"===c&&(0,e.createElement)(Am,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r})),(0,e.createElement)("table",m,(0,e.createElement)("tbody",null,!n.layout&&(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("div",{className:"components-placeholder wp-block-columns is-large"},(0,e.createElement)("div",{className:"components-placeholder__label"},(0,e.createElement)("span",{className:"block-editor-block-icon has-colors"},Im)," Columns"),(0,e.createElement)("fieldset",{className:"components-placeholder__fieldset"},(0,e.createElement)("legend",{className:"components-placeholder__instructions"},"Select a layout to begin. You can always change this later."),(0,e.createElement)("form",null,h))))),n.layout&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-columns-wrap",style:g},(0,e.createElement)("table",{width:"100%",cellPadding:"0",cellSpacing:"0"},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,b))))))))},save:function(t){let{attributes:n}=t;var l={width:"100%",cellPadding:0,cellSpacing:0,className:ko()({"ng-block":!0,"is-stacked-on-mobile":n.stacked_on_mobile}),bgcolor:n.background,style:{backgroundColor:n.background}};const a=p.useBlockProps.save(l),o={paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right},{children:i}=p.useInnerBlocksProps.save([]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",a,(0,e.createElement)("tbody",null,n.layout&&(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-columns-wrap",style:o},(0,e.createElement)("table",{width:"100%",cellPadding:"0",cellSpacing:"0"},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,i))))))))}});let Lm={background:{type:"string"},color:{type:"string"},padding:{type:"object",default:vo.separator.padding},align:{type:"string",default:"center"},mobile_align:{type:"string",default:"center"},width:{type:"string",default:vo.separator.width},height:{type:"string",default:vo.separator.height},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.separator&&(Lm.mobile_padding={type:"object",default:vo.mobile.separator.padding},Lm.mobile_width={type:"string",default:vo.mobile.separator.width},Lm.mobile_height={type:"string",default:vo.mobile.separator.height});const Fm=Lm,Om=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"padding",label:"Padding",default:vo.separator.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},(0,e.createElement)(s.Flex,null,(0,e.createElement)(s.FlexBlock,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Width"),value:n.width,onChange:e=>l({width:e}),units:Oo})),(0,e.createElement)(s.FlexBlock,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Height"),value:n.height,onChange:e=>l({height:e}),units:Oo})))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Separator"),resetAll:()=>{l({background:void 0,color:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:[{value:"color",label:"Color"},{value:"background",label:"Background"}]})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.separator.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},Hm=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_padding",label:"Padding",default:vo.mobile.separator.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},(0,e.createElement)(s.Flex,null,(0,e.createElement)(s.FlexBlock,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Width"),value:n.mobile_width,onChange:e=>l({mobile_width:e}),units:Oo})),(0,e.createElement)(s.FlexBlock,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Height"),value:n.mobile_height,onChange:e=>l({mobile_height:e}),units:Oo})))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.separator.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})))},Vm=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M4.5 12.5v4H3V7h1.5v3.987h15V7H21v9.5h-1.5v-4h-15Z"}));let Dm=!0;nglue_backend.is_allowed_post_type||(Dm=!1),Dm&&(0,bo.registerBlockType)("newsletterglue/separator",{apiVersion:2,title:(0,i.__)("Separator","newsletter-glue"),category:"newsletterglue-blocks",icon:Vm,example:{},description:(0,i.__)("Add separators to your email.","newsletter-glue"),keywords:["newsletter","email","separator"],attributes:Fm,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}=t;const{deviceType:r}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),s="Mobile"===r;var c=n.color?n.color:vo.color,u={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:c,backgroundColor:n.background}};const d=(0,p.useBlockProps)(u),m={paddingTop:s?n.mobile_padding.top:n.padding.top,paddingBottom:s?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:s?n.mobile_padding.left:n.padding.left,paddingRight:s?n.mobile_padding.right:n.padding.right,color:c};let g=s?n.mobile_width:n.width;const h={backgroundColor:"transparent",color:"transparent",margin:0,border:0,borderTop:`${s?n.mobile_height:n.height} solid ${c}`,width:g,height:0};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:s?n.mobile_align:n.align,onChange:e=>{l(s?{mobile_align:void 0===e?"none":e}:{align:void 0===e?"none":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==r&&(0,e.createElement)(Om,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i}),"Mobile"===r&&(0,e.createElement)(Hm,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:i})),(0,e.createElement)("table",d,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:s?n.mobile_align:n.align,style:m},(0,e.createElement)("hr",{style:h}))))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;var a={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:l,backgroundColor:n.background}};const o=p.useBlockProps.save(a),i={paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,color:l},r={backgroundColor:"transparent",color:"transparent",margin:0,border:0,borderTop:`${n.height} solid ${l}`,width:n.width,height:0};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",o,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:i},(0,e.createElement)("hr",{style:r}))))))}});let jm=[];nglue_backend.is_allowed_post_type&&(jm=newsletterglue_block_show_hide_content.apps);let $m={show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};jm&&jm.forEach((e=>{$m[`${e}_conditions`]={type:"array",default:[]}}));const Wm=$m,Um=vi;let Gm=!0;nglue_backend.is_allowed_post_type||(Gm=!1),Gm&&(0,bo.registerBlockType)("newsletterglue/showhide",{apiVersion:2,title:(0,i.__)("Show/hide content","newsletter-glue"),category:"newsletterglue-blocks",icon:Um,description:(0,i.__)("Hide selected content from your blog/newsletter.","newsletter-glue"),keywords:["newsletter","email","group"],attributes:Wm,edit:function(t){let{attributes:n}=t;const l=(0,p.useBlockProps)({width:"100%",className:"ng-block",style:{}});let a=newsletterglue_meta?.app;var o=!1;return newsletterglue_block_show_hide_content.showconditions&&(o=!0,n.show_in_web&&n.show_in_email&&0===n[`${a}_conditions`]?.length&&(o=!1)),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"}),(0,e.createElement)(p.InspectorControls,null),(0,e.createElement)("div",l,o&&(0,e.createElement)("div",{style:{position:"absolute",right:0,top:0,width:"30px",height:"30px",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"center"}},(0,e.createElement)(Oa,{icon:vi})),(0,e.createElement)(p.InnerBlocks,null)))},save:function(){const t=p.useBlockProps.save({width:"100%",className:"ng-block",style:{}});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",t,(0,e.createElement)(p.InnerBlocks.Content,null)))}});var qm=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z"}));var Ym=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M9 11.8l6.1-4.5c.1.4.4.7.9.7h2c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-2c-.6 0-1 .4-1 1v.4l-6.4 4.8c-.2-.1-.4-.2-.6-.2H6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h2c.2 0 .4-.1.6-.2l6.4 4.8v.4c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-2c-.5 0-.8.3-.9.7L9 12.2v-.4z"}));const Zm=Ym;let Km=!0;nglue_backend.is_allowed_post_type||(Km=!1);const Qm=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"100%",height:"100%",fill:"inherit"},(0,e.createElement)("path",{d:"M41,4H9C6.243,4,4,6.243,4,9v32c0,2.757,2.243,5,5,5h32c2.757,0,5-2.243,5-5V9C46,6.243,43.757,4,41,4z M37.006,22.323 c-0.227,0.021-0.457,0.035-0.69,0.035c-2.623,0-4.928-1.349-6.269-3.388c0,5.349,0,11.435,0,11.537c0,4.709-3.818,8.527-8.527,8.527 s-8.527-3.818-8.527-8.527s3.818-8.527,8.527-8.527c0.178,0,0.352,0.016,0.527,0.027v4.202c-0.175-0.021-0.347-0.053-0.527-0.053 c-2.404,0-4.352,1.948-4.352,4.352s1.948,4.352,4.352,4.352s4.527-1.894,4.527-4.298c0-0.095,0.042-19.594,0.042-19.594h4.016 c0.378,3.591,3.277,6.425,6.901,6.685V22.323z"})),Xm=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512"},(0,e.createElement)("path",{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"})),Jm=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},(0,e.createElement)("path",{d:"M0 32v448h448V32H0zm358.4 179.2h-89.6v89.6h-89.6v89.6H89.6V121.6h268.8v89.6z"}));Km&&(0,bo.registerBlockType)("newsletterglue/social-icon",{apiVersion:2,title:(0,i.__)("Social icon","newsletter-glue"),category:"newsletterglue-blocks",icon:Zm,example:{},description:(0,i.__)("Add social icon to your newsletter.","newsletter-glue"),keywords:["newsletter","email","share","social"],attributes:{service:{type:"string"},url:{type:"string"},url_share:{type:"string"},text:{type:"string"},attrs:{type:"object"},icon_size:{type:"string",default:"24px"},gap:{type:"string",default:"5px"},mobile_icon_size:{type:"string",default:""},mobile_gap:{type:"string",default:""},align:{type:"string",default:"none"},icon_shape:{type:"string",default:"round"},icon_color:{type:"string",default:"black"},new_window:{type:"boolean",default:!0},share_type:{type:"string",default:"link"}},edit:function(t){let{attributes:n,setAttributes:l,clientId:a}=t;const{url_share:o,icon_size:r,new_window:c,share_type:u,service:d,icon_color:m,icon_shape:g,gap:h,align:b,text:_}=n;(0,e.useEffect)((()=>{const e=(0,Co.select)("core/block-editor").getBlockParents(a);var t=Object.keys(e).pop();const n=(0,Co.select)("core/block-editor").getBlocksByClientId(e)[t];n&&n.attributes&&(m!==n.attributes.icon_color&&l({icon_color:n.attributes.icon_color}),g!==n.attributes.icon_shape&&l({icon_shape:n.attributes.icon_shape}),r!==n.attributes.icon_size&&l({icon_size:n.attributes.icon_size}),h!==n.attributes.gap&&l({gap:n.attributes.gap}),b!==n.attributes.align&&l({align:n.attributes.align}))}),[]),(0,e.useEffect)((()=>{if("text"===u){if("x"===n.service){let e="https://x.com/intent/tweet?text="+encodeURIComponent(n.text);l({url:e})}if("twitter"===n.service){let e="https://twitter.com/intent/tweet?text="+encodeURIComponent(n.text);l({url:e})}if("facebook"===n.service){let e="https://facebook.com/sharer/sharer.php?u="+encodeURIComponent(n.text);l({url:e})}if("linkedin"===n.service){let e="https://www.linkedin.com/sharing/share-offsite/?url="+encodeURIComponent(n.text);l({url:e})}}}),[n.text]),(0,e.useEffect)((()=>{if("link"===u){let e=n.url_share;l({url:e})}}),[n.url_share]),(0,e.useEffect)((()=>{if("link"===u){let e=n.url_share;l({url:e})}else{if("x"===n.service){let e="https://x.com/intent/tweet?text="+encodeURIComponent(n.text);l({url:e})}if("twitter"===n.service){let e="https://twitter.com/intent/tweet?text="+encodeURIComponent(n.text);l({url:e})}if("facebook"===n.service){let e="https://facebook.com/sharer/sharer.php?u="+encodeURIComponent(n.text);l({url:e})}if("linkedin"===n.service){let e="https://www.linkedin.com/sharing/share-offsite/?url="+encodeURIComponent(n.text);l({url:e})}}}),[n.share_type]);var f={className:`ng-block ng-social-${n.service}`};const v=(0,p.useBlockProps)(f),y=(0,p.useInnerBlocksProps)(v,{allowedBlocks:["newsletterglue/social-icons"],renderAppender:!1,__unstableDisableDropZone:!0});let w="0px",k="0px";return"center"==b?(w=h,k=h):"right"===b?(w=h,k="0px"):(w="0px",k=h),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Social icon options")},!["instagram","twitch","tiktok","email","web","pinterest","whatsapp","flipboard","youtube"].includes(n.service)&&(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Share type","newsletter-glue"),value:u,onChange:e=>l({share_type:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"link",label:(0,i.__)("Social platform")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"text",label:(0,i.__)("Post")}))),"link"===u?(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.TextControl,{label:(0,i.__)("URL","newsletter-glue"),onChange:e=>l({url_share:e}),value:o,style:{lineHeight:1.2}}),(0,e.createElement)("div",{style:{color:"#777"}},"Example:",(0,e.createElement)("br",null),"https://facebook.com/NewsletterGlue")):(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.TextControl,{label:(0,i.__)("Text / URL","newsletter-glue"),onChange:e=>l({text:e}),value:_||"{{link_to_post}}",style:{lineHeight:1.2}}),(0,e.createElement)("div",{className:"ngl-tag-insert-help"},"Insert: "," ",["{{link_to_post}}"].map(((t,n)=>(0,e.createElement)("a",{key:`tag-${n}`,href:"#",onClick:e=>{e.preventDefault(),l({text:(_||"")+" "+t})}},t))))),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Open link in new tab","newsletter-glue"),onChange:e=>l({new_window:e}),checked:c})))),(0,e.createElement)("span",E({},y,{style:{display:"inline-flex",marginRight:k,marginLeft:w}}),(0,e.createElement)("img",{src:`${nglue_backend.share_uri}/${g}/${m}/${d}.png`,width:parseInt(r),height:parseInt(r),style:{width:r,height:r},className:"ngl-inline-image"})))},save:function(t){let{attributes:n}=t;var l={className:`ng-block ng-social-${n.service}`};let a="0px",o="0px";return"center"==n.align?(a=n.gap,o=n.gap):"right"===n.align?(a=n.gap,o="0px"):(a="0px",o=n.gap),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",E({},p.useBlockProps.save(l),{style:{display:"inline-flex",marginRight:o,marginLeft:a}}),(0,e.createElement)("a",{href:n.url,rel:"noopener noreferrer",target:n&&n.new_window?"_blank":"_self"},(0,e.createElement)("img",{src:`${nglue_backend.share_uri}/${n.icon_shape}/${n.icon_color}/${n.service}.png`,width:parseInt(n.icon_size),height:parseInt(n.icon_size),style:{width:n.icon_size,height:n.icon_size},className:"ngl-inline-image"}))))},parent:["newsletterglue/social-icons"],supports:{reusable:!1,html:!1,customClassName:!1},variations:[{isDefault:!0,name:"instagram",title:"Instagram",description:"Add a social link to Instagram",icon:"instagram",attributes:{service:"instagram"},isActive:function(e,t){return e.service===t.service}},{name:"x",title:"X",description:"Add a social link to X",icon:Xm,attributes:{service:"x"},isActive:function(e,t){return e.service===t.service}},{name:"twitter",title:"Twitter",description:"Add a social link to Twitter",icon:"twitter",attributes:{service:"twitter"},isActive:function(e,t){return e.service===t.service}},{name:"facebook",title:"Facebook",description:"Add a social link to Facebook",icon:"facebook",attributes:{service:"facebook"},isActive:function(e,t){return e.service===t.service}},{name:"twitch",title:"Twitch",description:"Add a social link to Twitch",icon:"twitch",attributes:{service:"twitch"},isActive:function(e,t){return e.service===t.service}},{name:"tiktok",title:"Tiktok",description:"Add a social link to Tiktok",icon:Qm,attributes:{service:"tiktok"},isActive:function(e,t){return e.service===t.service}},{name:"youtube",title:"YouTube",description:"Add a social link to YouTube",icon:"youtube",attributes:{service:"youtube"},isActive:function(e,t){return e.service===t.service}},{name:"linkedin",title:"LinkedIn",description:"Add a social link to LinkedIn",icon:"linkedin",attributes:{service:"linkedin"},isActive:function(e,t){return e.service===t.service}},{name:"pinterest",title:"Pinterest",description:"Add a social link to Pinterest",icon:"pinterest",attributes:{service:"pinterest"},isActive:function(e,t){return e.service===t.service}},{name:"email",title:"Email",description:"Add a social link to Email",icon:"email",attributes:{service:"email"},isActive:function(e,t){return e.service===t.service}},{name:"web",title:"Web",description:"Add a social link to Web",icon:qm,attributes:{service:"web"},isActive:function(e,t){return e.service===t.service}},{name:"whatsapp",title:"Whatsapp",description:"Add a social link to Whatsapp",icon:"whatsapp",attributes:{service:"whatsapp"},isActive:function(e,t){return e.service===t.service}},{name:"flipboard",title:"Flipboard",description:"Add a social link to Flipboard",icon:Jm,attributes:{service:"flipboard"},isActive:function(e,t){return e.service===t.service}}]});let eg={add_description:{type:"boolean",default:!0},description:{type:"string",default:"Follow me on"},icon_shape:{type:"string",default:"round"},icon_color:{type:"string",default:"black"},icon_size:{type:"string",default:"24px"},mobile_icon_size:{type:"string",default:""},gap:{type:"string",default:"5px"},mobile_gap:{type:"string",default:""},new_window:{type:"boolean",default:!0},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},padding:{type:"object",default:vo.share.padding},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.share.fontsize},lineheight:{type:"number",default:vo.lineheight},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.share&&(eg.mobile_size={type:"string",default:vo.mobile.share.fontsize},eg.mobile_lineheight={type:"number",default:vo.mobile.share.lineheight},eg.mobile_padding={type:"object",default:vo.mobile.share.padding});const tg=eg,ng=t=>{const{attributes:n,setAttributes:l,clientId:a}=t,o=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0}],r=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.block.fontsize,type:"unit"},{value:"fontweight",label:"Font weight",default:vo.fontweight,type:"customselect",options:Vo,is_single:!0},{value:"lineheight",label:"Line height",default:vo.lineheight,type:"number",step:.1,is_single:!0}],c=[{value:"padding",label:"Padding",default:vo.block.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,n.add_description&&(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Description"),resetAll:()=>{l({fontweight:vo.fontweight,lineheight:vo.lineheight,font:vo.font,fontsize:vo.block.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Icons")},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Show description text","newsletter-glue"),onChange:e=>l({add_description:e}),checked:n.add_description})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.SelectControl,{label:(0,i.__)("Icon shape"),value:n.icon_shape,onChange:function(e){l({icon_shape:e}),wp.data.select("core/block-editor").getBlocksByClientId(a)[0].innerBlocks.forEach((function(t){wp.data.dispatch("core/block-editor").updateBlockAttributes(t.clientId,{icon_shape:e})}))},options:[{value:"round",label:"Circle"},{value:"round_stroke",label:"Outline circle"},{value:"square",label:"Square"},{value:"rounded_corners",label:"Rounded square"},{value:"rounded_stroke",label:"Outlined square"},{value:"default",label:"Default"}]})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.SelectControl,{label:(0,i.__)("Icon color"),value:n.icon_color,onChange:function(e){l({icon_color:e}),wp.data.select("core/block-editor").getBlocksByClientId(a)[0].innerBlocks.forEach((function(t){wp.data.dispatch("core/block-editor").updateBlockAttributes(t.clientId,{icon_color:e})}))},options:[{value:"black",label:"Black"},{value:"color",label:"Color"},{value:"grey",label:"Gray"},{value:"white",label:"White"}]})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Icon size"),value:n.icon_size,onChange:function(e){l({icon_size:e}),wp.data.select("core/block-editor").getBlocksByClientId(a)[0].innerBlocks.forEach((function(t){wp.data.dispatch("core/block-editor").updateBlockAttributes(t.clientId,{icon_size:e})}))},units:Oo})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Spacing between icons"),value:n.gap,onChange:function(e){l({gap:e}),wp.data.select("core/block-editor").getBlocksByClientId(a)[0].innerBlocks.forEach((function(t){wp.data.dispatch("core/block-editor").updateBlockAttributes(t.clientId,{gap:e})}))},units:Oo}))),n.add_description&&(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,link:vo.colors.primary})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.block.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:c})))},lg=t=>{const{attributes:n,setAttributes:l,clientId:a}=t,o=[{value:"mobile_size",label:"Font size",default:vo.mobile.share.fontsize,type:"unit"},{value:"mobile_lineheight",label:"Line height",default:vo.mobile.share.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"mobile_padding",label:"Padding",default:vo.mobile.share.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,n.add_description&&(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Description"),resetAll:()=>{l({mobile_lineheight:vo.mobile.share.lineheight,mobile_size:vo.mobile.share.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Icons")},(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Icon size"),value:n.mobile_icon_size,onChange:function(e){l({mobile_icon_size:e}),wp.data.select("core/block-editor").getBlocksByClientId(a)[0].innerBlocks.forEach((function(t){wp.data.dispatch("core/block-editor").updateBlockAttributes(t.clientId,{mobile_icon_size:e})}))},units:Oo})),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.__experimentalUnitControl,{label:(0,i.__)("Spacing between icons"),value:n.mobile_gap,onChange:function(e){l({mobile_gap:e}),wp.data.select("core/block-editor").getBlocksByClientId(a)[0].innerBlocks.forEach((function(t){wp.data.dispatch("core/block-editor").updateBlockAttributes(t.clientId,{mobile_gap:e})}))},units:Oo}))),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_padding:vo.mobile.share.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},ag=Ym;let og=!0;nglue_backend.is_allowed_post_type||(og=!1),og&&(0,bo.registerBlockType)("newsletterglue/social-icons",{apiVersion:2,title:(0,i.__)("Social icons","newsletter-glue"),category:"newsletterglue-blocks",icon:ag,example:{},description:(0,i.__)("Add social icons to your newsletter.","newsletter-glue"),keywords:["newsletter","email","share","social"],attributes:tg,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}=t;const{deviceType:s}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),c="Mobile"===s;var u=n.color?n.color:vo.color,d={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:u,backgroundColor:n.background}};const m=(0,p.useBlockProps)(d),g={fontSize:c?n.mobile_size:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:c?n.mobile_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:c?n.mobile_padding.top:n.padding.top,paddingBottom:c?n.mobile_padding.bottom:n.padding.bottom,paddingLeft:c?n.mobile_padding.left:n.padding.left,paddingRight:c?n.mobile_padding.right:n.padding.right,textAlign:n.align,color:u};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:n.align,onChange:e=>{l({align:void 0===e?"none":e}),wp.data.select("core/block-editor").getBlocksByClientId(r)[0].innerBlocks.forEach((function(t){wp.data.dispatch("core/block-editor").updateBlockAttributes(t.clientId,{align:e})}))}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==s&&(0,e.createElement)(ng,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}),"Mobile"===s&&(0,e.createElement)(lg,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r})),(0,e.createElement)("table",m,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:`ng-block-td ng-block-td-${n.align}`,align:n.align,style:g},n.add_description&&(0,e.createElement)(p.RichText,{identifier:"content",tagName:"div",className:"ngl-share-description ng-div",style:{color:u,marginBottom:"8px"},value:n.description,onChange:e=>l({description:e}),placeholder:(0,i.__)("Follow me on"),__unstableEmbedURLOnPaste:!0,__unstableAllowPrefixTransformations:!0}),(0,e.createElement)("div",{className:"ngl-share-wrap ng-div",style:{lineHeight:1,fontSize:"1px"}},(0,e.createElement)(p.InnerBlocks,{allowedBlocks:["newsletterglue/social-icon"],orientation:"horizontal",templateLock:!1,__experimentalAppenderTagName:"div",renderAppender:()=>(0,e.createElement)(p.InnerBlocks.ButtonBlockAppender,{rootClientId:r,className:"ngl-social-appender"})})))))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;var a={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:l,backgroundColor:n.background}};const o=p.useBlockProps.save(a),i={fontSize:n.fontsize,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.align,color:l};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",o,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:i},n.add_description&&(0,e.createElement)(p.RichText.Content,{tagName:"div",className:"ngl-share-description ng-div",value:n.description,style:{color:l,marginBottom:"8px"}}),(0,e.createElement)("div",{className:"ngl-share-wrap ng-div",style:{lineHeight:1,fontSize:"1px"}},(0,e.createElement)(p.InnerBlocks.Content,null)))))))}});let ig={background:{type:"string"},height:{type:"string",default:vo.spacer.height},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"}};vo.mobile.spacer&&(ig.mobile_height={type:"string"});const rg=ig,sg=10;function cg(t){let{label:n,onChange:l,isResizing:a,value:o=""}=t;const i=(0,xo.useInstanceId)(s.__experimentalUnitControl,"block-spacer-height-input"),[r,c]=(0,s.__experimentalParseQuantityAndUnitFromRawValue)(o),u=[r,a?"px":c].join("");return(0,e.createElement)(s.__experimentalUnitControl,{label:n,id:i,isResetValueOnUnitChange:!0,min:sg,onChange:e=>{l(e)},__unstableInputWidth:"80px",value:u,units:Oo})}function ug(t){let{attributes:n,setAttributes:l,orientation:a,height:o,width:r,isResizing:c}=t;return(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},"horizontal"===a&&(0,e.createElement)(cg,{label:(0,i.__)("Width"),value:r,onChange:e=>l({width:e}),isResizing:c}),"horizontal"!==a&&(0,e.createElement)(cg,{label:(0,i.__)("Height"),value:o,onChange:e=>l({height:e}),isResizing:c})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:[{value:"background",label:"Background"}]})))}function dg(t){let{label:n,onChange:l,isResizing:a,value:o=""}=t;const i=(0,xo.useInstanceId)(s.__experimentalUnitControl,"block-spacer-height-input"),[r,c]=(0,s.__experimentalParseQuantityAndUnitFromRawValue)(o),u=[r,a?"px":c].join("");return(0,e.createElement)(s.__experimentalUnitControl,{label:n,id:i,isResetValueOnUnitChange:!0,min:sg,onChange:e=>{l(e)},__unstableInputWidth:"80px",value:u,units:Oo})}function mg(t){let{attributes:n,setAttributes:l,orientation:a,height:o,width:r,isResizing:c}=t;return(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings")},"horizontal"===a&&(0,e.createElement)(dg,{label:(0,i.__)("Width"),value:r,onChange:e=>l({width:e}),isResizing:c}),"horizontal"!==a&&(0,e.createElement)(dg,{label:(0,i.__)("Height"),value:n.mobile_height?n.mobile_height:o,onChange:e=>l({mobile_height:e}),isResizing:c})))}const gg=t=>{let{orientation:n,onResizeStart:l,onResize:a,onResizeStop:o,isSelected:i,isResizing:r,setIsResizing:c,...u}=t;const d=e=>"horizontal"===n?e.clientWidth:e.clientHeight,m=e=>`${d(e)}px`;return(0,e.createElement)(s.ResizableBox,E({className:ko()("block-library-spacer__resize-container",{"resize-horizontal":"horizontal"===n,"is-resizing":r,"is-selected":i}),onResizeStart:(e,t,n)=>{const o=m(n);l(o),a(o)},onResize:(e,t,n)=>{a(m(n)),r||c(!0)},onResizeStop:(e,t,n)=>{const l=d(n);o(`${l}px`),c(!1)},__experimentalShowTooltip:!0,__experimentalTooltipProps:{axis:"horizontal"===n?"x":"y",position:"corner",isVisible:r},showHandle:i},u))};const pg=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M7 18h4.5v1.5h-7v-7H6V17L17 6h-4.5V4.5h7v7H18V7L7 18Z"}));let hg=!0;nglue_backend.is_allowed_post_type||(hg=!1),hg&&(0,bo.registerBlockType)("newsletterglue/spacer",{apiVersion:2,title:(0,i.__)("Spacer","newsletter-glue"),category:"newsletterglue-blocks",icon:pg,description:(0,i.__)("Add spacing to your email.","newsletter-glue"),keywords:["newsletter","email","spacer"],attributes:rg,edit:t=>{let{attributes:n,isSelected:l,setAttributes:a,toggleSelection:o,context:i,__unstableParentLayout:r}=t;const{orientation:s}=i,{orientation:c,type:u}=r||{},d=c||"flex"!==u?c||s:"horizontal",{width:m}=n,{deviceType:g}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),h="Mobile"===g;let b,_;b=n.height,b=h&&n.mobile_height?n.mobile_height:n.height,"Mobile"!==g&&(b=n.height),_=h?n.mobile_height:n.height;const[f,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)(null),[E,k]=(0,e.useState)(null),x=()=>o(!1),C=()=>o(!0),S={backgroundColor:n.background,height:"horizontal"===d?24:y||_||void 0,width:"horizontal"===d&&(E||m)||void 0,minWidth:"vertical"===d&&"flex"===u?48:void 0};(0,e.useEffect)((()=>{"horizontal"!==d||m||a({height:"0px",width:"72px"})}),[]);var N={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{backgroundColor:n.background}};const z=(0,p.useBlockProps)(N),B={height:S.height};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",z,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",height:parseInt(S.height),style:B},"horizontal"===(T=d)?(0,e.createElement)(gg,{minWidth:sg,enable:{top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},orientation:T,onResizeStart:x,onResize:k,onResizeStop:e=>{C(),a({width:e}),k(null)},isSelected:l,isResizing:f,setIsResizing:v}):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gg,{minHeight:sg,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},orientation:T,onResizeStart:x,onResize:w,onResizeStop:e=>{C(),a(h?{mobile_height:e}:{height:e}),w(null)},isSelected:l,isResizing:f,setIsResizing:v})))))),"Mobile"!==g&&(0,e.createElement)(ug,{attributes:n,setAttributes:a,height:y||b,width:E||m,orientation:d,isResizing:f}),"Mobile"===g&&(0,e.createElement)(mg,{attributes:n,setAttributes:a,height:y||b,width:E||m,orientation:d,isResizing:f}));var T},save:function(t){let{attributes:n}=t;var l={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{backgroundColor:n.background}};const a=p.useBlockProps.save(l),o={height:n.height};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",a,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",height:parseInt(n.height),style:o})))))}});let bg={hasBorder:{type:"boolean",default:!0},hasFixedLayout:{type:"boolean",default:!0},caption:{type:"string",source:"html",selector:"figcaption",default:""},head:{type:"array",default:[],source:"query",selector:"thead tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},tag:{type:"string",default:"td",source:"tag"},scope:{type:"string",source:"attribute",attribute:"scope"},align:{type:"string",source:"attribute",attribute:"data-align"},colspan:{type:"string",source:"attribute",attribute:"colspan"},rowspan:{type:"string",source:"attribute",attribute:"rowspan"}}}}},body:{type:"array",default:[],source:"query",selector:"tbody tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},tag:{type:"string",default:"td",source:"tag"},scope:{type:"string",source:"attribute",attribute:"scope"},align:{type:"string",source:"attribute",attribute:"data-align"},colspan:{type:"string",source:"attribute",attribute:"colspan"},rowspan:{type:"string",source:"attribute",attribute:"rowspan"}}}}},foot:{type:"array",default:[],source:"query",selector:"tfoot tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},tag:{type:"string",default:"td",source:"tag"},scope:{type:"string",source:"attribute",attribute:"scope"},align:{type:"string",source:"attribute",attribute:"data-align"},colspan:{type:"string",source:"attribute",attribute:"colspan"},rowspan:{type:"string",source:"attribute",attribute:"rowspan"}}}}},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.table.fontsize},lineheight:{type:"number",default:vo.table.lineheight},background:{type:"string"},background2:{type:"string"},backgroundhead:{type:"string"},backgroundfoot:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},border:{type:"string"},margin:{type:"object",default:vo.table.margin},padding:{type:"object",default:vo.table.padding},style:{type:"string",default:"default"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"},inherited:{type:"boolean",default:!1}};vo.mobile.table&&(bg.mobile_size={type:"string",default:vo.mobile.table.fontsize},bg.mobile_lineheight={type:"number",default:vo.mobile.table.lineheight},bg.mobile_margin={type:"object",default:vo.mobile.table.margin},bg.mobile_padding={type:"object",default:vo.mobile.table.padding});const _g=bg;var fg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})),vg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})),yg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})),wg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,e.createElement)(ba.Path,{d:"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84zM6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z"})),Eg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,e.createElement)(ba.Path,{d:"M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm6.4 0H7.68v3.84h5.12V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.056H1.28v9.024H19.2V6.336z"})),kg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,e.createElement)(ba.Path,{d:"M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z"})),xg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,e.createElement)(ba.Path,{d:"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z"})),Cg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,e.createElement)(ba.Path,{d:"M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm0 5.12H1.28v3.84H6.4V6.4zm0 5.12H1.28v3.84H6.4v-3.84zM19.2 1.28H7.68v14.08H19.2V1.28z"})),Sg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,e.createElement)(ba.Path,{d:"M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z"})),Ng=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M4 6v11.5h16V6H4zm1.5 1.5h6V11h-6V7.5zm0 8.5v-3.5h6V16h-6zm13 0H13v-3.5h5.5V16zM13 11V7.5h5.5V11H13z"})),zg=(0,e.createElement)(ba.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(ba.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"}));const Bg=["align"];function Tg(e,t,n){if(!t)return e;const l=Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return["head","body","foot"].includes(t)}))),{sectionName:a,rowIndex:o}=t;return Object.fromEntries(Object.entries(l).map((e=>{let[l,i]=e;return a&&a!==l?[l,i]:[l,i.map(((e,a)=>o&&o!==a?e:{cells:e.cells.map(((e,o)=>function(e,t){if(!e||!t)return!1;switch(t.type){case"column":return"column"===t.type&&e.columnIndex===t.columnIndex;case"cell":return"cell"===t.type&&e.sectionName===t.sectionName&&e.columnIndex===t.columnIndex&&e.rowIndex===t.rowIndex}}({sectionName:l,columnIndex:o,rowIndex:a},t)?n(e):e))}))]})))}function Pg(e,t){let{sectionName:n,rowIndex:l,columnCount:a}=t;const o=function(e){return Ig(e.head)?Ig(e.body)?Ig(e.foot)?void 0:e.foot[0]:e.body[0]:e.head[0]}(e),i=void 0===a?o?.cells?.length:a;return i?{[n]:[...e[n].slice(0,l),{cells:Array.from({length:i}).map(((e,t)=>{var l;const a=null!==(l=o?.cells?.[t])&&void 0!==l?l:{};return{...Object.fromEntries(Object.entries(a).filter((e=>{let[t]=e;return Bg.includes(t)}))),content:"",tag:"head"===n?"th":"td"}}))},...e[n].slice(l)]}:e}function Ag(e,t){var n;return Ig(e[t])?Pg(e,{sectionName:t,rowIndex:0,columnCount:null!==(n=e.body?.[0]?.cells?.length)&&void 0!==n?n:1}):{[t]:[]}}function Ig(e){return!e||!e.length||e.every(Rg)}function Rg(e){return!(e.cells&&e.cells.length)}const Mg=t=>{const{attributes:n,setAttributes:l}=t,{head:a,foot:o,hasBorder:r}=n,c="stripes"===n.style;let u="",d="",m="",g="";a&&a.length&&(u={value:"backgroundhead",label:"Header background"}),o&&o.length&&(d={value:"backgroundfoot",label:"Footer background"}),r&&(g={value:"border",label:"Border"}),c&&(m={value:"background2",label:"Stripe background 2"});let p=[{value:"color",label:"Text"},{value:"background",label:c?"Stripe background 1":"Background"},{...m},{...u},{...d},{value:"link",label:"Link",default:vo.colors.primary,required:!0},{...g}];const h=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.table.fontsize,type:"unit"},{value:"lineheight",label:"Line height",default:vo.table.lineheight,type:"number",step:.1,is_single:!0}],b=[{value:"margin",label:"Margin",default:vo.table.margin,type:"boxcontrol"},{value:"padding",label:"Cell spacing",default:vo.table.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,background2:void 0,backgroundhead:void 0,backgroundfoot:void 0,color:void 0,link:vo.colors.primary,border:void 0})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:p})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({lineheight:vo.table.lineheight,font:vo.font,fontsize:vo.table.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:h})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({margin:vo.table.margin,padding:vo.table.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:b})))},Lg=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_size",label:"Font size",default:vo.mobile.table.fontsize,type:"unit"},{value:"mobile_lineheight",label:"Line height",default:vo.mobile.table.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_margin",label:"Margin",default:vo.mobile.table.margin,type:"boxcontrol"},{value:"mobile_padding",label:"Cell spacing",default:vo.mobile.table.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_lineheight:vo.mobile.table.lineheight,mobile_size:vo.mobile.table.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_margin:vo.mobile.table.margin,mobile_padding:vo.mobile.table.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))},Fg=[{icon:fg,title:(0,i.__)("Align column left"),align:"left"},{icon:vg,title:(0,i.__)("Align column center"),align:"center"},{icon:yg,title:(0,i.__)("Align column right"),align:"right"}],Og={head:(0,i.__)("Header cell text"),body:(0,i.__)("Body cell text"),foot:(0,i.__)("Footer cell text")},Hg={head:(0,i.__)("Header label"),foot:(0,i.__)("Footer label")};function Vg(t){let{name:n,...l}=t;const a=`t${n}`;return(0,e.createElement)(a,l)}const Dg=zg;function jg(e){const t=parseInt(e,10);if(Number.isInteger(t))return t<0||1===t?void 0:t.toString()}let $g="core/table";nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&($g="newsletterglue/table");const Wg=e=>{let{phrasingContentSchema:t}=e;return{tr:{allowEmpty:!0,children:{th:{allowEmpty:!0,children:t,attributes:["scope","colspan","rowspan"]},td:{allowEmpty:!0,children:t,attributes:["colspan","rowspan"]}}}}},Ug={from:[{type:"raw",selector:"table",schema:e=>({table:{children:{thead:{allowEmpty:!0,children:Wg(e)},tfoot:{allowEmpty:!0,children:Wg(e)},tbody:{allowEmpty:!0,children:Wg(e)}}}}),transform:e=>{const t=Array.from(e.children).reduce(((e,t)=>{if(!t.children.length)return e;const n=t.nodeName.toLowerCase().slice(1),l=Array.from(t.children).reduce(((e,t)=>{if(!t.children.length)return e;const n=Array.from(t.children).reduce(((e,t)=>{const n=jg(t.getAttribute("rowspan")),l=jg(t.getAttribute("colspan"));return e.push({tag:t.nodeName.toLowerCase(),content:t.innerHTML,rowspan:n,colspan:l}),e}),[]);return e.push({cells:n}),e}),[]);return e[n]=l,e}),{});return(0,bo.createBlock)($g,t)}}]};var Gg=Ug;let qg=!0;nglue_backend.is_allowed_post_type||(qg=!1),qg&&(0,bo.registerBlockType)("newsletterglue/table",{apiVersion:2,title:(0,i.__)("Table","newsletter-glue"),category:"newsletterglue-blocks",icon:Dg,example:{},description:(0,i.__)("Add a table to your email.","newsletter-glue"),keywords:["newsletter","email","table"],attributes:_g,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}=t;const{deviceType:c}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),u="Mobile"===c,{hasFixedLayout:d,head:m,foot:g}=n,[h,b]=(0,e.useState)(2),[_,f]=(0,e.useState)(2),[v,y]=(0,e.useState)(),w=(0,e.useRef)(),[E,k]=(0,e.useState)(!1);function x(e){v&&l(Tg(n,v,(t=>({...t,content:e}))))}function C(e){if(!v)return;const{sectionName:t,rowIndex:a}=v,o=a+e;l(Pg(n,{sectionName:t,rowIndex:o})),y({sectionName:t,rowIndex:o,columnIndex:0,type:"cell"})}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!v)return;const{columnIndex:t}=v,a=t+e;l(function(e,t){let{columnIndex:n}=t;const l=Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return["head","body","foot"].includes(t)})));return Object.fromEntries(Object.entries(l).map((e=>{let[t,l]=e;return Ig(l)?[t,l]:[t,l.map((e=>Rg(e)||e.cells.length<n?e:{cells:[...e.cells.slice(0,n),{content:"",tag:"head"===t?"th":"td"},...e.cells.slice(n)]}))]})))}(n,{columnIndex:a})),y({rowIndex:0,columnIndex:a,type:"cell"})}(0,e.useEffect)((()=>{o||y()}),[o]),(0,e.useEffect)((()=>{E&&(w?.current?.querySelector('td[contentEditable="true"]')?.focus(),k(!1))}),[E]);const N=["head","body","foot"].filter((e=>!Ig(n[e]))),z=[{icon:wg,title:(0,i.__)("Insert row before"),isDisabled:!v,onClick:function(){C(0)}},{icon:Eg,title:(0,i.__)("Insert row after"),isDisabled:!v,onClick:function(){C(1)}},{icon:kg,title:(0,i.__)("Delete row"),isDisabled:!v,onClick:function(){if(!v)return;const{sectionName:e,rowIndex:t}=v;y(),l(function(e,t){let{sectionName:n,rowIndex:l}=t;return{[n]:e[n].filter(((e,t)=>t!==l))}}(n,{sectionName:e,rowIndex:t}))}},{icon:xg,title:(0,i.__)("Insert column before"),isDisabled:!v,onClick:function(){S(0)}},{icon:Cg,title:(0,i.__)("Insert column after"),isDisabled:!v,onClick:function(){S(1)}},{icon:Sg,title:(0,i.__)("Delete column"),isDisabled:!v,onClick:function(){if(!v)return;const{sectionName:e,columnIndex:t}=v;y(),l(function(e,t){let{columnIndex:n}=t;const l=Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return["head","body","foot"].includes(t)})));return Object.fromEntries(Object.entries(l).map((e=>{let[t,l]=e;return Ig(l)?[t,l]:[t,l.map((e=>({cells:e.cells.length>=n?e.cells.filter(((e,t)=>t!==n)):e.cells}))).filter((e=>e.cells.length))]})))}(n,{sectionName:e,columnIndex:t}))}}];var B=n.color?n.color:vo.color,T=0;const P=u?n.mobile_padding:n.padding,A=N.map((t=>(0,e.createElement)(Vg,{name:t,key:t},n[t].map(((l,a)=>{let{cells:o}=l;var i=!1;return"body"===t&&T++%2&&(i=!0),(0,e.createElement)("tr",{key:a},o.map(((l,o)=>{let{content:r,tag:s,scope:c,align:d,colspan:m,rowspan:g}=l;var h="left",b={fontFamily:nglue_backend.font_names[n.font.key],textAlign:d||h,fontSize:u?n.mobile_size:n.fontsize,lineHeight:u?n.mobile_lineheight:n.lineheight,color:B,backgroundColor:n.background,borderWidth:n.hasBorder?"1px":"0px",borderStyle:"solid",borderColor:n.border?n.border:n.color,paddingTop:P.top,paddingBottom:P.bottom,paddingLeft:P.left,paddingRight:P.right};return"head"===t&&n.backgroundhead&&(b.backgroundColor=n.backgroundhead),"foot"===t&&n.backgroundfoot&&(b.backgroundColor=n.backgroundfoot),i&&"stripes"===n.style&&(b.backgroundColor=n.background2),(0,e.createElement)(p.RichText,{tagName:s,key:o,align:d||h,style:b,className:ko()({},"ng-block-td","wp-block-table__cell-content"),scope:"th"===s?c:void 0,colSpan:m,rowSpan:g,value:r,onChange:x,onFocus:()=>{y({sectionName:t,rowIndex:a,columnIndex:o,type:"cell"})},"aria-label":Og[t],placeholder:Hg[t]})})))}))))),I=!N.length;var R={borderCollapse:"collapse"};d&&(R.width="100%",R.tableLayout="fixed");const M=u?n.mobile_margin:n.margin;return(0,e.createElement)("figure",(0,p.useBlockProps)({ref:w,className:"ng-block"}),!I&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{label:(0,i.__)("Change column alignment"),alignmentControls:Fg,value:function(){if(v)return function(e,t,n){const{sectionName:l,rowIndex:a,columnIndex:o}=t;return e[l]?.[a]?.cells?.[o]?.align}(n,v)}(),onChange:e=>function(e){if(!v)return;const t={type:"column",columnIndex:v.columnIndex},a=Tg(n,t,(t=>({...t,align:e})));l(a)}(e)})),(0,e.createElement)(p.BlockControls,{group:"other"},(0,e.createElement)(s.ToolbarDropdownMenu,{hasArrowIndicator:!0,icon:Ng,label:(0,i.__)("Edit table"),controls:z}))),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==c&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Styles"),className:"blocks-table-settings"},(0,e.createElement)(s.__experimentalToggleGroupControl,{value:n.style,onChange:e=>l({style:e}),isBlock:!0},(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"default",label:(0,i.__)("Default")}),(0,e.createElement)(s.__experimentalToggleGroupControlOption,{value:"stripes",label:(0,i.__)("Stripes")}))),(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Settings"),className:"blocks-table-settings"},(0,e.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Fixed width table cells"),checked:!!d,onChange:function(){l({hasFixedLayout:!d})}}),!I&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Header section"),checked:!(!m||!m.length),onChange:function(){l(Ag(n,"head"))}}),(0,e.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Footer section"),checked:!(!g||!g.length),onChange:function(){l(Ag(n,"foot"))}}),(0,e.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Table borders"),checked:n.hasBorder,onChange:e=>{l({hasBorder:e})}})))),"Mobile"!==c&&(0,e.createElement)(Mg,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r}),"Mobile"===c&&(0,e.createElement)(Lg,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:r})),!I&&(0,e.createElement)("div",{className:"ng-table-wrapper ng-block",style:{paddingTop:M.top,paddingBottom:M.bottom,paddingLeft:M.left,paddingRight:M.right,border:"none"}},(0,e.createElement)("table",{width:"100%",cellPadding:0,cellSpacing:0,className:ko()({"has-fixed-layout":d}),style:R},A)),I&&(0,e.createElement)(s.Placeholder,{label:(0,i.__)("Table"),icon:(0,e.createElement)(p.BlockIcon,{icon:zg,showColors:!0}),instructions:(0,i.__)("Insert a table for sharing data.")},(0,e.createElement)("form",{className:"blocks-table__placeholder-form",onSubmit:function(e){e.preventDefault(),l(function(e){let{rowCount:t,columnCount:n}=e;return{body:Array.from({length:t}).map((()=>({cells:Array.from({length:n}).map((()=>({content:"",tag:"td"})))})))}}({rowCount:parseInt(h,10)||2,columnCount:parseInt(_,10)||2})),k(!0)}},(0,e.createElement)(s.TextControl,{__nextHasNoMarginBottom:!0,type:"number",label:(0,i.__)("Column count"),value:_,onChange:function(e){f(e)},min:"1",className:"blocks-table__placeholder-input"}),(0,e.createElement)(s.TextControl,{__nextHasNoMarginBottom:!0,type:"number",label:(0,i.__)("Row count"),value:h,onChange:function(e){b(e)},min:"1",className:"blocks-table__placeholder-input"}),(0,e.createElement)(s.Button,{className:"blocks-table__placeholder-button",variant:"primary",type:"submit"},(0,i.__)("Create Table")))))},save:function(t){let{attributes:n}=t;const{hasFixedLayout:l,head:a,body:o,foot:i}=n;if(!a.length&&!o.length&&!i.length)return null;const r=(0,p.__experimentalGetColorClassesAndStyles)(n),s=(0,p.__experimentalGetBorderClassesAndStyles)(n),c=ko()(r.className,s.className,{"has-fixed-layout":l});var u=n.color?n.color:vo.color;const d=n.padding,m=t=>{let{type:l,rows:a}=t;if(!a.length)return null;const o=`t${l}`;var i=0;return(0,e.createElement)(o,null,a.map(((t,a)=>{let{cells:o}=t;var r=!1;return"body"===l&&i++%2&&(r=!0),(0,e.createElement)("tr",{key:a},o.map(((t,a)=>{let{content:o,tag:i,scope:s,align:c,colspan:m,rowspan:g}=t;const h=ko()({"ng-block-td":!0});var b="left",_={fontFamily:nglue_backend.font_names[n.font.key],textAlign:c||b,fontSize:n.fontsize,lineHeight:n.lineheight,color:u,backgroundColor:n.background,borderWidth:n.hasBorder?"1px":"0px",borderStyle:"solid",borderColor:n.border?n.border:n.color,paddingTop:d.top,paddingBottom:d.bottom,paddingLeft:d.left,paddingRight:d.right};return"head"===l&&n.backgroundhead&&(_.backgroundColor=n.backgroundhead),"foot"===l&&n.backgroundfoot&&(_.backgroundColor=n.backgroundfoot),r&&"stripes"===n.style&&(_.backgroundColor=n.background2),(0,e.createElement)(p.RichText.Content,{align:c||b,style:_,className:h||void 0,"data-align":c,tagName:i,value:o,key:a,scope:"th"===i?s:void 0,colSpan:m,rowSpan:g})})))})))};var g={borderCollapse:"collapse"};l&&(g.width="100%",g.tableLayout="fixed");const h=n.margin;return(0,e.createElement)("figure",p.useBlockProps.save({className:"ng-block"}),(0,e.createElement)("div",{className:"ng-table-wrapper ng-block",style:{paddingTop:h.top,paddingBottom:h.bottom,paddingLeft:h.left,paddingRight:h.right,border:"none"}},(0,e.createElement)("table",{width:"100%",cellPadding:0,cellSpacing:0,className:""===c?void 0:c,style:g},(0,e.createElement)(m,{type:"head",rows:a}),(0,e.createElement)(m,{type:"body",rows:o}),(0,e.createElement)(m,{type:"foot",rows:i}))))},transforms:Gg});let Yg={content:{type:"string",source:"html",selector:"p",default:"",role:"content"},background:{type:"string"},color:{type:"string"},link:{type:"string",default:vo.colors.primary},padding:{type:"object",default:vo.block.padding},font:{type:"object",default:vo.font},fontsize:{type:"string",default:vo.block.fontsize},lineheight:{type:"number",default:vo.lineheight},fontweight:{type:"object",default:vo.fontweight},align:{type:"string",default:"none"},placeholder:{type:"string"},show_in_web:{type:"boolean",default:!0},show_in_email:{type:"boolean",default:!0},viewport:{type:"string",default:"Desktop"},inherited:{type:"boolean",default:!1}};vo.mobile.paragraph&&(Yg.mobile_p_size={type:"string",default:vo.mobile.paragraph.fontsize},Yg.mobile_p_lineheight={type:"number",default:vo.mobile.paragraph.lineheight},Yg.mobile_p_padding={type:"object",default:vo.mobile.paragraph.padding});const Zg=Yg,Kg=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"color",label:"Text"},{value:"background",label:"Background"},{value:"link",label:"Link",default:vo.colors.primary,required:!0}],o=[{value:"font",label:"Font family",default:vo.font,type:"customselect",options:Wo},{value:"fontsize",label:"Font size",default:vo.block.fontsize,type:"unit"},{value:"lineheight",label:"Line height",default:vo.lineheight,type:"number",step:.1,is_single:!0}],r=[{value:"padding",label:"Padding",default:vo.block.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Colors"),resetAll:()=>{l({background:void 0,color:void 0,link:vo.colors.primary})},hasInnerWrapper:!0,className:"color-block-support-panel"},(0,e.createElement)(To,{attributes:n,setAttributes:l,colors:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({lineheight:vo.lineheight,font:vo.font,fontsize:vo.block.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({padding:vo.block.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:r})))},Qg=t=>{const{attributes:n,setAttributes:l}=t,a=[{value:"mobile_p_size",label:"Font size",default:vo.mobile.paragraph.fontsize,type:"unit"},{value:"mobile_p_lineheight",label:"Line height",default:vo.mobile.paragraph.lineheight,type:"number",step:.1,is_single:!0}],o=[{value:"mobile_p_padding",label:"Padding",default:vo.mobile.paragraph.padding,type:"boxcontrol"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Typography"),resetAll:()=>{l({mobile_p_lineheight:vo.mobile.paragraph.lineheight,mobile_p_size:vo.mobile.paragraph.fontsize})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:a})),(0,e.createElement)(s.__experimentalToolsPanel,{label:(0,i.__)("Spacing"),resetAll:()=>{l({mobile_p_padding:vo.mobile.paragraph.padding})}},(0,e.createElement)(jo,{attributes:n,setAttributes:l,settings:o})))};function Xg(t){const{batch:n}=(0,Co.useRegistry)(),{moveBlocksToPosition:l,replaceInnerBlocks:a,duplicateBlocks:o,insertBlock:i}=(0,Co.useDispatch)(p.store),{getBlockRootClientId:r,getBlockIndex:s,getBlockOrder:c,getBlockName:u,getBlock:d,getNextBlockClientId:m}=(0,Co.useSelect)(p.store),g=(0,e.useRef)(t);return g.current=t,(0,xo.useRefEffect)((e=>{function t(e){if(e.defaultPrevented)return;if(e.keyCode!==zo.ENTER)return;const{content:t,clientId:p}=g.current;if(t.length)return;const h=r(p);if(!(0,bo.hasBlockSupport)(u(h),"__experimentalOnEnter",!1))return;const b=c(h);e.preventDefault();const _=b.indexOf(p);if(_===b.length-1)return void l([p],h,r(h),s(h)+1);const f=d(h);n((()=>{o([h]);const e=s(h);a(h,f.innerBlocks.slice(0,_)),a(m(h),f.innerBlocks.slice(_+1)),i((0,bo.createBlock)("newsletterglue/text"),e+1,r(h),!0)}))}return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}),[])}const Jg=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"}));let ep="core/paragraph";nglue_backend.is_allowed_post_type&&"no"===nglue_backend.core_post_type&&(ep="newsletterglue/text");const tp={from:[{type:"raw",priority:20,selector:"p",schema:e=>{let{phrasingContentSchema:t,isPaste:n}=e;return{p:{children:t,attributes:n?[]:["style","id"]}}},transform(e){const t=(0,bo.getBlockAttributes)(ep,e.outerHTML),{textAlign:n}=e.style||{};return"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,bo.createBlock)(ep,t)}}]};var np=tp;let lp=!0;nglue_backend.is_allowed_post_type||(lp=!1),lp&&(0,bo.registerBlockType)("newsletterglue/text",{apiVersion:2,title:(0,i.__)("Text","newsletter-glue"),category:"newsletterglue-blocks",icon:Jg,example:{attributes:{content:(0,i.__)("In a village of La Mancha, the name of which I have no desire to call to mind, there lived not long since one of those gentlemen that keep a lance in the lance-rack, an old buckler, a lean hack, and a greyhound for coursing.")}},description:(0,i.__)("Add text to your email.","newsletter-glue"),keywords:["newsletter","email","text"],attributes:Zg,edit:function(t){let{attributes:n,setAttributes:l,className:a,isSelected:o,onReplace:r,onRemove:s,mergeBlocks:c,clientId:u}=t;const{deviceType:d}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]),m="Mobile"===d;var g=n.color?n.color:vo.color;const{content:h}=n;var b={ref:Xg({clientId:u,content:h}),width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:g,backgroundColor:n.background}};const _=(0,p.useBlockProps)(b);let f=m?n.mobile_p_size:n.fontsize;"string"!=typeof f||f.includes("px")||(f+="px");const v={fontSize:f,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:m?n.mobile_p_lineheight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:m?n.mobile_p_padding.top:n.padding.top,paddingBottom:m?n.mobile_p_padding.bottom:n.padding.bottom,paddingLeft:m?n.mobile_p_padding.left:n.padding.left,paddingRight:m?n.mobile_p_padding.right:n.padding.right,textAlign:n.align,color:g};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.BlockControls,{group:"block"},(0,e.createElement)(p.AlignmentControl,{value:n.align,onChange:e=>{l({align:void 0===e?"none":e})}})),(0,e.createElement)(p.InspectorControls,null,"Mobile"!==d&&(0,e.createElement)(Kg,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:u}),"Mobile"===d&&(0,e.createElement)(Qg,{attributes:n,setAttributes:l,className:a,isSelected:o,clientId:u})),(0,e.createElement)("table",E({},_,{"data-empty":!n.content}),(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:v},(0,e.createElement)(p.RichText,{identifier:"content",tagName:"p",value:n.content,onChange:e=>l({content:e}),onMerge:c,onReplace:r,onRemove:s,"data-empty":!n.content,placeholder:n.placeholder||(0,i.__)("Type / to choose a block","newsletter-glue"),"data-custom-placeholder":!!n.placeholder||void 0,__unstableEmbedURLOnPaste:!0,__unstableAllowPrefixTransformations:!0}))))))},save:function(t){let{attributes:n}=t;const l=n.color?n.color:vo.color;var a={width:"100%",cellPadding:0,cellSpacing:0,className:"ng-block",bgcolor:n.background,style:{color:l,backgroundColor:n.background}};const o=p.useBlockProps.save(a);let i=n.fontsize;"string"!=typeof i||i.includes("px")||(i+="px");const r={fontSize:i,fontFamily:nglue_backend.font_names[n.font.key],lineHeight:n.lineheight,fontWeight:n.fontweight.key,paddingTop:n.padding.top,paddingBottom:n.padding.bottom,paddingLeft:n.padding.left,paddingRight:n.padding.right,textAlign:n.align,color:l};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("table",o,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",{className:"ng-block-td",align:n.align,style:r},(0,e.createElement)(p.RichText.Content,{tagName:"p",value:n.content}))))))},transforms:np,supports:{__experimentalSelector:"p",__unstablePasteTextInline:!0,__experimentalSlashInserter:!0,splitting:!0},usesContext:["container/color"],merge(e,t){return{content:(e.content||"")+(t.content||"")}}});var ap=window.wp.hooks,op=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),ip=(0,e.createElement)(ba.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(ba.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"}));const rp=t=>{const{clientId:n,name:l}=t;let a=function(e){let t=e.replace("newsletterglue/","");return t=t.charAt(0).toUpperCase()+t.slice(1),t=t.replace("-"," "),"Showhide"===t&&(t="Show/hide"),"Optin"===t&&(t="Subscriber form"),t}(l);return(0,e.createElement)("div",null,(0,e.createElement)("p",null,"Do you want to apply these settings to all visible ",(0,e.createElement)("strong",null,a)," blocks in this ",(0,e.createElement)("strong",null,"Campaign"),"?"),(0,e.createElement)(s.Button,{className:"ng-component-button",onClick:()=>function(e){const t=(0,Co.select)("core/block-editor").getBlock(e),n=["content","citation","text","posts","hash","custom_data","filter","contentstyle","posts_num","words_num","postlength","columns_num","sortby","dates","hidden_posts","filter_authors","filter_cpts","filter_categories","filter_tags","week_starts","starts_time","two_weeks_starts","month_starts","update_posts","taxonomies","containerWidth","itemBase","div1","div2","embeds","embeds_order"];if(t){const l=t.name,a=t.attributes,o=(0,Co.select)("core/block-editor").getBlocks(),i=[];let r=0;if("newsletterglue/heading"===l&&(r=a.level),o.forEach((t=>{t.name&&t.name===l&&t.clientId!==e&&(!r||t.attributes.level&&r===t.attributes.level)&&i.push(t),t.innerBlocks.length&&t.innerBlocks.forEach((n=>{n.name&&n.name===l&&n.clientId!==e&&(!r||t.attributes.level&&r===t.attributes.level)&&i.push(n)}))})),i){let e=[];Object.keys(a).map((function(t){n.includes(t)||(e[t]=a[t])})),i.forEach((t=>{(0,Co.dispatch)("core/block-editor").updateBlockAttributes(t.clientId,e)}))}}}(n),variant:"secondary",text:(0,i.__)("Apply"),size:"small"}))},sp=["newsletterglue/list-item","newsletterglue/button"];function cp(t){const{attributes:n,setAttributes:l}=t,a=newsletterglue_block_show_hide_content.showconditions,o=JSON.parse(newsletterglue_block_show_hide_content.operators),i=o.filter((e=>e.for.split(",").includes("tag"))),r=o.filter((e=>e.for.split(",").includes("field"))),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)([]),[g,p]=(0,e.useState)([]);0===d.length&&newsletterglue_meta?.custom_tags?.length&&m(newsletterglue_meta.custom_tags),0===g.length&&newsletterglue_meta?.custom_fields?.length&&p(newsletterglue_meta.custom_fields);let h=newsletterglue_meta?.app,b=()=>{};const _=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=[...n[`${h}_conditions`]];a?o.splice(e,1):o[e]=t,l({[`${h}_conditions`]:o})};return n.show_in_email&&a&&(b=()=>(0,e.createElement)(s.BaseControl,{label:"Conditional content",className:"ngl-conditional-content "+(c?"is-loading":""),help:"Note: Preview in browser will always display this content. Send a test campaign to test conditional content."},(0,e.createElement)(s.BaseControl,{label:"Show email content based on these conditions:"},n[`${h}_conditions`].map(((t,n)=>{let l="Set condition";if("tag"==t.key)t.value&&(l="Tag: "+t.value);else if("manual"==t.key)t.key_manual&&(l=t.key_manual);else if(t.key){let e=t.key;"aweber"==h&&(e.includes("subscriber.")&&(e=e.replace("subscriber.","")),e.includes("custom_field")&&(e=e.replace('custom_field["',"").replace('"]',""))),l=e}return(0,e.createElement)(s.Card,{key:`nglcard-${n}`,className:`ngl-condition-${n}`},(0,e.createElement)(s.CardHeader,{title:l,onClick:e=>{const t=e.target;t.classList.contains("dashicon")||t.closest(".components-card").classList.toggle("is-active")}},(0,e.createElement)("span",null,l),(0,e.createElement)(s.Button,{isSmall:!0,className:"btn-remove",icon:"no",onClick:()=>{_(n,{},!0)}})),(0,e.createElement)(s.CardBody,null,(0,e.createElement)(s.SelectControl,{value:t.key,options:g,onChange:e=>{_(n,{key:e,key_manual:"",operator:"",value:"",relationship:t.relationship})}}),"manual"==t.key&&(0,e.createElement)(s.TextControl,{placeholder:"Enter your field key",value:t.key_manual,onChange:e=>{_(n,{key:t.key,key_manual:e,operator:"",value:"",relationship:t.relationship})}}),t.key&&("manual"==t.key&&t.key_manual||"manual"!=t.key)&&(0,e.createElement)(s.SelectControl,{value:t.operator,options:"tag"==t.key?i:"manual"==t.key?o:r,onChange:e=>{_(n,{key:t.key,key_manual:t.key_manual,operator:e,value:"",relationship:t.relationship})}}),t.key&&"tag"!=t.key&&t.operator&&"and"!=t.operator&&"or"!=t.operator&&("manual"==t.key||"ex"!=t.operator&&"nex"!=t.operator)&&(0,e.createElement)(s.TextControl,{placeholder:"Enter your value",help:"manual"==t.key?"For multiple values use exactly the same pattern. List: value1, value2, value3":"",value:t.value,onChange:e=>{_(n,{key:t.key,key_manual:t.key_manual,operator:t.operator,value:e,relationship:t.relationship})}}),t.key&&"tag"!=t.key&&t.operator&&("and"==t.operator||"or"==t.operator)&&(0,e.createElement)(s.SelectControl,{value:t.value,options:g,onChange:e=>{_(n,{key:t.key,key_manual:t.key_manual,operator:t.operator,value:e,relationship:t.relationship})}}),t.key&&t.operator&&"tag"==t.key&&(0,e.createElement)(s.SelectControl,{multiple:!0,value:t.value,style:{height:"auto"},options:d,onChange:e=>{_(n,{key:t.key,key_manual:t.key_manual,operator:t.operator,value:e,relationship:t.relationship})}}),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.__experimentalRadioGroup,{checked:t.relationship,onChange:e=>{_(n,{key:t.key,key_manual:t.key_manual,operator:t.operator,value:t.value,relationship:e})}},(0,e.createElement)(s.__experimentalRadio,{value:"AND"}),!["campaignmonitor","mailchimp","moosend","sendgrid"].includes(h)&&(0,e.createElement)(s.__experimentalRadio,{value:"OR"})))))}))),(0,e.createElement)(s.BaseControl,null,(0,e.createElement)(s.ButtonGroup,{className:"ngl-gutenberg--fullwidth"},(0,e.createElement)(s.Button,{text:"Add new condition",variant:"secondary",className:"btn-add-condition",onClick:()=>{const e=n[`${h}_conditions`];l({[`${h}_conditions`]:[...e,{key:"",key_manual:"",operator:"",value:"",relationship:"AND"}]})}}),(0,e.createElement)(s.Button,{text:"Refresh",variant:"secondary",showTooltip:!0,label:"Fetch tags/custom fields from API",className:"btn-refresh",style:{justifyContent:"flex-end"},onClick:async()=>{u(!0),await fetch(newsletterglue_params.ajaxurl,{method:"POST",body:new URLSearchParams({action:"newsletterglue_block_show_hide_refresh",security:newsletterglue_params.ajaxnonce})}).then((e=>e.json())).then((e=>{u(!1),e.success?(e.data?.custom_tag_list?.length&&m(e.data.custom_tag_list),e.data?.custom_field_list?.length&&p(e.data.custom_field_list)):alert(e.message)}))}}))))),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.__experimentalSpacer,{marginBottom:4}),b())}(0,bo.updateCategory)("newsletterglue-blocks",{icon:(0,e.createElement)(Oa,{icon:Ca,size:20})});const up=(0,xo.createHigherOrderComponent)((t=>n=>{const{name:l,attributes:a}=n;let o=!1;o=-1!==l.indexOf("newsletterglue/")&&!["newsletterglue/list-item"].includes(l)&&a.viewport,"newsletterglue/image"!==l||a.url||(o=!1),"newsletterglue/sections"!==l||a.layout||(o=!1),"newsletterglue/embed"!==l||a.content||(o=!1);const{deviceType:i}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]);return o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.TabPanel,{className:"block-editor-block-inspector__tabs",activeClass:"is-active",onSelect:e=>{(0,Co.dispatch)("core/editor").setDeviceType(e)},initialTabName:"Mobile"===i?"Mobile":"Desktop",tabs:[{name:"Desktop",title:"Desktop",className:"block-editor-block-inspector__tab-item",icon:op},{name:"Mobile",title:"Mobile",className:"block-editor-block-inspector__tab-item",icon:ip}]},(()=>{}))),(0,e.createElement)(t,n)):(0,e.createElement)(t,n)}),"withInspectorControl"),dp=(0,xo.createHigherOrderComponent)((t=>n=>{const{name:l,attributes:a}=n;let o=!1;return o=-1!==l.indexOf("newsletterglue/")&&!["newsletterglue/list-item","newsletterglue/social-icon"].includes(l),"newsletterglue/image"!==l||a.url||(o=!1),"newsletterglue/sections"!==l||a.layout||(o=!1),"newsletterglue/embed"!==l||a.content||(o=!1),o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,n),(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(rp,n)))):(0,e.createElement)(t,n)}),"withInspectorControl"),mp=(0,xo.createHigherOrderComponent)((t=>n=>{const{attributes:l,setAttributes:a,name:o}=n,{deviceType:r}=(0,Co.useSelect)((e=>{const{getDeviceType:t}=e("core/editor")?e("core/editor"):e("core/edit-site");return{deviceType:t()}}),[]);let c=!1;c=-1!==o.indexOf("newsletterglue/")&&!sp.includes(o)&&"Mobile"!==r,"newsletterglue/image"!==o||l.url||(c=!1),"newsletterglue/sections"!==o||l.layout||(c=!1),"newsletterglue/embed"!==o||l.content||(c=!1),"newsletterglue/social-icon"===o&&(c=!1);const u="newsletterglue/optin"===o&&(0,i.__)("Only heading, description and button will be displayed in email newsletter. When clicked, button will take user to the form on the page.");return c?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,n),(0,e.createElement)(p.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Show/hide block","newsletter-glue"),initialOpen:!0,className:"ngl-panel-body"},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Show in blog post","newsletter-glue"),checked:l.show_in_web,onChange:e=>{a({show_in_web:e})}})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.ToggleControl,{label:(0,i.__)("Show in email newsletter ","newsletter-glue"),checked:l.show_in_email,help:u,onChange:e=>{a({show_in_email:e})}})),["newsletterglue/container","newsletterglue/showhide"].includes(o)&&(0,e.createElement)(cp,{attributes:l,setAttributes:a})))):(0,e.createElement)(t,n)}),"withInspectorControl");(0,ap.addFilter)("editor.BlockEdit","newsletterglue/add-tabs",up),(0,ap.addFilter)("editor.BlockEdit","newsletterglue/add-copy-feature",dp),(0,ap.addFilter)("editor.BlockEdit","newsletterglue/add-visibility-settings",mp);var gp=window.wp.editor,pp=window.wp.plugins;function hp(e){let t;return t=["title"].includes(e)?(0,Co.useSelect)((t=>t("core/editor").getEditedPostAttribute(e))):(0,Co.useSelect)((t=>t("core/editor").getEditedPostAttribute("meta")[e])),t}const bp=t=>{const{editPost:n}=(0,Co.useDispatch)("core/editor"),{settings:l}=t;return(0,e.createElement)(e.Fragment,null,l.map((function(t,l){return(0,e.createElement)(s.PanelRow,{key:`item-${l}`},"radio"===t.type&&(0,e.createElement)(s.RadioControl,{label:t.label?t.label:void 0,help:t.help?t.help:void 0,selected:hp(t.metakey)||t.fallback,options:t.options,onChange:e=>{t.is_meta?n({meta:{[t.metakey]:e}}):n({[t.metakey]:e})}}),"text"===t.type&&(0,e.createElement)(s.TextControl,{id:`newsletterglue_${t.metakey}`,label:t.label?t.label:void 0,help:t.help?t.help:void 0,value:hp(t.metakey),onChange:e=>{t.is_meta?n({meta:{[t.metakey]:e}}):n({[t.metakey]:e})},placeholder:t.placeholder_from_post?hp(t.placeholder_from_post):t.placeholder}))})))};(0,pp.registerPlugin)("ng-settings-plugin",{render:()=>{const n=(0,Co.select)("core/editor").getCurrentPostType();if(!["newsletterglue","ngl_template","ngl_automation","ngl_pattern"].includes(n))return null;const l=[{type:"text",label:(0,i.__)("Title","newsletter-glue"),metakey:"title",fallback:(0,i.__)("New campaign","newsletter-glue")},{type:"radio",label:(0,i.__)("Newsletter view","newsletter-glue"),help:(0,i.__)("Which version should people see when click on the newsletter permalink?","newsletter-glue"),metakey:"_webview",options:[{label:"Blog post",value:"blog"},{label:"Email view",value:"email"}],is_meta:!0,fallback:"blog"}];return(0,t.useEffect)((()=>{l.map((function(e){e.is_meta&&e.fallback&&((0,Co.select)("core/editor").getEditedPostAttribute("meta")[e.metakey]||(0,Co.dispatch)("core/editor").editPost({meta:{[e.metakey]:e.fallback}})),!e.is_meta&&e.fallback&&((0,Co.select)("core/editor").getEditedPostAttribute(e.metakey)||(0,Co.dispatch)("core/editor").editPost({[e.metakey]:e.fallback}))}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gp.PluginDocumentSettingPanel,{name:"ng-settings-panel",title:(0,i.__)("Newsletter settings"),className:"ng-sidebar-panel",opened:!1,initialOpen:!0},(0,e.createElement)(bp,{settings:l})))}});const _p=(0,xo.createHigherOrderComponent)((t=>n=>{const l=`wp-elements-${(0,xo.useInstanceId)(t)}`,a=(0,e.useMemo)((()=>{const e=[{styles:n.attributes.link,selector:`.editor-styles-wrapper .ng-block.${l} ${bo.__EXPERIMENTAL_ELEMENTS.link}`}],t=[];for(const{styles:n,selector:l}of e)if(n){const e=l+" { color: "+n+"; }";t.push(e)}return t.length>0?t.join(""):void 0}),[n.attributes,l]),o=document.body;return(0,e.createElement)(e.Fragment,null,a&&o&&(0,e.createPortal)((0,e.createElement)("style",{dangerouslySetInnerHTML:{__html:a}}),o),(0,e.createElement)(t,E({},n,{className:n.attributes?ko()(n.className,l):n.className})))}));(0,ap.addFilter)("editor.BlockListBlock","newsletterglue/editor/css",_p),n(963)}()}();